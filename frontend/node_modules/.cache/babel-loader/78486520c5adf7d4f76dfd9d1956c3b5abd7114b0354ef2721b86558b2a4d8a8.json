{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Knight-Server\\\\Desktop\\\\VerseLink-main\\\\frontend\\\\src\\\\pages\\\\NotificationsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { BellIcon, CheckIcon, Cog6ToothIcon, FunnelIcon, EyeIcon, EyeSlashIcon } from '@heroicons/react/24/outline';\nimport { toast } from 'react-hot-toast';\nimport { notificationService } from '../services/notificationService';\nimport { useAuth } from '../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotificationsPage = () => {\n  _s();\n  const [notifications, setNotifications] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [unreadOnly, setUnreadOnly] = useState(false);\n  const [selectedType, setSelectedType] = useState('all');\n  const [stats, setStats] = useState({});\n  const {\n    user\n  } = useAuth();\n  const filterOptions = [{\n    value: 'all',\n    label: 'Toutes'\n  }, {\n    value: 'event_created',\n    label: 'Événements créés'\n  }, {\n    value: 'event_reminder',\n    label: 'Rappels événements'\n  }, {\n    value: 'tournament_created',\n    label: 'Tournois créés'\n  }, {\n    value: 'match_result',\n    label: 'Résultats matchs'\n  }, {\n    value: 'org_member_joined',\n    label: 'Nouveaux membres'\n  }, {\n    value: 'warning_received',\n    label: 'Avertissements'\n  }, {\n    value: 'strike_received',\n    label: 'Strikes'\n  }, {\n    value: 'reputation_changed',\n    label: 'Réputation'\n  }, {\n    value: 'welcome',\n    label: 'Bienvenue'\n  }, {\n    value: 'system_update',\n    label: 'Mises à jour système'\n  }];\n  useEffect(() => {\n    loadNotifications();\n    loadStats();\n  }, [unreadOnly, selectedType]);\n  const loadNotifications = async () => {\n    try {\n      setLoading(true);\n      const params = {\n        limit: 50,\n        unread_only: unreadOnly\n      };\n      const data = await notificationService.getNotifications(params);\n\n      // Filter by type if selected\n      let filteredData = data;\n      if (selectedType !== 'all') {\n        filteredData = data.filter(notif => notif.type === selectedType);\n      }\n      setNotifications(filteredData);\n    } catch (error) {\n      console.error('Failed to load notifications:', error);\n      toast.error('Erreur lors du chargement des notifications');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadStats = async () => {\n    try {\n      const statsData = await notificationService.getNotificationStats();\n      setStats(statsData);\n    } catch (error) {\n      console.error('Failed to load stats:', error);\n    }\n  };\n  const markAsRead = async notificationId => {\n    try {\n      await notificationService.markAsRead(notificationId);\n\n      // Update local state\n      setNotifications(prev => prev.map(notif => notif.id === notificationId ? {\n        ...notif,\n        is_read: true,\n        read_at: new Date().toISOString()\n      } : notif));\n\n      // Update stats\n      setStats(prev => ({\n        ...prev,\n        unread_count: Math.max(0, prev.unread_count - 1)\n      }));\n      toast.success('Notification marquée comme lue');\n    } catch (error) {\n      console.error('Failed to mark notification as read:', error);\n      toast.error('Erreur lors du marquage de la notification');\n    }\n  };\n  const markAllAsRead = async () => {\n    try {\n      await notificationService.markAllAsRead();\n\n      // Update local state\n      setNotifications(prev => prev.map(notif => ({\n        ...notif,\n        is_read: true,\n        read_at: new Date().toISOString()\n      })));\n\n      // Update stats\n      setStats(prev => ({\n        ...prev,\n        unread_count: 0\n      }));\n      toast.success('Toutes les notifications ont été marquées comme lues');\n    } catch (error) {\n      console.error('Failed to mark all notifications as read:', error);\n      toast.error('Erreur lors du marquage des notifications');\n    }\n  };\n  const getPriorityColor = priority => {\n    switch (priority) {\n      case 'urgent':\n        return 'border-l-red-500 bg-red-900/10';\n      case 'high':\n        return 'border-l-orange-500 bg-orange-900/10';\n      case 'normal':\n        return 'border-l-blue-500 bg-blue-900/10';\n      case 'low':\n        return 'border-l-gray-500 bg-gray-900/10';\n      default:\n        return 'border-l-gray-500 bg-gray-900/10';\n    }\n  };\n  const getTypeIcon = type => {\n    switch (type) {\n      case 'event_created':\n      case 'event_updated':\n      case 'event_reminder':\n        return '📅';\n      case 'tournament_created':\n      case 'tournament_started':\n      case 'match_result':\n        return '🏆';\n      case 'org_member_joined':\n      case 'org_role_changed':\n        return '👥';\n      case 'warning_received':\n      case 'strike_received':\n        return '⚠️';\n      case 'reputation_changed':\n        return '⭐';\n      case 'welcome':\n        return '👋';\n      case 'system_update':\n        return '🔄';\n      default:\n        return '🔔';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-dark-950 py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-3xl font-bold text-white\",\n              children: \"Notifications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400 mt-2\",\n              children: \"G\\xE9rez vos notifications et pr\\xE9f\\xE9rences\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/notifications/preferences\",\n              className: \"inline-flex items-center px-4 py-2 border border-primary-600 rounded-lg text-primary-400 hover:bg-primary-600 hover:text-white transition-colors duration-200\",\n              children: [/*#__PURE__*/_jsxDEV(Cog6ToothIcon, {\n                className: \"w-5 h-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), \"Pr\\xE9f\\xE9rences\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), stats.unread_count > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: markAllAsRead,\n              className: \"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200\",\n              children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n                className: \"w-5 h-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this), \"Tout marquer comme lu (\", stats.unread_count, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-dark-800 rounded-lg p-6 border border-dark-700\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(BellIcon, {\n              className: \"w-8 h-8 text-blue-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-semibold text-white\",\n                children: stats.total_count || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-400\",\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-dark-800 rounded-lg p-6 border border-dark-700\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(EyeSlashIcon, {\n              className: \"w-8 h-8 text-orange-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-semibold text-white\",\n                children: stats.unread_count || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-400\",\n                children: \"Non lues\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-dark-800 rounded-lg p-6 border border-dark-700\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(EyeIcon, {\n              className: \"w-8 h-8 text-green-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-semibold text-white\",\n                children: (stats.total_count || 0) - (stats.unread_count || 0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-400\",\n                children: \"Lues\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-dark-800 rounded-lg p-6 border border-dark-700 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-white mb-4 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(FunnelIcon, {\n            className: \"w-5 h-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), \"Filtres\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: unreadOnly,\n              onChange: e => setUnreadOnly(e.target.checked),\n              className: \"form-checkbox h-4 w-4 text-primary-600 rounded focus:ring-primary-500 focus:ring-offset-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 text-gray-300\",\n              children: \"Non lues seulement\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedType,\n            onChange: e => setSelectedType(e.target.value),\n            className: \"form-select rounded-lg bg-dark-700 border-dark-600 text-white focus:border-primary-500 focus:ring-primary-500\",\n            children: filterOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option.value,\n              children: option.label\n            }, option.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-dark-800 rounded-lg border border-dark-700\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center py-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-spinner w-8 h-8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this) : notifications.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"divide-y divide-dark-700\",\n          children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-6 border-l-4 transition-colors duration-200 ${!notification.is_read ? 'bg-dark-750' : 'hover:bg-dark-750'} ${getPriorityColor(notification.priority)}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start space-x-4 flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0 text-2xl\",\n                  children: getTypeIcon(notification.type)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 min-w-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-start justify-between\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"text-white font-semibold text-lg mb-2\",\n                        children: notification.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 293,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-gray-300 mb-3\",\n                        children: notification.message\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 296,\n                        columnNumber: 29\n                      }, this), notification.priority !== 'normal' && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${notification.priority === 'urgent' ? 'bg-red-900/50 text-red-300 border border-red-500/30' : notification.priority === 'high' ? 'bg-orange-900/50 text-orange-300 border border-orange-500/30' : 'bg-gray-900/50 text-gray-300 border border-gray-500/30'}`,\n                        children: notification.priority === 'urgent' ? 'Urgent' : notification.priority === 'high' ? 'Important' : notification.priority === 'low' ? 'Info' : notification.priority\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 302,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between mt-4 pt-4 border-t border-dark-600\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-400\",\n                      children: notification.time_ago\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-3\",\n                      children: [notification.action_url && /*#__PURE__*/_jsxDEV(Link, {\n                        to: notification.action_url,\n                        className: \"text-sm text-primary-400 hover:text-primary-300 font-medium\",\n                        onClick: () => {\n                          if (!notification.is_read) {\n                            markAsRead(notification.id);\n                          }\n                        },\n                        children: \"Voir \\u2192\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 323,\n                        columnNumber: 31\n                      }, this), !notification.is_read && /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => markAsRead(notification.id),\n                        className: \"inline-flex items-center px-3 py-1 text-sm text-green-400 hover:text-green-300 border border-green-500/30 rounded-lg hover:bg-green-900/20 transition-colors duration-200\",\n                        children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n                          className: \"w-4 h-4 mr-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 341,\n                          columnNumber: 33\n                        }, this), \"Marquer comme lu\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 337,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 19\n            }, this)\n          }, notification.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-12\",\n          children: [/*#__PURE__*/_jsxDEV(BellIcon, {\n            className: \"w-16 h-16 text-gray-600 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-400 mb-2\",\n            children: unreadOnly ? 'Aucune notification non lue' : 'Aucune notification'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: unreadOnly ? 'Toutes vos notifications ont été lues.' : 'Vous recevrez ici les notifications des événements, tournois et activités.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n};\n_s(NotificationsPage, \"pf3yDWeKN/qDXudDCU4h9W9WoK0=\", false, function () {\n  return [useAuth];\n});\n_c = NotificationsPage;\nexport default NotificationsPage;\nvar _c;\n$RefreshReg$(_c, \"NotificationsPage\");","map":{"version":3,"names":["React","useState","useEffect","Link","BellIcon","CheckIcon","Cog6ToothIcon","FunnelIcon","EyeIcon","EyeSlashIcon","toast","notificationService","useAuth","jsxDEV","_jsxDEV","NotificationsPage","_s","notifications","setNotifications","loading","setLoading","unreadOnly","setUnreadOnly","selectedType","setSelectedType","stats","setStats","user","filterOptions","value","label","loadNotifications","loadStats","params","limit","unread_only","data","getNotifications","filteredData","filter","notif","type","error","console","statsData","getNotificationStats","markAsRead","notificationId","prev","map","id","is_read","read_at","Date","toISOString","unread_count","Math","max","success","markAllAsRead","getPriorityColor","priority","getTypeIcon","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","onClick","total_count","checked","onChange","e","target","option","length","notification","title","message","time_ago","action_url","_c","$RefreshReg$"],"sources":["C:/Users/Knight-Server/Desktop/VerseLink-main/frontend/src/pages/NotificationsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { \n  BellIcon, \n  CheckIcon, \n  Cog6ToothIcon,\n  FunnelIcon,\n  EyeIcon,\n  EyeSlashIcon\n} from '@heroicons/react/24/outline';\nimport { toast } from 'react-hot-toast';\nimport { notificationService } from '../services/notificationService';\nimport { useAuth } from '../App';\n\nconst NotificationsPage = () => {\n  const [notifications, setNotifications] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [unreadOnly, setUnreadOnly] = useState(false);\n  const [selectedType, setSelectedType] = useState('all');\n  const [stats, setStats] = useState({});\n  const { user } = useAuth();\n\n  const filterOptions = [\n    { value: 'all', label: 'Toutes' },\n    { value: 'event_created', label: 'Événements créés' },\n    { value: 'event_reminder', label: 'Rappels événements' },\n    { value: 'tournament_created', label: 'Tournois créés' },\n    { value: 'match_result', label: 'Résultats matchs' },\n    { value: 'org_member_joined', label: 'Nouveaux membres' },\n    { value: 'warning_received', label: 'Avertissements' },\n    { value: 'strike_received', label: 'Strikes' },\n    { value: 'reputation_changed', label: 'Réputation' },\n    { value: 'welcome', label: 'Bienvenue' },\n    { value: 'system_update', label: 'Mises à jour système' }\n  ];\n\n  useEffect(() => {\n    loadNotifications();\n    loadStats();\n  }, [unreadOnly, selectedType]);\n\n  const loadNotifications = async () => {\n    try {\n      setLoading(true);\n      const params = {\n        limit: 50,\n        unread_only: unreadOnly\n      };\n      \n      const data = await notificationService.getNotifications(params);\n      \n      // Filter by type if selected\n      let filteredData = data;\n      if (selectedType !== 'all') {\n        filteredData = data.filter(notif => notif.type === selectedType);\n      }\n      \n      setNotifications(filteredData);\n    } catch (error) {\n      console.error('Failed to load notifications:', error);\n      toast.error('Erreur lors du chargement des notifications');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadStats = async () => {\n    try {\n      const statsData = await notificationService.getNotificationStats();\n      setStats(statsData);\n    } catch (error) {\n      console.error('Failed to load stats:', error);\n    }\n  };\n\n  const markAsRead = async (notificationId) => {\n    try {\n      await notificationService.markAsRead(notificationId);\n      \n      // Update local state\n      setNotifications(prev => \n        prev.map(notif => \n          notif.id === notificationId \n            ? { ...notif, is_read: true, read_at: new Date().toISOString() }\n            : notif\n        )\n      );\n      \n      // Update stats\n      setStats(prev => ({\n        ...prev,\n        unread_count: Math.max(0, prev.unread_count - 1)\n      }));\n      \n      toast.success('Notification marquée comme lue');\n    } catch (error) {\n      console.error('Failed to mark notification as read:', error);\n      toast.error('Erreur lors du marquage de la notification');\n    }\n  };\n\n  const markAllAsRead = async () => {\n    try {\n      await notificationService.markAllAsRead();\n      \n      // Update local state\n      setNotifications(prev => \n        prev.map(notif => ({ ...notif, is_read: true, read_at: new Date().toISOString() }))\n      );\n      \n      // Update stats\n      setStats(prev => ({ ...prev, unread_count: 0 }));\n      \n      toast.success('Toutes les notifications ont été marquées comme lues');\n    } catch (error) {\n      console.error('Failed to mark all notifications as read:', error);\n      toast.error('Erreur lors du marquage des notifications');\n    }\n  };\n\n  const getPriorityColor = (priority) => {\n    switch (priority) {\n      case 'urgent':\n        return 'border-l-red-500 bg-red-900/10';\n      case 'high':\n        return 'border-l-orange-500 bg-orange-900/10';\n      case 'normal':\n        return 'border-l-blue-500 bg-blue-900/10';\n      case 'low':\n        return 'border-l-gray-500 bg-gray-900/10';\n      default:\n        return 'border-l-gray-500 bg-gray-900/10';\n    }\n  };\n\n  const getTypeIcon = (type) => {\n    switch (type) {\n      case 'event_created':\n      case 'event_updated':\n      case 'event_reminder':\n        return '📅';\n      case 'tournament_created':\n      case 'tournament_started':\n      case 'match_result':\n        return '🏆';\n      case 'org_member_joined':\n      case 'org_role_changed':\n        return '👥';\n      case 'warning_received':\n      case 'strike_received':\n        return '⚠️';\n      case 'reputation_changed':\n        return '⭐';\n      case 'welcome':\n        return '👋';\n      case 'system_update':\n        return '🔄';\n      default:\n        return '🔔';\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-dark-950 py-8\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-white\">Notifications</h1>\n              <p className=\"text-gray-400 mt-2\">\n                Gérez vos notifications et préférences\n              </p>\n            </div>\n            \n            <div className=\"flex items-center space-x-4\">\n              <Link\n                to=\"/notifications/preferences\"\n                className=\"inline-flex items-center px-4 py-2 border border-primary-600 rounded-lg text-primary-400 hover:bg-primary-600 hover:text-white transition-colors duration-200\"\n              >\n                <Cog6ToothIcon className=\"w-5 h-5 mr-2\" />\n                Préférences\n              </Link>\n              \n              {stats.unread_count > 0 && (\n                <button\n                  onClick={markAllAsRead}\n                  className=\"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200\"\n                >\n                  <CheckIcon className=\"w-5 h-5 mr-2\" />\n                  Tout marquer comme lu ({stats.unread_count})\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          <div className=\"bg-dark-800 rounded-lg p-6 border border-dark-700\">\n            <div className=\"flex items-center\">\n              <BellIcon className=\"w-8 h-8 text-blue-400\" />\n              <div className=\"ml-4\">\n                <p className=\"text-2xl font-semibold text-white\">{stats.total_count || 0}</p>\n                <p className=\"text-gray-400\">Total</p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-dark-800 rounded-lg p-6 border border-dark-700\">\n            <div className=\"flex items-center\">\n              <EyeSlashIcon className=\"w-8 h-8 text-orange-400\" />\n              <div className=\"ml-4\">\n                <p className=\"text-2xl font-semibold text-white\">{stats.unread_count || 0}</p>\n                <p className=\"text-gray-400\">Non lues</p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-dark-800 rounded-lg p-6 border border-dark-700\">\n            <div className=\"flex items-center\">\n              <EyeIcon className=\"w-8 h-8 text-green-400\" />\n              <div className=\"ml-4\">\n                <p className=\"text-2xl font-semibold text-white\">\n                  {(stats.total_count || 0) - (stats.unread_count || 0)}\n                </p>\n                <p className=\"text-gray-400\">Lues</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"bg-dark-800 rounded-lg p-6 border border-dark-700 mb-6\">\n          <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center\">\n            <FunnelIcon className=\"w-5 h-5 mr-2\" />\n            Filtres\n          </h3>\n          \n          <div className=\"flex flex-wrap gap-4\">\n            {/* Unread only toggle */}\n            <label className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                checked={unreadOnly}\n                onChange={(e) => setUnreadOnly(e.target.checked)}\n                className=\"form-checkbox h-4 w-4 text-primary-600 rounded focus:ring-primary-500 focus:ring-offset-0\"\n              />\n              <span className=\"ml-2 text-gray-300\">Non lues seulement</span>\n            </label>\n            \n            {/* Type filter */}\n            <select\n              value={selectedType}\n              onChange={(e) => setSelectedType(e.target.value)}\n              className=\"form-select rounded-lg bg-dark-700 border-dark-600 text-white focus:border-primary-500 focus:ring-primary-500\"\n            >\n              {filterOptions.map((option) => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        {/* Notifications List */}\n        <div className=\"bg-dark-800 rounded-lg border border-dark-700\">\n          {loading ? (\n            <div className=\"flex items-center justify-center py-12\">\n              <div className=\"loading-spinner w-8 h-8\"></div>\n            </div>\n          ) : notifications.length > 0 ? (\n            <div className=\"divide-y divide-dark-700\">\n              {notifications.map((notification) => (\n                <div\n                  key={notification.id}\n                  className={`p-6 border-l-4 transition-colors duration-200 ${\n                    !notification.is_read ? 'bg-dark-750' : 'hover:bg-dark-750'\n                  } ${getPriorityColor(notification.priority)}`}\n                >\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex items-start space-x-4 flex-1\">\n                      {/* Type Icon */}\n                      <div className=\"flex-shrink-0 text-2xl\">\n                        {getTypeIcon(notification.type)}\n                      </div>\n                      \n                      {/* Content */}\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-start justify-between\">\n                          <div className=\"flex-1\">\n                            <h4 className=\"text-white font-semibold text-lg mb-2\">\n                              {notification.title}\n                            </h4>\n                            <p className=\"text-gray-300 mb-3\">\n                              {notification.message}\n                            </p>\n                            \n                            {/* Priority Badge */}\n                            {notification.priority !== 'normal' && (\n                              <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                                notification.priority === 'urgent' ? 'bg-red-900/50 text-red-300 border border-red-500/30' :\n                                notification.priority === 'high' ? 'bg-orange-900/50 text-orange-300 border border-orange-500/30' :\n                                'bg-gray-900/50 text-gray-300 border border-gray-500/30'\n                              }`}>\n                                {notification.priority === 'urgent' ? 'Urgent' :\n                                 notification.priority === 'high' ? 'Important' :\n                                 notification.priority === 'low' ? 'Info' : notification.priority}\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                        \n                        {/* Footer */}\n                        <div className=\"flex items-center justify-between mt-4 pt-4 border-t border-dark-600\">\n                          <span className=\"text-sm text-gray-400\">\n                            {notification.time_ago}\n                          </span>\n                          \n                          <div className=\"flex items-center space-x-3\">\n                            {notification.action_url && (\n                              <Link\n                                to={notification.action_url}\n                                className=\"text-sm text-primary-400 hover:text-primary-300 font-medium\"\n                                onClick={() => {\n                                  if (!notification.is_read) {\n                                    markAsRead(notification.id);\n                                  }\n                                }}\n                              >\n                                Voir →\n                              </Link>\n                            )}\n                            \n                            {!notification.is_read && (\n                              <button\n                                onClick={() => markAsRead(notification.id)}\n                                className=\"inline-flex items-center px-3 py-1 text-sm text-green-400 hover:text-green-300 border border-green-500/30 rounded-lg hover:bg-green-900/20 transition-colors duration-200\"\n                              >\n                                <CheckIcon className=\"w-4 h-4 mr-1\" />\n                                Marquer comme lu\n                              </button>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-12\">\n              <BellIcon className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\n              <h3 className=\"text-xl font-semibold text-gray-400 mb-2\">\n                {unreadOnly ? 'Aucune notification non lue' : 'Aucune notification'}\n              </h3>\n              <p className=\"text-gray-500\">\n                {unreadOnly ? \n                  'Toutes vos notifications ont été lues.' :\n                  'Vous recevrez ici les notifications des événements, tournois et activités.'\n                }\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NotificationsPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SACEC,QAAQ,EACRC,SAAS,EACTC,aAAa,EACbC,UAAU,EACVC,OAAO,EACPC,YAAY,QACP,6BAA6B;AACpC,SAASC,KAAK,QAAQ,iBAAiB;AACvC,SAASC,mBAAmB,QAAQ,iCAAiC;AACrE,SAASC,OAAO,QAAQ,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjC,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoB,UAAU,EAAEC,aAAa,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACsB,YAAY,EAAEC,eAAe,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACwB,KAAK,EAAEC,QAAQ,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtC,MAAM;IAAE0B;EAAK,CAAC,GAAGf,OAAO,CAAC,CAAC;EAE1B,MAAMgB,aAAa,GAAG,CACpB;IAAEC,KAAK,EAAE,KAAK;IAAEC,KAAK,EAAE;EAAS,CAAC,EACjC;IAAED,KAAK,EAAE,eAAe;IAAEC,KAAK,EAAE;EAAmB,CAAC,EACrD;IAAED,KAAK,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAqB,CAAC,EACxD;IAAED,KAAK,EAAE,oBAAoB;IAAEC,KAAK,EAAE;EAAiB,CAAC,EACxD;IAAED,KAAK,EAAE,cAAc;IAAEC,KAAK,EAAE;EAAmB,CAAC,EACpD;IAAED,KAAK,EAAE,mBAAmB;IAAEC,KAAK,EAAE;EAAmB,CAAC,EACzD;IAAED,KAAK,EAAE,kBAAkB;IAAEC,KAAK,EAAE;EAAiB,CAAC,EACtD;IAAED,KAAK,EAAE,iBAAiB;IAAEC,KAAK,EAAE;EAAU,CAAC,EAC9C;IAAED,KAAK,EAAE,oBAAoB;IAAEC,KAAK,EAAE;EAAa,CAAC,EACpD;IAAED,KAAK,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAY,CAAC,EACxC;IAAED,KAAK,EAAE,eAAe;IAAEC,KAAK,EAAE;EAAuB,CAAC,CAC1D;EAED5B,SAAS,CAAC,MAAM;IACd6B,iBAAiB,CAAC,CAAC;IACnBC,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACX,UAAU,EAAEE,YAAY,CAAC,CAAC;EAE9B,MAAMQ,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI;MACFX,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMa,MAAM,GAAG;QACbC,KAAK,EAAE,EAAE;QACTC,WAAW,EAAEd;MACf,CAAC;MAED,MAAMe,IAAI,GAAG,MAAMzB,mBAAmB,CAAC0B,gBAAgB,CAACJ,MAAM,CAAC;;MAE/D;MACA,IAAIK,YAAY,GAAGF,IAAI;MACvB,IAAIb,YAAY,KAAK,KAAK,EAAE;QAC1Be,YAAY,GAAGF,IAAI,CAACG,MAAM,CAACC,KAAK,IAAIA,KAAK,CAACC,IAAI,KAAKlB,YAAY,CAAC;MAClE;MAEAL,gBAAgB,CAACoB,YAAY,CAAC;IAChC,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrDhC,KAAK,CAACgC,KAAK,CAAC,6CAA6C,CAAC;IAC5D,CAAC,SAAS;MACRtB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMY,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAMY,SAAS,GAAG,MAAMjC,mBAAmB,CAACkC,oBAAoB,CAAC,CAAC;MAClEnB,QAAQ,CAACkB,SAAS,CAAC;IACrB,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C;EACF,CAAC;EAED,MAAMI,UAAU,GAAG,MAAOC,cAAc,IAAK;IAC3C,IAAI;MACF,MAAMpC,mBAAmB,CAACmC,UAAU,CAACC,cAAc,CAAC;;MAEpD;MACA7B,gBAAgB,CAAC8B,IAAI,IACnBA,IAAI,CAACC,GAAG,CAACT,KAAK,IACZA,KAAK,CAACU,EAAE,KAAKH,cAAc,GACvB;QAAE,GAAGP,KAAK;QAAEW,OAAO,EAAE,IAAI;QAAEC,OAAO,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;MAAE,CAAC,GAC9Dd,KACN,CACF,CAAC;;MAED;MACAd,QAAQ,CAACsB,IAAI,KAAK;QAChB,GAAGA,IAAI;QACPO,YAAY,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAET,IAAI,CAACO,YAAY,GAAG,CAAC;MACjD,CAAC,CAAC,CAAC;MAEH7C,KAAK,CAACgD,OAAO,CAAC,gCAAgC,CAAC;IACjD,CAAC,CAAC,OAAOhB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAC5DhC,KAAK,CAACgC,KAAK,CAAC,4CAA4C,CAAC;IAC3D;EACF,CAAC;EAED,MAAMiB,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACF,MAAMhD,mBAAmB,CAACgD,aAAa,CAAC,CAAC;;MAEzC;MACAzC,gBAAgB,CAAC8B,IAAI,IACnBA,IAAI,CAACC,GAAG,CAACT,KAAK,KAAK;QAAE,GAAGA,KAAK;QAAEW,OAAO,EAAE,IAAI;QAAEC,OAAO,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;MAAE,CAAC,CAAC,CACpF,CAAC;;MAED;MACA5B,QAAQ,CAACsB,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAEO,YAAY,EAAE;MAAE,CAAC,CAAC,CAAC;MAEhD7C,KAAK,CAACgD,OAAO,CAAC,sDAAsD,CAAC;IACvE,CAAC,CAAC,OAAOhB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;MACjEhC,KAAK,CAACgC,KAAK,CAAC,2CAA2C,CAAC;IAC1D;EACF,CAAC;EAED,MAAMkB,gBAAgB,GAAIC,QAAQ,IAAK;IACrC,QAAQA,QAAQ;MACd,KAAK,QAAQ;QACX,OAAO,gCAAgC;MACzC,KAAK,MAAM;QACT,OAAO,sCAAsC;MAC/C,KAAK,QAAQ;QACX,OAAO,kCAAkC;MAC3C,KAAK,KAAK;QACR,OAAO,kCAAkC;MAC3C;QACE,OAAO,kCAAkC;IAC7C;EACF,CAAC;EAED,MAAMC,WAAW,GAAIrB,IAAI,IAAK;IAC5B,QAAQA,IAAI;MACV,KAAK,eAAe;MACpB,KAAK,eAAe;MACpB,KAAK,gBAAgB;QACnB,OAAO,IAAI;MACb,KAAK,oBAAoB;MACzB,KAAK,oBAAoB;MACzB,KAAK,cAAc;QACjB,OAAO,IAAI;MACb,KAAK,mBAAmB;MACxB,KAAK,kBAAkB;QACrB,OAAO,IAAI;MACb,KAAK,kBAAkB;MACvB,KAAK,iBAAiB;QACpB,OAAO,IAAI;MACb,KAAK,oBAAoB;QACvB,OAAO,GAAG;MACZ,KAAK,SAAS;QACZ,OAAO,IAAI;MACb,KAAK,eAAe;QAClB,OAAO,IAAI;MACb;QACE,OAAO,IAAI;IACf;EACF,CAAC;EAED,oBACE3B,OAAA;IAAKiD,SAAS,EAAC,+BAA+B;IAAAC,QAAA,eAC5ClD,OAAA;MAAKiD,SAAS,EAAC,wCAAwC;MAAAC,QAAA,gBAErDlD,OAAA;QAAKiD,SAAS,EAAC,MAAM;QAAAC,QAAA,eACnBlD,OAAA;UAAKiD,SAAS,EAAC,mCAAmC;UAAAC,QAAA,gBAChDlD,OAAA;YAAAkD,QAAA,gBACElD,OAAA;cAAIiD,SAAS,EAAC,+BAA+B;cAAAC,QAAA,EAAC;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAChEtD,OAAA;cAAGiD,SAAS,EAAC,oBAAoB;cAAAC,QAAA,EAAC;YAElC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eAENtD,OAAA;YAAKiD,SAAS,EAAC,6BAA6B;YAAAC,QAAA,gBAC1ClD,OAAA,CAACX,IAAI;cACHkE,EAAE,EAAC,4BAA4B;cAC/BN,SAAS,EAAC,+JAA+J;cAAAC,QAAA,gBAEzKlD,OAAA,CAACR,aAAa;gBAACyD,SAAS,EAAC;cAAc;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,qBAE5C;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,EAEN3C,KAAK,CAAC8B,YAAY,GAAG,CAAC,iBACrBzC,OAAA;cACEwD,OAAO,EAAEX,aAAc;cACvBI,SAAS,EAAC,6HAA6H;cAAAC,QAAA,gBAEvIlD,OAAA,CAACT,SAAS;gBAAC0D,SAAS,EAAC;cAAc;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,2BACf,EAAC3C,KAAK,CAAC8B,YAAY,EAAC,GAC7C;YAAA;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CACT;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNtD,OAAA;QAAKiD,SAAS,EAAC,4CAA4C;QAAAC,QAAA,gBACzDlD,OAAA;UAAKiD,SAAS,EAAC,mDAAmD;UAAAC,QAAA,eAChElD,OAAA;YAAKiD,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChClD,OAAA,CAACV,QAAQ;cAAC2D,SAAS,EAAC;YAAuB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC9CtD,OAAA;cAAKiD,SAAS,EAAC,MAAM;cAAAC,QAAA,gBACnBlD,OAAA;gBAAGiD,SAAS,EAAC,mCAAmC;gBAAAC,QAAA,EAAEvC,KAAK,CAAC8C,WAAW,IAAI;cAAC;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC7EtD,OAAA;gBAAGiD,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENtD,OAAA;UAAKiD,SAAS,EAAC,mDAAmD;UAAAC,QAAA,eAChElD,OAAA;YAAKiD,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChClD,OAAA,CAACL,YAAY;cAACsD,SAAS,EAAC;YAAyB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACpDtD,OAAA;cAAKiD,SAAS,EAAC,MAAM;cAAAC,QAAA,gBACnBlD,OAAA;gBAAGiD,SAAS,EAAC,mCAAmC;gBAAAC,QAAA,EAAEvC,KAAK,CAAC8B,YAAY,IAAI;cAAC;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC9EtD,OAAA;gBAAGiD,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENtD,OAAA;UAAKiD,SAAS,EAAC,mDAAmD;UAAAC,QAAA,eAChElD,OAAA;YAAKiD,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChClD,OAAA,CAACN,OAAO;cAACuD,SAAS,EAAC;YAAwB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC9CtD,OAAA;cAAKiD,SAAS,EAAC,MAAM;cAAAC,QAAA,gBACnBlD,OAAA;gBAAGiD,SAAS,EAAC,mCAAmC;gBAAAC,QAAA,EAC7C,CAACvC,KAAK,CAAC8C,WAAW,IAAI,CAAC,KAAK9C,KAAK,CAAC8B,YAAY,IAAI,CAAC;cAAC;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpD,CAAC,eACJtD,OAAA;gBAAGiD,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNtD,OAAA;QAAKiD,SAAS,EAAC,wDAAwD;QAAAC,QAAA,gBACrElD,OAAA;UAAIiD,SAAS,EAAC,yDAAyD;UAAAC,QAAA,gBACrElD,OAAA,CAACP,UAAU;YAACwD,SAAS,EAAC;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,WAEzC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAELtD,OAAA;UAAKiD,SAAS,EAAC,sBAAsB;UAAAC,QAAA,gBAEnClD,OAAA;YAAOiD,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAClClD,OAAA;cACE2B,IAAI,EAAC,UAAU;cACf+B,OAAO,EAAEnD,UAAW;cACpBoD,QAAQ,EAAGC,CAAC,IAAKpD,aAAa,CAACoD,CAAC,CAACC,MAAM,CAACH,OAAO,CAAE;cACjDT,SAAS,EAAC;YAA2F;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtG,CAAC,eACFtD,OAAA;cAAMiD,SAAS,EAAC,oBAAoB;cAAAC,QAAA,EAAC;YAAkB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzD,CAAC,eAGRtD,OAAA;YACEe,KAAK,EAAEN,YAAa;YACpBkD,QAAQ,EAAGC,CAAC,IAAKlD,eAAe,CAACkD,CAAC,CAACC,MAAM,CAAC9C,KAAK,CAAE;YACjDkC,SAAS,EAAC,+GAA+G;YAAAC,QAAA,EAExHpC,aAAa,CAACqB,GAAG,CAAE2B,MAAM,iBACxB9D,OAAA;cAA2Be,KAAK,EAAE+C,MAAM,CAAC/C,KAAM;cAAAmC,QAAA,EAC5CY,MAAM,CAAC9C;YAAK,GADF8C,MAAM,CAAC/C,KAAK;cAAAoC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEjB,CACT;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNtD,OAAA;QAAKiD,SAAS,EAAC,+CAA+C;QAAAC,QAAA,EAC3D7C,OAAO,gBACNL,OAAA;UAAKiD,SAAS,EAAC,wCAAwC;UAAAC,QAAA,eACrDlD,OAAA;YAAKiD,SAAS,EAAC;UAAyB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC,GACJnD,aAAa,CAAC4D,MAAM,GAAG,CAAC,gBAC1B/D,OAAA;UAAKiD,SAAS,EAAC,0BAA0B;UAAAC,QAAA,EACtC/C,aAAa,CAACgC,GAAG,CAAE6B,YAAY,iBAC9BhE,OAAA;YAEEiD,SAAS,EAAE,iDACT,CAACe,YAAY,CAAC3B,OAAO,GAAG,aAAa,GAAG,mBAAmB,IACzDS,gBAAgB,CAACkB,YAAY,CAACjB,QAAQ,CAAC,EAAG;YAAAG,QAAA,eAE9ClD,OAAA;cAAKiD,SAAS,EAAC,kCAAkC;cAAAC,QAAA,eAC/ClD,OAAA;gBAAKiD,SAAS,EAAC,mCAAmC;gBAAAC,QAAA,gBAEhDlD,OAAA;kBAAKiD,SAAS,EAAC,wBAAwB;kBAAAC,QAAA,EACpCF,WAAW,CAACgB,YAAY,CAACrC,IAAI;gBAAC;kBAAAwB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5B,CAAC,eAGNtD,OAAA;kBAAKiD,SAAS,EAAC,gBAAgB;kBAAAC,QAAA,gBAC7BlD,OAAA;oBAAKiD,SAAS,EAAC,kCAAkC;oBAAAC,QAAA,eAC/ClD,OAAA;sBAAKiD,SAAS,EAAC,QAAQ;sBAAAC,QAAA,gBACrBlD,OAAA;wBAAIiD,SAAS,EAAC,uCAAuC;wBAAAC,QAAA,EAClDc,YAAY,CAACC;sBAAK;wBAAAd,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACjB,CAAC,eACLtD,OAAA;wBAAGiD,SAAS,EAAC,oBAAoB;wBAAAC,QAAA,EAC9Bc,YAAY,CAACE;sBAAO;wBAAAf,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACpB,CAAC,EAGHU,YAAY,CAACjB,QAAQ,KAAK,QAAQ,iBACjC/C,OAAA;wBAAMiD,SAAS,EAAE,uEACfe,YAAY,CAACjB,QAAQ,KAAK,QAAQ,GAAG,qDAAqD,GAC1FiB,YAAY,CAACjB,QAAQ,KAAK,MAAM,GAAG,8DAA8D,GACjG,wDAAwD,EACvD;wBAAAG,QAAA,EACAc,YAAY,CAACjB,QAAQ,KAAK,QAAQ,GAAG,QAAQ,GAC7CiB,YAAY,CAACjB,QAAQ,KAAK,MAAM,GAAG,WAAW,GAC9CiB,YAAY,CAACjB,QAAQ,KAAK,KAAK,GAAG,MAAM,GAAGiB,YAAY,CAACjB;sBAAQ;wBAAAI,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC7D,CACP;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC,eAGNtD,OAAA;oBAAKiD,SAAS,EAAC,sEAAsE;oBAAAC,QAAA,gBACnFlD,OAAA;sBAAMiD,SAAS,EAAC,uBAAuB;sBAAAC,QAAA,EACpCc,YAAY,CAACG;oBAAQ;sBAAAhB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAClB,CAAC,eAEPtD,OAAA;sBAAKiD,SAAS,EAAC,6BAA6B;sBAAAC,QAAA,GACzCc,YAAY,CAACI,UAAU,iBACtBpE,OAAA,CAACX,IAAI;wBACHkE,EAAE,EAAES,YAAY,CAACI,UAAW;wBAC5BnB,SAAS,EAAC,6DAA6D;wBACvEO,OAAO,EAAEA,CAAA,KAAM;0BACb,IAAI,CAACQ,YAAY,CAAC3B,OAAO,EAAE;4BACzBL,UAAU,CAACgC,YAAY,CAAC5B,EAAE,CAAC;0BAC7B;wBACF,CAAE;wBAAAc,QAAA,EACH;sBAED;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CACP,EAEA,CAACU,YAAY,CAAC3B,OAAO,iBACpBrC,OAAA;wBACEwD,OAAO,EAAEA,CAAA,KAAMxB,UAAU,CAACgC,YAAY,CAAC5B,EAAE,CAAE;wBAC3Ca,SAAS,EAAC,2KAA2K;wBAAAC,QAAA,gBAErLlD,OAAA,CAACT,SAAS;0BAAC0D,SAAS,EAAC;wBAAc;0BAAAE,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAE,CAAC,oBAExC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ,CACT;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACE,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC,GAxEDU,YAAY,CAAC5B,EAAE;YAAAe,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAyEjB,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,gBAENtD,OAAA;UAAKiD,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBAChClD,OAAA,CAACV,QAAQ;YAAC2D,SAAS,EAAC;UAAsC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC7DtD,OAAA;YAAIiD,SAAS,EAAC,0CAA0C;YAAAC,QAAA,EACrD3C,UAAU,GAAG,6BAA6B,GAAG;UAAqB;YAAA4C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjE,CAAC,eACLtD,OAAA;YAAGiD,SAAS,EAAC,eAAe;YAAAC,QAAA,EACzB3C,UAAU,GACT,wCAAwC,GACxC;UAA4E;YAAA4C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAE7E,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD;MACN;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACpD,EAAA,CApWID,iBAAiB;EAAA,QAMJH,OAAO;AAAA;AAAAuE,EAAA,GANpBpE,iBAAiB;AAsWvB,eAAeA,iBAAiB;AAAC,IAAAoE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}