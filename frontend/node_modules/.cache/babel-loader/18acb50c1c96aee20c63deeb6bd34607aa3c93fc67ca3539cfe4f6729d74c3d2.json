{"ast":null,"code":"import React,{useState}from'react';import{XMarkIcon,UserPlusIcon,PaperAirplaneIcon}from'@heroicons/react/24/outline';import{toast}from'react-hot-toast';import{tournamentService}from'../services/tournamentService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TeamInvitationModal=_ref=>{let{isOpen,onClose,tournamentId,teamId,onInvitationSent}=_ref;const[inviteHandle,setInviteHandle]=useState('');const[inviteMessage,setInviteMessage]=useState('');const[sending,setSending]=useState(false);const handleSendInvitation=async e=>{e.preventDefault();if(!inviteHandle.trim()){toast.error('Le nom d\\'utilisateur est requis');return;}try{setSending(true);await tournamentService.createTeamInvitation(tournamentId,teamId,{invited_user_handle:inviteHandle.trim(),message:inviteMessage.trim()||null});toast.success('Invitation envoyée avec succès !');onInvitationSent();onClose();// Reset form\nsetInviteHandle('');setInviteMessage('');}catch(error){var _error$response,_error$response$data;if((_error$response=error.response)!==null&&_error$response!==void 0&&(_error$response$data=_error$response.data)!==null&&_error$response$data!==void 0&&_error$response$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors de l\\'envoi de l\\'invitation');}}finally{setSending(false);}};const handleClose=()=>{if(!sending){setInviteHandle('');setInviteMessage('');onClose();}};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-800 rounded-lg max-w-md w-full p-6 border border-dark-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(UserPlusIcon,{className:\"w-6 h-6 text-primary-400\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-white\",children:\"Inviter un joueur\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClose,disabled:sending,className:\"text-gray-400 hover:text-white transition-colors duration-200\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSendInvitation,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Nom d'utilisateur *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inviteHandle,onChange:e=>setInviteHandle(e.target.value),className:\"input-primary w-full\",placeholder:\"Nom d'utilisateur du joueur\",required:true,minLength:2,maxLength:50,disabled:sending}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:\"Le nom d'utilisateur exact du joueur que vous souhaitez inviter\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Message personnel (optionnel)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:inviteMessage,onChange:e=>setInviteMessage(e.target.value),placeholder:\"Ajoutez un message personnel \\xE0 votre invitation...\",rows:3,className:\"input-primary w-full resize-none\",maxLength:500,disabled:sending}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:[inviteMessage.length,\"/500 caract\\xE8res\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 pt-4 border-t border-dark-600\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleClose,className:\"btn-secondary\",disabled:sending,children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:sending||!inviteHandle.trim(),className:\"btn-primary flex items-center\",children:sending?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-4 h-4 mr-2\"}),\"Envoi...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PaperAirplaneIcon,{className:\"w-4 h-4 mr-2\"}),\"Envoyer l'invitation\"]})})]})]})]})});};export default TeamInvitationModal;","map":{"version":3,"names":["React","useState","XMarkIcon","UserPlusIcon","PaperAirplaneIcon","toast","tournamentService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TeamInvitationModal","_ref","isOpen","onClose","tournamentId","teamId","onInvitationSent","inviteHandle","setInviteHandle","inviteMessage","setInviteMessage","sending","setSending","handleSendInvitation","e","preventDefault","trim","error","createTeamInvitation","invited_user_handle","message","success","_error$response","_error$response$data","response","data","detail","handleClose","className","children","onClick","disabled","onSubmit","type","value","onChange","target","placeholder","required","minLength","maxLength","rows","length"],"sources":["C:/Users/Knight-Server/Desktop/VerseLink-conflict_090925_1049/frontend/src/components/TeamInvitationModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { \n  XMarkIcon,\n  UserPlusIcon,\n  PaperAirplaneIcon\n} from '@heroicons/react/24/outline';\nimport { toast } from 'react-hot-toast';\nimport { tournamentService } from '../services/tournamentService';\n\nconst TeamInvitationModal = ({ isOpen, onClose, tournamentId, teamId, onInvitationSent }) => {\n  const [inviteHandle, setInviteHandle] = useState('');\n  const [inviteMessage, setInviteMessage] = useState('');\n  const [sending, setSending] = useState(false);\n\n  const handleSendInvitation = async (e) => {\n    e.preventDefault();\n    \n    if (!inviteHandle.trim()) {\n      toast.error('Le nom d\\'utilisateur est requis');\n      return;\n    }\n\n    try {\n      setSending(true);\n      await tournamentService.createTeamInvitation(tournamentId, teamId, {\n        invited_user_handle: inviteHandle.trim(),\n        message: inviteMessage.trim() || null\n      });\n      \n      toast.success('Invitation envoyée avec succès !');\n      onInvitationSent();\n      onClose();\n      \n      // Reset form\n      setInviteHandle('');\n      setInviteMessage('');\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors de l\\'envoi de l\\'invitation');\n      }\n    } finally {\n      setSending(false);\n    }\n  };\n\n  const handleClose = () => {\n    if (!sending) {\n      setInviteHandle('');\n      setInviteMessage('');\n      onClose();\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-dark-800 rounded-lg max-w-md w-full p-6 border border-dark-600\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center space-x-3\">\n            <UserPlusIcon className=\"w-6 h-6 text-primary-400\" />\n            <h2 className=\"text-xl font-semibold text-white\">Inviter un joueur</h2>\n          </div>\n          <button\n            onClick={handleClose}\n            disabled={sending}\n            className=\"text-gray-400 hover:text-white transition-colors duration-200\"\n          >\n            <XMarkIcon className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        <form onSubmit={handleSendInvitation} className=\"space-y-4\">\n          {/* Handle Input */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n              Nom d'utilisateur *\n            </label>\n            <input\n              type=\"text\"\n              value={inviteHandle}\n              onChange={(e) => setInviteHandle(e.target.value)}\n              className=\"input-primary w-full\"\n              placeholder=\"Nom d'utilisateur du joueur\"\n              required\n              minLength={2}\n              maxLength={50}\n              disabled={sending}\n            />\n            <p className=\"text-xs text-gray-400 mt-1\">\n              Le nom d'utilisateur exact du joueur que vous souhaitez inviter\n            </p>\n          </div>\n\n          {/* Message Input */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n              Message personnel (optionnel)\n            </label>\n            <textarea\n              value={inviteMessage}\n              onChange={(e) => setInviteMessage(e.target.value)}\n              placeholder=\"Ajoutez un message personnel à votre invitation...\"\n              rows={3}\n              className=\"input-primary w-full resize-none\"\n              maxLength={500}\n              disabled={sending}\n            />\n            <p className=\"text-xs text-gray-400 mt-1\">\n              {inviteMessage.length}/500 caractères\n            </p>\n          </div>\n\n          {/* Buttons */}\n          <div className=\"flex items-center justify-end space-x-3 pt-4 border-t border-dark-600\">\n            <button\n              type=\"button\"\n              onClick={handleClose}\n              className=\"btn-secondary\"\n              disabled={sending}\n            >\n              Annuler\n            </button>\n            <button\n              type=\"submit\"\n              disabled={sending || !inviteHandle.trim()}\n              className=\"btn-primary flex items-center\"\n            >\n              {sending ? (\n                <>\n                  <div className=\"loading-spinner w-4 h-4 mr-2\"></div>\n                  Envoi...\n                </>\n              ) : (\n                <>\n                  <PaperAirplaneIcon className=\"w-4 h-4 mr-2\" />\n                  Envoyer l'invitation\n                </>\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default TeamInvitationModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}