{"ast":null,"code":"import _objectSpread from\"C:/Users/Knight-Server/Desktop/VerseLink-conflict_090925_1049/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{toast}from'react-hot-toast';import{PencilIcon,PhotoIcon,UsersIcon,TrashIcon,ArrowRightOnRectangleIcon,ExclamationTriangleIcon,CheckCircleIcon,XMarkIcon,ChatBubbleLeftRightIcon}from'@heroicons/react/24/outline';import{organizationService}from'../services/organizationService';import{discordService}from'../services/discordService';import{useAuth}from'../App';import{getMediaUrl}from'../utils/media';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManageOrganizationPage=()=>{var _members$find,_members$find2;const{id}=useParams();const navigate=useNavigate();const{user}=useAuth();const[organization,setOrganization]=useState(null);const[members,setMembers]=useState([]);const[joinRequests,setJoinRequests]=useState([]);const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('profile');const[showDeleteModal,setShowDeleteModal]=useState(false);const[showTransferModal,setShowTransferModal]=useState(false);const[selectedNewOwner,setSelectedNewOwner]=useState('');// Form states\nconst[profileForm,setProfileForm]=useState({name:'',description:'',website_url:'',discord_url:'',twitter_url:'',youtube_url:'',twitch_url:'',visibility:'public',membership_policy:'open'});const[discordForm,setDiscordForm]=useState({guild_id:'',guild_name:'',owner_id:'',announcement_channel_id:'',event_channel_id:''});useEffect(()=>{if(id){loadData();}},[id]);const loadData=async()=>{try{setLoading(true);const[orgData,membersData]=await Promise.all([organizationService.getOrganization(id),organizationService.getMembers(id)]);setOrganization(orgData);setMembers(membersData);// Initialize form with current data\nsetProfileForm({name:orgData.name||'',description:orgData.description||'',website_url:orgData.website_url||'',discord_url:orgData.discord_url||'',twitter_url:orgData.twitter_url||'',youtube_url:orgData.youtube_url||'',twitch_url:orgData.twitch_url||'',visibility:orgData.visibility||'public',membership_policy:orgData.membership_policy||'open'});// Load join requests if needed\nif(orgData.membership_policy==='request_only'){loadJoinRequests();}}catch(error){console.error('Failed to load organization data:',error);toast.error('Erreur lors du chargement des données');}finally{setLoading(false);}};const loadJoinRequests=async()=>{try{const requests=await organizationService.getJoinRequests(id);setJoinRequests(requests);}catch(error){console.error('Failed to load join requests:',error);}};const handleProfileUpdate=async e=>{e.preventDefault();try{const updatedOrg=await organizationService.updateOrganization(id,profileForm);setOrganization(updatedOrg);toast.success('Profil mis à jour');}catch(error){console.error('Failed to update organization:',error);toast.error('Erreur lors de la mise à jour');}};const handleDiscordLink=async e=>{e.preventDefault();try{// Try to register the guild first\nawait discordService.registerGuild(discordForm,organization.id);}catch(error){var _error$response,_error$response$data;// If the guild is already registered, attempt to link it instead\nif(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===400&&((_error$response$data=error.response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)==='Guild already registered'){try{await discordService.linkGuild(discordForm.guild_id,organization.id);}catch(linkError){console.error('Failed to link Discord guild:',linkError);toast.error(\"Erreur lors de la liaison du serveur Discord\");return;}}else{console.error('Failed to link Discord guild:',error);toast.error(\"Erreur lors de la liaison du serveur Discord\");return;}}toast.success('Serveur Discord lié avec succès');setDiscordForm({guild_id:'',guild_name:'',owner_id:'',announcement_channel_id:'',event_channel_id:''});};const handleJoinRequestAction=async(requestId,action)=>{try{await organizationService.processJoinRequest(id,requestId,action);toast.success(action==='accepted'?'Demande acceptée':'Demande refusée');loadJoinRequests();if(action==='accepted'){loadData();// Refresh member count\n}}catch(error){console.error('Failed to process join request:',error);toast.error('Erreur lors du traitement de la demande');}};const handleMemberRoleChange=async(memberId,newRole)=>{try{await organizationService.updateMemberRole(id,memberId,newRole);toast.success('Rôle mis à jour');loadData();}catch(error){console.error('Failed to update member role:',error);toast.error('Erreur lors de la mise à jour du rôle');}};const handleRemoveMember=async memberId=>{if(!window.confirm('Êtes-vous sûr de vouloir retirer ce membre ?')){return;}try{await organizationService.removeMember(id,memberId);toast.success('Membre retiré');loadData();}catch(error){console.error('Failed to remove member:',error);toast.error('Erreur lors du retrait du membre');}};const handleTransferOwnership=async()=>{if(!selectedNewOwner)return;try{await organizationService.transferOwnership(id,selectedNewOwner);toast.success('Propriété transférée');setShowTransferModal(false);navigate(\"/organizations/\".concat(id));}catch(error){console.error('Failed to transfer ownership:',error);toast.error('Erreur lors du transfert de propriété');}};const handleDeleteOrganization=async()=>{try{await organizationService.deleteOrganization(id);toast.success('Organisation supprimée');setShowDeleteModal(false);navigate('/organizations');}catch(error){console.error('Failed to delete organization:',error);toast.error('Erreur lors de la suppression');}};const handleLogoUpload=async e=>{const file=e.target.files[0];if(!file)return;// Validate file size (10MB limit)\nif(file.size>10*1024*1024){toast.error('Le fichier ne doit pas dépasser 10MB');return;}// Validate file type\nif(!file.type.startsWith('image/')){toast.error('Seules les images sont acceptées');return;}try{const response=await organizationService.uploadLogo(id,file);toast.success('Logo téléchargé avec succès');// Refresh organization data\nloadData();}catch(error){console.error('Failed to upload logo:',error);toast.error('Erreur lors du téléchargement du logo');}};const handleBannerUpload=async e=>{const file=e.target.files[0];if(!file)return;// Validate file size (10MB limit)\nif(file.size>10*1024*1024){toast.error('Le fichier ne doit pas dépasser 10MB');return;}// Validate file type\nif(!file.type.startsWith('image/')){toast.error('Seules les images sont acceptées');return;}try{const response=await organizationService.uploadBanner(id,file);toast.success('Bannière téléchargée avec succès');// Refresh organization data\nloadData();}catch(error){console.error('Failed to upload banner:',error);toast.error('Erreur lors du téléchargement de la bannière');}};const isOwner=user&&organization&&user.id===organization.owner_id;const isAdmin=((_members$find=members.find(m=>m.user_id===(user===null||user===void 0?void 0:user.id)))===null||_members$find===void 0?void 0:_members$find.role)==='admin'||isOwner;const isModerator=((_members$find2=members.find(m=>m.user_id===(user===null||user===void 0?void 0:user.id)))===null||_members$find2===void 0?void 0:_members$find2.role)==='moderator'||isAdmin;if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-dark-950 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-12 h-12\"})});}if(!organization){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-dark-950 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-white mb-4\",children:\"Organisation non trouv\\xE9e\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/organizations'),className:\"btn-primary\",children:\"Retour aux organisations\"})]})});}if(!isModerator){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-dark-950 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"w-16 h-16 text-red-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-white mb-4\",children:\"Acc\\xE8s refus\\xE9\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mb-8\",children:\"Vous n'avez pas les permissions pour g\\xE9rer cette organisation.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/organizations/\".concat(id)),className:\"btn-primary\",children:\"Voir l'organisation\"})]})});}const tabs=[{id:'profile',name:'Profil',icon:PencilIcon,visible:isAdmin},{id:'media',name:'Médias',icon:PhotoIcon,visible:isAdmin},{id:'discord',name:'Discord',icon:ChatBubbleLeftRightIcon,visible:isAdmin},{id:'members',name:'Membres',icon:UsersIcon,visible:isModerator},{id:'requests',name:'Demandes',icon:CheckCircleIcon,visible:isModerator&&organization.membership_policy==='request_only'},{id:'danger',name:'Zone de danger',icon:ExclamationTriangleIcon,visible:isOwner}].filter(tab=>tab.visible);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-dark-950 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"glass-effect rounded-2xl p-8 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-4xl font-bold text-white mb-2\",children:[\"G\\xE9rer \",organization.name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Administrez votre organisation et ses membres\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/organizations/\".concat(id)),className:\"btn-ghost\",children:\"Voir l'organisation\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-dark-600 mb-8\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"-mb-px flex space-x-8\",children:tabs.map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"flex items-center py-2 px-1 border-b-2 font-medium text-sm \".concat(activeTab===tab.id?'border-primary-500 text-primary-400':'border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(tab.icon,{className:\"w-5 h-5 mr-2\"}),tab.name,tab.id==='requests'&&joinRequests.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 bg-primary-500 text-white text-xs rounded-full px-2 py-1\",children:joinRequests.length})]},tab.id))})}),activeTab==='profile'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-6\",children:\"Informations du profil\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleProfileUpdate,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Nom de l'organisation *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileForm.name,onChange:e=>setProfileForm(_objectSpread(_objectSpread({},profileForm),{},{name:e.target.value})),className:\"input-primary w-full\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Visibilit\\xE9\"}),/*#__PURE__*/_jsxs(\"select\",{value:profileForm.visibility,onChange:e=>setProfileForm(_objectSpread(_objectSpread({},profileForm),{},{visibility:e.target.value})),className:\"input-primary w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"public\",children:\"Publique\"}),/*#__PURE__*/_jsx(\"option\",{value:\"unlisted\",children:\"Non list\\xE9e\"}),/*#__PURE__*/_jsx(\"option\",{value:\"private\",children:\"Priv\\xE9e\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Politique d'adh\\xE9sion\"}),/*#__PURE__*/_jsxs(\"select\",{value:profileForm.membership_policy,onChange:e=>setProfileForm(_objectSpread(_objectSpread({},profileForm),{},{membership_policy:e.target.value})),className:\"input-primary w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"open\",children:\"Ouverte\"}),/*#__PURE__*/_jsx(\"option\",{value:\"request_only\",children:\"Sur demande\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:profileForm.description,onChange:e=>setProfileForm(_objectSpread(_objectSpread({},profileForm),{},{description:e.target.value})),className:\"input-primary w-full\",rows:\"4\",placeholder:\"D\\xE9crivez votre organisation...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Site web\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:profileForm.website_url,onChange:e=>setProfileForm(_objectSpread(_objectSpread({},profileForm),{},{website_url:e.target.value})),className:\"input-primary w-full\",placeholder:\"https://example.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Discord\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:profileForm.discord_url,onChange:e=>setProfileForm(_objectSpread(_objectSpread({},profileForm),{},{discord_url:e.target.value})),className:\"input-primary w-full\",placeholder:\"https://discord.gg/...\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Twitter\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:profileForm.twitter_url,onChange:e=>setProfileForm(_objectSpread(_objectSpread({},profileForm),{},{twitter_url:e.target.value})),className:\"input-primary w-full\",placeholder:\"https://twitter.com/...\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"YouTube\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:profileForm.youtube_url,onChange:e=>setProfileForm(_objectSpread(_objectSpread({},profileForm),{},{youtube_url:e.target.value})),className:\"input-primary w-full\",placeholder:\"https://youtube.com/...\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Twitch\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:profileForm.twitch_url,onChange:e=>setProfileForm(_objectSpread(_objectSpread({},profileForm),{},{twitch_url:e.target.value})),className:\"input-primary w-full\",placeholder:\"https://twitch.tv/...\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:\"Sauvegarder les modifications\"})})]})]}),activeTab==='media'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-6\",children:\"Gestion des m\\xE9dias\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white mb-4\",children:\"Logo de l'organisation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[organization.logo_url?/*#__PURE__*/_jsx(\"img\",{src:getMediaUrl(organization.logo_url),alt:\"Logo\",className:\"w-20 h-20 rounded-lg object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-dark-600 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(PhotoIcon,{className:\"w-8 h-8 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleLogoUpload,className:\"hidden\",id:\"logo-upload\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"logo-upload\",className:\"btn-secondary cursor-pointer\",children:organization.logo_url?'Changer le logo':'Ajouter un logo'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-2\",children:\"Format recommand\\xE9: PNG, JPG (max 10MB)\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white mb-4\",children:\"Banni\\xE8re de l'organisation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[organization.banner_url?/*#__PURE__*/_jsx(\"img\",{src:getMediaUrl(organization.banner_url),alt:\"Banni\\xE8re\",className:\"w-full h-48 rounded-lg object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-48 bg-dark-600 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(PhotoIcon,{className:\"w-12 h-12 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleBannerUpload,className:\"hidden\",id:\"banner-upload\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"banner-upload\",className:\"btn-secondary cursor-pointer\",children:organization.banner_url?'Changer la bannière':'Ajouter une bannière'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-2\",children:\"Format recommand\\xE9: PNG, JPG, ratio 16:9 (max 10MB)\"})]})]})]})]})]}),activeTab==='discord'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-6\",children:\"Int\\xE9gration Discord\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleDiscordLink,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"ID du serveur\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:discordForm.guild_id,onChange:e=>setDiscordForm(_objectSpread(_objectSpread({},discordForm),{},{guild_id:e.target.value})),className:\"input-primary w-full\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Nom du serveur\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:discordForm.guild_name,onChange:e=>setDiscordForm(_objectSpread(_objectSpread({},discordForm),{},{guild_name:e.target.value})),className:\"input-primary w-full\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"ID du propri\\xE9taire\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:discordForm.owner_id,onChange:e=>setDiscordForm(_objectSpread(_objectSpread({},discordForm),{},{owner_id:e.target.value})),className:\"input-primary w-full\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"ID du canal d'annonces\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:discordForm.announcement_channel_id,onChange:e=>setDiscordForm(_objectSpread(_objectSpread({},discordForm),{},{announcement_channel_id:e.target.value})),className:\"input-primary w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"ID du canal d'\\xE9v\\xE9nements\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:discordForm.event_channel_id,onChange:e=>setDiscordForm(_objectSpread(_objectSpread({},discordForm),{},{event_channel_id:e.target.value})),className:\"input-primary w-full\"})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:\"Lier le serveur Discord\"})})]})]}),activeTab==='members'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-white mb-6\",children:[\"Gestion des membres (\",members.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:members.map(member=>{const isOrgOwner=member.user_id===organization.owner_id;return/*#__PURE__*/_jsx(\"div\",{className:\"glass-effect rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[member.avatar_url?/*#__PURE__*/_jsx(\"img\",{src:member.avatar_url,alt:member.handle,className:\"w-12 h-12 rounded-full mr-4\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-dark-600 rounded-full flex items-center justify-center mr-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold\",children:member.handle.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-semibold\",children:member.handle}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:member.discord_username})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[!isOrgOwner&&isAdmin&&/*#__PURE__*/_jsxs(\"select\",{value:member.role,onChange:e=>handleMemberRoleChange(member.user_id,e.target.value),className:\"input-primary text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"member\",children:\"Membre\"}),/*#__PURE__*/_jsx(\"option\",{value:\"moderator\",children:\"Mod\\xE9rateur\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Administrateur\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-medium \".concat(isOrgOwner?'bg-purple-100 text-purple-800':member.role==='admin'?'bg-red-100 text-red-800':member.role==='moderator'?'bg-yellow-100 text-yellow-800':'bg-green-100 text-green-800'),children:isOrgOwner?'Propriétaire':member.role==='admin'?'Admin':member.role==='moderator'?'Modérateur':'Membre'}),!isOrgOwner&&isAdmin&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveMember(member.user_id),className:\"text-red-400 hover:text-red-300 p-2\",title:\"Retirer le membre\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"w-5 h-5\"})})]})]})},member.user_id);})})]}),activeTab==='requests'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-white mb-6\",children:[\"Demandes d'adh\\xE9sion (\",joinRequests.length,\")\"]}),joinRequests.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:joinRequests.map(request=>/*#__PURE__*/_jsx(\"div\",{className:\"glass-effect rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[request.user_avatar_url?/*#__PURE__*/_jsx(\"img\",{src:request.user_avatar_url,alt:request.user_handle,className:\"w-12 h-12 rounded-full mr-4\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-dark-600 rounded-full flex items-center justify-center mr-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold\",children:request.user_handle.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-semibold\",children:request.user_handle}),request.message&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm mt-1\",children:request.message}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500 text-xs mt-1\",children:[\"Demand\\xE9 le \",new Date(request.created_at).toLocaleDateString('fr-FR')]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleJoinRequestAction(request.id,'accepted'),className:\"btn-primary text-sm\",children:\"Accepter\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleJoinRequestAction(request.id,'rejected'),className:\"btn-ghost text-red-400 hover:text-red-300 text-sm\",children:\"Refuser\"})]})]})},request.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-16 h-16 text-gray-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Aucune demande d'adh\\xE9sion en attente\"})]})]}),activeTab==='danger'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-6\",children:\"Zone de danger\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border border-yellow-600 rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-yellow-400 mb-2\",children:\"Transf\\xE9rer la propri\\xE9t\\xE9\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-4\",children:\"Transf\\xE9rez d\\xE9finitivement la propri\\xE9t\\xE9 de cette organisation \\xE0 un autre membre.\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowTransferModal(true),className:\"btn-secondary text-yellow-400 border-yellow-400 hover:bg-yellow-400 hover:text-dark-900\",children:[/*#__PURE__*/_jsx(ArrowRightOnRectangleIcon,{className:\"w-5 h-5 mr-2\"}),\"Transf\\xE9rer la propri\\xE9t\\xE9\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-red-600 rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-red-400 mb-2\",children:\"Supprimer l'organisation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-4\",children:\"Supprimez d\\xE9finitivement cette organisation. Cette action est irr\\xE9versible.\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDeleteModal(true),className:\"btn-secondary text-red-400 border-red-400 hover:bg-red-400 hover:text-white\",children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"w-5 h-5 mr-2\"}),\"Supprimer l'organisation\"]})]})]})]})]}),showTransferModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-800 rounded-lg p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-4\",children:\"Transf\\xE9rer la propri\\xE9t\\xE9\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-6\",children:\"S\\xE9lectionnez le nouveau propri\\xE9taire de cette organisation. Cette action est irr\\xE9versible.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Nouveau propri\\xE9taire\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedNewOwner,onChange:e=>setSelectedNewOwner(e.target.value),className:\"input-primary w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un membre...\"}),members.filter(m=>m.user_id!==user.id).map(member=>/*#__PURE__*/_jsxs(\"option\",{value:member.user_id,children:[member.handle,\" (\",member.role,\")\"]},member.user_id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowTransferModal(false),className:\"btn-ghost flex-1\",children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleTransferOwnership,disabled:!selectedNewOwner,className:\"btn-primary flex-1 bg-yellow-600 hover:bg-yellow-700\",children:\"Confirmer le transfert\"})]})]})}),showDeleteModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-800 rounded-lg p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"w-8 h-8 text-red-400 mr-3\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white\",children:\"Supprimer l'organisation\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-300 mb-6\",children:[\"\\xCAtes-vous absolument s\\xFBr de vouloir supprimer \",/*#__PURE__*/_jsx(\"strong\",{children:organization.name}),\" ? Cette action supprimera d\\xE9finitivement l'organisation, tous ses membres, \\xE9v\\xE9nements et donn\\xE9es associ\\xE9es. Cette action est \",/*#__PURE__*/_jsx(\"strong\",{children:\"irr\\xE9versible\"}),\".\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDeleteModal(false),className:\"btn-ghost flex-1\",children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteOrganization,className:\"btn-primary flex-1 bg-red-600 hover:bg-red-700\",children:\"Oui, supprimer d\\xE9finitivement\"})]})]})})]})});};export default ManageOrganizationPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","toast","PencilIcon","PhotoIcon","UsersIcon","TrashIcon","ArrowRightOnRectangleIcon","ExclamationTriangleIcon","CheckCircleIcon","XMarkIcon","ChatBubbleLeftRightIcon","organizationService","discordService","useAuth","getMediaUrl","jsx","_jsx","jsxs","_jsxs","ManageOrganizationPage","_members$find","_members$find2","id","navigate","user","organization","setOrganization","members","setMembers","joinRequests","setJoinRequests","loading","setLoading","activeTab","setActiveTab","showDeleteModal","setShowDeleteModal","showTransferModal","setShowTransferModal","selectedNewOwner","setSelectedNewOwner","profileForm","setProfileForm","name","description","website_url","discord_url","twitter_url","youtube_url","twitch_url","visibility","membership_policy","discordForm","setDiscordForm","guild_id","guild_name","owner_id","announcement_channel_id","event_channel_id","loadData","orgData","membersData","Promise","all","getOrganization","getMembers","loadJoinRequests","error","console","requests","getJoinRequests","handleProfileUpdate","e","preventDefault","updatedOrg","updateOrganization","success","handleDiscordLink","registerGuild","_error$response","_error$response$data","response","status","data","detail","linkGuild","linkError","handleJoinRequestAction","requestId","action","processJoinRequest","handleMemberRoleChange","memberId","newRole","updateMemberRole","handleRemoveMember","window","confirm","removeMember","handleTransferOwnership","transferOwnership","concat","handleDeleteOrganization","deleteOrganization","handleLogoUpload","file","target","files","size","type","startsWith","uploadLogo","handleBannerUpload","uploadBanner","isOwner","isAdmin","find","m","user_id","role","isModerator","className","children","onClick","tabs","icon","visible","filter","tab","map","length","onSubmit","value","onChange","_objectSpread","required","rows","placeholder","logo_url","src","alt","accept","htmlFor","banner_url","member","isOrgOwner","avatar_url","handle","charAt","toUpperCase","discord_username","title","request","user_avatar_url","user_handle","message","Date","created_at","toLocaleDateString","disabled"],"sources":["C:/Users/Knight-Server/Desktop/VerseLink-conflict_090925_1049/frontend/src/pages/ManageOrganizationPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport {\n  PencilIcon,\n  PhotoIcon,\n  UsersIcon,\n  TrashIcon,\n  ArrowRightOnRectangleIcon,\n  ExclamationTriangleIcon,\n  CheckCircleIcon,\n  XMarkIcon,\n  ChatBubbleLeftRightIcon\n} from '@heroicons/react/24/outline';\nimport { organizationService } from '../services/organizationService';\nimport { discordService } from '../services/discordService';\nimport { useAuth } from '../App';\nimport { getMediaUrl } from '../utils/media';\n\nconst ManageOrganizationPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  \n  const [organization, setOrganization] = useState(null);\n  const [members, setMembers] = useState([]);\n  const [joinRequests, setJoinRequests] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('profile');\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [showTransferModal, setShowTransferModal] = useState(false);\n  const [selectedNewOwner, setSelectedNewOwner] = useState('');\n  \n  // Form states\n  const [profileForm, setProfileForm] = useState({\n    name: '',\n    description: '',\n    website_url: '',\n    discord_url: '',\n    twitter_url: '',\n    youtube_url: '',\n    twitch_url: '',\n    visibility: 'public',\n    membership_policy: 'open'\n  });\n\n  const [discordForm, setDiscordForm] = useState({\n    guild_id: '',\n    guild_name: '',\n    owner_id: '',\n    announcement_channel_id: '',\n    event_channel_id: ''\n  });\n\n  useEffect(() => {\n    if (id) {\n      loadData();\n    }\n  }, [id]);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      const [orgData, membersData] = await Promise.all([\n        organizationService.getOrganization(id),\n        organizationService.getMembers(id)\n      ]);\n      \n      setOrganization(orgData);\n      setMembers(membersData);\n      \n      // Initialize form with current data\n      setProfileForm({\n        name: orgData.name || '',\n        description: orgData.description || '',\n        website_url: orgData.website_url || '',\n        discord_url: orgData.discord_url || '',\n        twitter_url: orgData.twitter_url || '',\n        youtube_url: orgData.youtube_url || '',\n        twitch_url: orgData.twitch_url || '',\n        visibility: orgData.visibility || 'public',\n        membership_policy: orgData.membership_policy || 'open'\n      });\n      \n      // Load join requests if needed\n      if (orgData.membership_policy === 'request_only') {\n        loadJoinRequests();\n      }\n    } catch (error) {\n      console.error('Failed to load organization data:', error);\n      toast.error('Erreur lors du chargement des données');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadJoinRequests = async () => {\n    try {\n      const requests = await organizationService.getJoinRequests(id);\n      setJoinRequests(requests);\n    } catch (error) {\n      console.error('Failed to load join requests:', error);\n    }\n  };\n\n  const handleProfileUpdate = async (e) => {\n    e.preventDefault();\n    try {\n      const updatedOrg = await organizationService.updateOrganization(id, profileForm);\n      setOrganization(updatedOrg);\n      toast.success('Profil mis à jour');\n    } catch (error) {\n      console.error('Failed to update organization:', error);\n      toast.error('Erreur lors de la mise à jour');\n    }\n  };\n\n  const handleDiscordLink = async (e) => {\n    e.preventDefault();\n    try {\n      // Try to register the guild first\n      await discordService.registerGuild(discordForm, organization.id);\n      \n    } catch (error) {\n      // If the guild is already registered, attempt to link it instead\n      if (\n        error.response?.status === 400 &&\n        error.response.data?.detail === 'Guild already registered'\n      ) {\n        try {\n          await discordService.linkGuild(discordForm.guild_id, organization.id);\n        } catch (linkError) {\n          console.error('Failed to link Discord guild:', linkError);\n          toast.error(\"Erreur lors de la liaison du serveur Discord\");\n          return;\n        }\n      } else {\n        console.error('Failed to link Discord guild:', error);\n        toast.error(\"Erreur lors de la liaison du serveur Discord\");\n        return;\n      }\n    }\n    toast.success('Serveur Discord lié avec succès');\n    setDiscordForm({\n      guild_id: '',\n      guild_name: '',\n      owner_id: '',\n      announcement_channel_id: '',\n      event_channel_id: ''\n    });\n  };\n\n  const handleJoinRequestAction = async (requestId, action) => {\n    try {\n      await organizationService.processJoinRequest(id, requestId, action);\n      toast.success(action === 'accepted' ? 'Demande acceptée' : 'Demande refusée');\n      loadJoinRequests();\n      if (action === 'accepted') {\n        loadData(); // Refresh member count\n      }\n    } catch (error) {\n      console.error('Failed to process join request:', error);\n      toast.error('Erreur lors du traitement de la demande');\n    }\n  };\n\n  const handleMemberRoleChange = async (memberId, newRole) => {\n    try {\n      await organizationService.updateMemberRole(id, memberId, newRole);\n      toast.success('Rôle mis à jour');\n      loadData();\n    } catch (error) {\n      console.error('Failed to update member role:', error);\n      toast.error('Erreur lors de la mise à jour du rôle');\n    }\n  };\n\n  const handleRemoveMember = async (memberId) => {\n    if (!window.confirm('Êtes-vous sûr de vouloir retirer ce membre ?')) {\n      return;\n    }\n    \n    try {\n      await organizationService.removeMember(id, memberId);\n      toast.success('Membre retiré');\n      loadData();\n    } catch (error) {\n      console.error('Failed to remove member:', error);\n      toast.error('Erreur lors du retrait du membre');\n    }\n  };\n\n  const handleTransferOwnership = async () => {\n    if (!selectedNewOwner) return;\n    \n    try {\n      await organizationService.transferOwnership(id, selectedNewOwner);\n      toast.success('Propriété transférée');\n      setShowTransferModal(false);\n      navigate(`/organizations/${id}`);\n    } catch (error) {\n      console.error('Failed to transfer ownership:', error);\n      toast.error('Erreur lors du transfert de propriété');\n    }\n  };\n\n  const handleDeleteOrganization = async () => {\n    try {\n      await organizationService.deleteOrganization(id);\n      toast.success('Organisation supprimée');\n      setShowDeleteModal(false);\n      navigate('/organizations');\n    } catch (error) {\n      console.error('Failed to delete organization:', error);\n      toast.error('Erreur lors de la suppression');\n    }\n  };\n\n  const handleLogoUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Validate file size (10MB limit)\n    if (file.size > 10 * 1024 * 1024) {\n      toast.error('Le fichier ne doit pas dépasser 10MB');\n      return;\n    }\n\n    // Validate file type\n    if (!file.type.startsWith('image/')) {\n      toast.error('Seules les images sont acceptées');\n      return;\n    }\n\n    try {\n      const response = await organizationService.uploadLogo(id, file);\n      toast.success('Logo téléchargé avec succès');\n      // Refresh organization data\n      loadData();\n    } catch (error) {\n      console.error('Failed to upload logo:', error);\n      toast.error('Erreur lors du téléchargement du logo');\n    }\n  };\n\n  const handleBannerUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Validate file size (10MB limit)\n    if (file.size > 10 * 1024 * 1024) {\n      toast.error('Le fichier ne doit pas dépasser 10MB');\n      return;\n    }\n\n    // Validate file type\n    if (!file.type.startsWith('image/')) {\n      toast.error('Seules les images sont acceptées');\n      return;\n    }\n\n    try {\n      const response = await organizationService.uploadBanner(id, file);\n      toast.success('Bannière téléchargée avec succès');\n      // Refresh organization data\n      loadData();\n    } catch (error) {\n      console.error('Failed to upload banner:', error);\n      toast.error('Erreur lors du téléchargement de la bannière');\n    }\n  };\n\n  const isOwner = user && organization && user.id === organization.owner_id;\n  const isAdmin = members.find(m => m.user_id === user?.id)?.role === 'admin' || isOwner;\n  const isModerator = members.find(m => m.user_id === user?.id)?.role === 'moderator' || isAdmin;\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-dark-950 flex items-center justify-center\">\n        <div className=\"loading-spinner w-12 h-12\"></div>\n      </div>\n    );\n  }\n\n  if (!organization) {\n    return (\n      <div className=\"min-h-screen bg-dark-950 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-white mb-4\">Organisation non trouvée</h1>\n          <button onClick={() => navigate('/organizations')} className=\"btn-primary\">\n            Retour aux organisations\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isModerator) {\n    return (\n      <div className=\"min-h-screen bg-dark-950 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <ExclamationTriangleIcon className=\"w-16 h-16 text-red-400 mx-auto mb-4\" />\n          <h1 className=\"text-2xl font-bold text-white mb-4\">Accès refusé</h1>\n          <p className=\"text-gray-400 mb-8\">Vous n'avez pas les permissions pour gérer cette organisation.</p>\n          <button onClick={() => navigate(`/organizations/${id}`)} className=\"btn-primary\">\n            Voir l'organisation\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const tabs = [\n    { id: 'profile', name: 'Profil', icon: PencilIcon, visible: isAdmin },\n    { id: 'media', name: 'Médias', icon: PhotoIcon, visible: isAdmin },\n    { id: 'discord', name: 'Discord', icon: ChatBubbleLeftRightIcon, visible: isAdmin },\n    { id: 'members', name: 'Membres', icon: UsersIcon, visible: isModerator },\n    { id: 'requests', name: 'Demandes', icon: CheckCircleIcon, visible: isModerator && organization.membership_policy === 'request_only' },\n    { id: 'danger', name: 'Zone de danger', icon: ExclamationTriangleIcon, visible: isOwner }\n  ].filter(tab => tab.visible);\n\n  return (\n    <div className=\"min-h-screen bg-dark-950 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"glass-effect rounded-2xl p-8 mb-8\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-4xl font-bold text-white mb-2\">\n                Gérer {organization.name}\n              </h1>\n              <p className=\"text-gray-400\">\n                Administrez votre organisation et ses membres\n              </p>\n            </div>\n            <button\n              onClick={() => navigate(`/organizations/${id}`)}\n              className=\"btn-ghost\"\n            >\n              Voir l'organisation\n            </button>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"card p-6 mb-8\">\n          <div className=\"border-b border-dark-600 mb-8\">\n            <nav className=\"-mb-px flex space-x-8\">\n              {tabs.map((tab) => (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id)}\n                  className={`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${\n                    activeTab === tab.id\n                      ? 'border-primary-500 text-primary-400'\n                      : 'border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300'\n                  }`}\n                >\n                  <tab.icon className=\"w-5 h-5 mr-2\" />\n                  {tab.name}\n                  {tab.id === 'requests' && joinRequests.length > 0 && (\n                    <span className=\"ml-2 bg-primary-500 text-white text-xs rounded-full px-2 py-1\">\n                      {joinRequests.length}\n                    </span>\n                  )}\n                </button>\n              ))}\n            </nav>\n          </div>\n\n          {/* Tab Content */}\n          {activeTab === 'profile' && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-white mb-6\">Informations du profil</h2>\n              <form onSubmit={handleProfileUpdate} className=\"space-y-6\">\n                <div className=\"grid md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      Nom de l'organisation *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={profileForm.name}\n                      onChange={(e) => setProfileForm({...profileForm, name: e.target.value})}\n                      className=\"input-primary w-full\"\n                      required\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      Visibilité\n                    </label>\n                    <select\n                      value={profileForm.visibility}\n                      onChange={(e) => setProfileForm({...profileForm, visibility: e.target.value})}\n                      className=\"input-primary w-full\"\n                    >\n                      <option value=\"public\">Publique</option>\n                      <option value=\"unlisted\">Non listée</option>\n                      <option value=\"private\">Privée</option>\n                    </select>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      Politique d'adhésion\n                    </label>\n                    <select\n                      value={profileForm.membership_policy}\n                      onChange={(e) => setProfileForm({...profileForm, membership_policy: e.target.value})}\n                      className=\"input-primary w-full\"\n                    >\n                      <option value=\"open\">Ouverte</option>\n                      <option value=\"request_only\">Sur demande</option>\n                    </select>\n                  </div>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                    Description\n                  </label>\n                  <textarea\n                    value={profileForm.description}\n                    onChange={(e) => setProfileForm({...profileForm, description: e.target.value})}\n                    className=\"input-primary w-full\"\n                    rows=\"4\"\n                    placeholder=\"Décrivez votre organisation...\"\n                  />\n                </div>\n                \n                <div className=\"grid md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      Site web\n                    </label>\n                    <input\n                      type=\"url\"\n                      value={profileForm.website_url}\n                      onChange={(e) => setProfileForm({...profileForm, website_url: e.target.value})}\n                      className=\"input-primary w-full\"\n                      placeholder=\"https://example.com\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      Discord\n                    </label>\n                    <input\n                      type=\"url\"\n                      value={profileForm.discord_url}\n                      onChange={(e) => setProfileForm({...profileForm, discord_url: e.target.value})}\n                      className=\"input-primary w-full\"\n                      placeholder=\"https://discord.gg/...\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      Twitter\n                    </label>\n                    <input\n                      type=\"url\"\n                      value={profileForm.twitter_url}\n                      onChange={(e) => setProfileForm({...profileForm, twitter_url: e.target.value})}\n                      className=\"input-primary w-full\"\n                      placeholder=\"https://twitter.com/...\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      YouTube\n                    </label>\n                    <input\n                      type=\"url\"\n                      value={profileForm.youtube_url}\n                      onChange={(e) => setProfileForm({...profileForm, youtube_url: e.target.value})}\n                      className=\"input-primary w-full\"\n                      placeholder=\"https://youtube.com/...\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      Twitch\n                    </label>\n                    <input\n                      type=\"url\"\n                      value={profileForm.twitch_url}\n                      onChange={(e) => setProfileForm({...profileForm, twitch_url: e.target.value})}\n                      className=\"input-primary w-full\"\n                      placeholder=\"https://twitch.tv/...\"\n                    />\n                  </div>\n                </div>\n                \n                <div className=\"flex justify-end\">\n                  <button type=\"submit\" className=\"btn-primary\">\n                    Sauvegarder les modifications\n                  </button>\n                </div>\n              </form>\n            </div>\n          )}\n\n          {activeTab === 'media' && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-white mb-6\">Gestion des médias</h2>\n              <div className=\"space-y-8\">\n                {/* Logo */}\n                <div>\n                  <h3 className=\"text-lg font-semibold text-white mb-4\">Logo de l'organisation</h3>\n                  <div className=\"flex items-center space-x-6\">\n                    {organization.logo_url ? (\n                      <img\n                        src={getMediaUrl(organization.logo_url)}\n                        alt=\"Logo\"\n                        className=\"w-20 h-20 rounded-lg object-cover\"\n                      />\n                    ) : (\n                      <div className=\"w-20 h-20 bg-dark-600 rounded-lg flex items-center justify-center\">\n                        <PhotoIcon className=\"w-8 h-8 text-gray-400\" />\n                      </div>\n                    )}\n                    <div>\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={handleLogoUpload}\n                        className=\"hidden\"\n                        id=\"logo-upload\"\n                      />\n                      <label htmlFor=\"logo-upload\" className=\"btn-secondary cursor-pointer\">\n                        {organization.logo_url ? 'Changer le logo' : 'Ajouter un logo'}\n                      </label>\n                      <p className=\"text-sm text-gray-400 mt-2\">\n                        Format recommandé: PNG, JPG (max 10MB)\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Banner */}\n                <div>\n                  <h3 className=\"text-lg font-semibold text-white mb-4\">Bannière de l'organisation</h3>\n                  <div className=\"space-y-4\">\n                    {organization.banner_url ? (\n                      <img\n                        src={getMediaUrl(organization.banner_url)}\n                        alt=\"Bannière\"\n                        className=\"w-full h-48 rounded-lg object-cover\"\n                      />\n                    ) : (\n                      <div className=\"w-full h-48 bg-dark-600 rounded-lg flex items-center justify-center\">\n                        <PhotoIcon className=\"w-12 h-12 text-gray-400\" />\n                      </div>\n                    )}\n                    <div>\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={handleBannerUpload}\n                        className=\"hidden\"\n                        id=\"banner-upload\"\n                      />\n                      <label htmlFor=\"banner-upload\" className=\"btn-secondary cursor-pointer\">\n                        {organization.banner_url ? 'Changer la bannière' : 'Ajouter une bannière'}\n                      </label>\n                      <p className=\"text-sm text-gray-400 mt-2\">\n                        Format recommandé: PNG, JPG, ratio 16:9 (max 10MB)\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {activeTab === 'discord' && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-white mb-6\">Intégration Discord</h2>\n              <form onSubmit={handleDiscordLink} className=\"space-y-6\">\n                <div className=\"grid md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">ID du serveur</label>\n                    <input\n                      type=\"text\"\n                      value={discordForm.guild_id}\n                      onChange={(e) => setDiscordForm({ ...discordForm, guild_id: e.target.value })}\n                      className=\"input-primary w-full\"\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Nom du serveur</label>\n                    <input\n                      type=\"text\"\n                      value={discordForm.guild_name}\n                      onChange={(e) => setDiscordForm({ ...discordForm, guild_name: e.target.value })}\n                      className=\"input-primary w-full\"\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">ID du propriétaire</label>\n                    <input\n                      type=\"text\"\n                      value={discordForm.owner_id}\n                      onChange={(e) => setDiscordForm({ ...discordForm, owner_id: e.target.value })}\n                      className=\"input-primary w-full\"\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">ID du canal d'annonces</label>\n                    <input\n                      type=\"text\"\n                      value={discordForm.announcement_channel_id}\n                      onChange={(e) => setDiscordForm({ ...discordForm, announcement_channel_id: e.target.value })}\n                      className=\"input-primary w-full\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">ID du canal d'événements</label>\n                    <input\n                      type=\"text\"\n                      value={discordForm.event_channel_id}\n                      onChange={(e) => setDiscordForm({ ...discordForm, event_channel_id: e.target.value })}\n                      className=\"input-primary w-full\"\n                    />\n                  </div>\n                </div>\n                <div>\n                  <button type=\"submit\" className=\"btn-primary\">Lier le serveur Discord</button>\n                </div>\n              </form>\n            </div>\n          )}\n\n          {activeTab === 'members' && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-white mb-6\">\n                Gestion des membres ({members.length})\n              </h2>\n              <div className=\"space-y-4\">\n                {members.map((member) => {\n                  const isOrgOwner = member.user_id === organization.owner_id;\n                  return (\n                    <div key={member.user_id} className=\"glass-effect rounded-lg p-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center\">\n                          {member.avatar_url ? (\n                            <img\n                              src={member.avatar_url}\n                              alt={member.handle}\n                              className=\"w-12 h-12 rounded-full mr-4\"\n                            />\n                          ) : (\n                            <div className=\"w-12 h-12 bg-dark-600 rounded-full flex items-center justify-center mr-4\">\n                              <span className=\"text-white font-bold\">\n                                {member.handle.charAt(0).toUpperCase()}\n                              </span>\n                            </div>\n                          )}\n                          <div>\n                            <h4 className=\"text-white font-semibold\">{member.handle}</h4>\n                            <p className=\"text-gray-400 text-sm\">{member.discord_username}</p>\n                          </div>\n                        </div>\n\n                        <div className=\"flex items-center space-x-4\">\n                          {!isOrgOwner && isAdmin && (\n                            <select\n                              value={member.role}\n                              onChange={(e) => handleMemberRoleChange(member.user_id, e.target.value)}\n                              className=\"input-primary text-sm\"\n                            >\n                              <option value=\"member\">Membre</option>\n                              <option value=\"moderator\">Modérateur</option>\n                              <option value=\"admin\">Administrateur</option>\n                            </select>\n                          )}\n                          \n                          <span className={`px-3 py-1 rounded-full text-xs font-medium ${\n                            isOrgOwner\n                              ? 'bg-purple-100 text-purple-800'\n                              : member.role === 'admin'\n                              ? 'bg-red-100 text-red-800'\n                              : member.role === 'moderator'\n                              ? 'bg-yellow-100 text-yellow-800'\n                              : 'bg-green-100 text-green-800'\n                          }`}>\n                            {isOrgOwner ? 'Propriétaire' : \n                             member.role === 'admin' ? 'Admin' :\n                             member.role === 'moderator' ? 'Modérateur' : 'Membre'}\n                          </span>\n\n                          {!isOrgOwner && isAdmin && (\n                            <button\n                              onClick={() => handleRemoveMember(member.user_id)}\n                              className=\"text-red-400 hover:text-red-300 p-2\"\n                              title=\"Retirer le membre\"\n                            >\n                              <XMarkIcon className=\"w-5 h-5\" />\n                            </button>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n\n          {activeTab === 'requests' && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-white mb-6\">\n                Demandes d'adhésion ({joinRequests.length})\n              </h2>\n              {joinRequests.length > 0 ? (\n                <div className=\"space-y-4\">\n                  {joinRequests.map((request) => (\n                    <div key={request.id} className=\"glass-effect rounded-lg p-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center\">\n                          {request.user_avatar_url ? (\n                            <img\n                              src={request.user_avatar_url}\n                              alt={request.user_handle}\n                              className=\"w-12 h-12 rounded-full mr-4\"\n                            />\n                          ) : (\n                            <div className=\"w-12 h-12 bg-dark-600 rounded-full flex items-center justify-center mr-4\">\n                              <span className=\"text-white font-bold\">\n                                {request.user_handle.charAt(0).toUpperCase()}\n                              </span>\n                            </div>\n                          )}\n                          <div>\n                            <h4 className=\"text-white font-semibold\">{request.user_handle}</h4>\n                            {request.message && (\n                              <p className=\"text-gray-300 text-sm mt-1\">{request.message}</p>\n                            )}\n                            <p className=\"text-gray-500 text-xs mt-1\">\n                              Demandé le {new Date(request.created_at).toLocaleDateString('fr-FR')}\n                            </p>\n                          </div>\n                        </div>\n\n                        <div className=\"flex space-x-2\">\n                          <button\n                            onClick={() => handleJoinRequestAction(request.id, 'accepted')}\n                            className=\"btn-primary text-sm\"\n                          >\n                            Accepter\n                          </button>\n                          <button\n                            onClick={() => handleJoinRequestAction(request.id, 'rejected')}\n                            className=\"btn-ghost text-red-400 hover:text-red-300 text-sm\"\n                          >\n                            Refuser\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"text-center py-8\">\n                  <CheckCircleIcon className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\n                  <p className=\"text-gray-400\">Aucune demande d'adhésion en attente</p>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'danger' && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-white mb-6\">Zone de danger</h2>\n              <div className=\"space-y-6\">\n                {/* Transfer Ownership */}\n                <div className=\"border border-yellow-600 rounded-lg p-6\">\n                  <h3 className=\"text-lg font-semibold text-yellow-400 mb-2\">\n                    Transférer la propriété\n                  </h3>\n                  <p className=\"text-gray-300 mb-4\">\n                    Transférez définitivement la propriété de cette organisation à un autre membre.\n                  </p>\n                  <button\n                    onClick={() => setShowTransferModal(true)}\n                    className=\"btn-secondary text-yellow-400 border-yellow-400 hover:bg-yellow-400 hover:text-dark-900\"\n                  >\n                    <ArrowRightOnRectangleIcon className=\"w-5 h-5 mr-2\" />\n                    Transférer la propriété\n                  </button>\n                </div>\n\n                {/* Delete Organization */}\n                <div className=\"border border-red-600 rounded-lg p-6\">\n                  <h3 className=\"text-lg font-semibold text-red-400 mb-2\">\n                    Supprimer l'organisation\n                  </h3>\n                  <p className=\"text-gray-300 mb-4\">\n                    Supprimez définitivement cette organisation. Cette action est irréversible.\n                  </p>\n                  <button\n                    onClick={() => setShowDeleteModal(true)}\n                    className=\"btn-secondary text-red-400 border-red-400 hover:bg-red-400 hover:text-white\"\n                  >\n                    <TrashIcon className=\"w-5 h-5 mr-2\" />\n                    Supprimer l'organisation\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Transfer Ownership Modal */}\n        {showTransferModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-dark-800 rounded-lg p-6 max-w-md w-full\">\n              <h3 className=\"text-xl font-bold text-white mb-4\">\n                Transférer la propriété\n              </h3>\n              <p className=\"text-gray-300 mb-6\">\n                Sélectionnez le nouveau propriétaire de cette organisation. Cette action est irréversible.\n              </p>\n              \n              <div className=\"mb-6\">\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Nouveau propriétaire\n                </label>\n                <select\n                  value={selectedNewOwner}\n                  onChange={(e) => setSelectedNewOwner(e.target.value)}\n                  className=\"input-primary w-full\"\n                >\n                  <option value=\"\">Sélectionner un membre...</option>\n                  {members\n                    .filter(m => m.user_id !== user.id)\n                    .map(member => (\n                      <option key={member.user_id} value={member.user_id}>\n                        {member.handle} ({member.role})\n                      </option>\n                    ))}\n                </select>\n              </div>\n              \n              <div className=\"flex space-x-4\">\n                <button\n                  onClick={() => setShowTransferModal(false)}\n                  className=\"btn-ghost flex-1\"\n                >\n                  Annuler\n                </button>\n                <button\n                  onClick={handleTransferOwnership}\n                  disabled={!selectedNewOwner}\n                  className=\"btn-primary flex-1 bg-yellow-600 hover:bg-yellow-700\"\n                >\n                  Confirmer le transfert\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Delete Confirmation Modal */}\n        {showDeleteModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-dark-800 rounded-lg p-6 max-w-md w-full\">\n              <div className=\"flex items-center mb-4\">\n                <ExclamationTriangleIcon className=\"w-8 h-8 text-red-400 mr-3\" />\n                <h3 className=\"text-xl font-bold text-white\">\n                  Supprimer l'organisation\n                </h3>\n              </div>\n              \n              <p className=\"text-gray-300 mb-6\">\n                Êtes-vous absolument sûr de vouloir supprimer <strong>{organization.name}</strong> ?\n                Cette action supprimera définitivement l'organisation, tous ses membres, événements et données associées.\n                Cette action est <strong>irréversible</strong>.\n              </p>\n              \n              <div className=\"flex space-x-4\">\n                <button\n                  onClick={() => setShowDeleteModal(false)}\n                  className=\"btn-ghost flex-1\"\n                >\n                  Annuler\n                </button>\n                <button\n                  onClick={handleDeleteOrganization}\n                  className=\"btn-primary flex-1 bg-red-600 hover:bg-red-700\"\n                >\n                  Oui, supprimer définitivement\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ManageOrganizationPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}