{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import{toast}from'react-hot-toast';import{CogIcon,PlayIcon,StopIcon,LockClosedIcon,LockOpenIcon,TrophyIcon,UsersIcon,CalendarDaysIcon,ChartBarIcon,ExclamationTriangleIcon,CheckCircleIcon,ArrowLeftIcon}from'@heroicons/react/24/outline';import{tournamentService}from'../services/tournamentService';import{useAuth}from'../App';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TournamentAdminPage=()=>{var _tournament$matches,_tournament$matches2,_tournament$teams;const{id}=useParams();const[tournament,setTournament]=useState(null);const[loading,setLoading]=useState(true);const[actionLoading,setActionLoading]=useState(false);const[showConfirmModal,setShowConfirmModal]=useState(null);const{user,isAuthenticated}=useAuth();useEffect(()=>{if(id){loadTournament();}},[id]);const loadTournament=async()=>{try{setLoading(true);const tournamentData=await tournamentService.getTournament(id);setTournament(tournamentData);// Check if user has admin permissions\nif(!tournamentData.can_edit){toast.error('Vous n\\'avez pas les permissions d\\'administration pour ce tournoi');return;}}catch(error){console.error('Failed to load tournament:',error);toast.error('Tournoi non trouvé');}finally{setLoading(false);}};const handleStartTournament=async()=>{try{setActionLoading(true);await tournamentService.startTournament(tournament.id);toast.success('Tournoi démarré avec succès !');await loadTournament();}catch(error){var _error$response,_error$response$data;if((_error$response=error.response)!==null&&_error$response!==void 0&&(_error$response$data=_error$response.data)!==null&&_error$response$data!==void 0&&_error$response$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors du démarrage du tournoi');}}finally{setActionLoading(false);setShowConfirmModal(null);}};const handleCloseRegistration=async()=>{try{setActionLoading(true);await tournamentService.closeTournamentRegistration(tournament.id);toast.success('Inscriptions fermées avec succès !');await loadTournament();}catch(error){var _error$response2,_error$response2$data;if((_error$response2=error.response)!==null&&_error$response2!==void 0&&(_error$response2$data=_error$response2.data)!==null&&_error$response2$data!==void 0&&_error$response2$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors de la fermeture des inscriptions');}}finally{setActionLoading(false);setShowConfirmModal(null);}};const handleReopenRegistration=async()=>{try{setActionLoading(true);await tournamentService.reopenTournamentRegistration(tournament.id);toast.success('Inscriptions rouvertes avec succès !');await loadTournament();}catch(error){var _error$response3,_error$response3$data;if((_error$response3=error.response)!==null&&_error$response3!==void 0&&(_error$response3$data=_error$response3.data)!==null&&_error$response3$data!==void 0&&_error$response3$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors de la réouverture des inscriptions');}}finally{setActionLoading(false);setShowConfirmModal(null);}};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('fr-FR',{weekday:'long',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});};const getStateColor=state=>{const colors={draft:'bg-gray-600',open_registration:'bg-green-600',registration_closed:'bg-yellow-600',ongoing:'bg-blue-600',finished:'bg-purple-600',cancelled:'bg-red-600'};return colors[state]||'bg-gray-600';};const formatTournamentState=state=>{const states={draft:'Brouillon',open_registration:'Inscriptions ouvertes',registration_closed:'Inscriptions fermées',ongoing:'En cours',finished:'Terminé',cancelled:'Annulé'};return states[state]||state;};const getAvailableActions=()=>{const actions=[];switch(tournament===null||tournament===void 0?void 0:tournament.state){case'open_registration':actions.push({key:'close_registration',label:'Fermer les inscriptions',description:'Empêcher de nouvelles équipes de s\\'inscrire',icon:LockClosedIcon,variant:'primary',action:()=>setShowConfirmModal('close_registration')});break;case'registration_closed':actions.push({key:'start_tournament',label:'Démarrer le tournoi',description:'Générer le bracket et commencer la compétition',icon:PlayIcon,variant:'success',action:()=>setShowConfirmModal('start_tournament'),condition:tournament.team_count>=2});actions.push({key:'reopen_registration',label:'Rouvrir les inscriptions',description:'Permettre à d\\'autres équipes de s\\'inscrire',icon:LockOpenIcon,variant:'secondary',action:()=>setShowConfirmModal('reopen_registration')});break;case'ongoing':// Tournament management actions could go here\nbreak;case'finished':// Post-tournament actions could go here\nbreak;}return actions;};const ConfirmModal=_ref=>{let{type,onConfirm,onCancel}=_ref;const modals={start_tournament:{title:'Démarrer le tournoi',message:'Êtes-vous sûr de vouloir démarrer le tournoi ? Le bracket sera généré et les inscriptions seront définitivement fermées.',confirmText:'Démarrer',confirmClass:'btn-success',icon:PlayIcon,iconColor:'text-green-400'},close_registration:{title:'Fermer les inscriptions',message:'Voulez-vous fermer les inscriptions ? Aucune nouvelle équipe ne pourra s\\'inscrire.',confirmText:'Fermer',confirmClass:'btn-primary',icon:LockClosedIcon,iconColor:'text-primary-400'},reopen_registration:{title:'Rouvrir les inscriptions',message:'Voulez-vous rouvrir les inscriptions ? D\\'autres équipes pourront s\\'inscrire.',confirmText:'Rouvrir',confirmClass:'btn-secondary',icon:LockOpenIcon,iconColor:'text-gray-400'}};const modal=modals[type];if(!modal)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-800 rounded-lg max-w-md w-full p-6 border border-dark-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(modal.icon,{className:\"w-8 h-8 \".concat(modal.iconColor,\" mr-3\")}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white\",children:modal.title})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-6\",children:modal.message}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"btn-secondary\",disabled:actionLoading,children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onConfirm,disabled:actionLoading,className:\"\".concat(modal.confirmClass,\" flex items-center\"),children:actionLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-4 h-4 mr-2\"}),\"Chargement...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(modal.icon,{className:\"w-4 h-4 mr-2\"}),modal.confirmText]})})]})]})});};if(loading||!tournament){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-dark-950 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-12 h-12\"})});}if(!tournament.can_edit){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-dark-950 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"w-16 h-16 text-red-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-white mb-2\",children:\"Acc\\xE8s refus\\xE9\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mb-8\",children:\"Vous n'avez pas les permissions d'administration pour ce tournoi.\"}),/*#__PURE__*/_jsx(Link,{to:\"/tournaments/\".concat(id),className:\"btn-primary\",children:\"Retour au tournoi\"})]})});}const availableActions=getAvailableActions();return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-dark-950 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-8\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/tournaments/\".concat(id),className:\"flex items-center text-gray-400 hover:text-white mr-4\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"w-5 h-5 mr-2\"}),\"Retour au tournoi\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(CogIcon,{className:\"w-8 h-8 text-primary-400\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-white\",children:\"Administration du tournoi\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"glass-effect rounded-xl p-8 mb-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col lg:flex-row lg:items-center lg:justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mr-3 text-white \".concat(getStateColor(tournament.state)),children:formatTournamentState(tournament.state)}),/*#__PURE__*/_jsxs(Link,{to:\"/organizations/\".concat(tournament.org_id),className:\"text-primary-400 hover:text-primary-300 font-medium\",children:[tournament.org_name,\" (\",tournament.org_tag,\")\"]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-4\",children:tournament.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4 text-gray-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CalendarDaysIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(tournament.start_at_utc)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(TrophyIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsx(\"span\",{children:tournament.format==='se'?'Simple Élimination':tournament.format==='de'?'Double Élimination':tournament.format==='rr'?'Round Robin':'Format personnalisé'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(UsersIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsxs(\"span\",{children:[tournament.team_count,\"/\",tournament.max_teams,\" \\xE9quipes\",/*#__PURE__*/_jsx(\"span\",{className:\"mx-2\",children:\"\\u2022\"}),tournament.team_size,\" joueurs/\\xE9quipe\"]})]}),tournament.current_round>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ChartBarIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Round \",tournament.current_round,\"/\",tournament.rounds_total]})]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-xl p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-white mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(ChartBarIcon,{className:\"w-6 h-6 mr-3 text-primary-400\"}),\"Statistiques du tournoi\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-700 rounded-lg p-4 border border-dark-600 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-white mb-1\",children:tournament.team_count}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:\"\\xC9quipes inscrites\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:[tournament.max_teams-tournament.team_count,\" places restantes\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-700 rounded-lg p-4 border border-dark-600 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-white mb-1\",children:tournament.team_count*tournament.team_size}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:\"Joueurs inscrits\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-700 rounded-lg p-4 border border-dark-600 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-white mb-1\",children:((_tournament$matches=tournament.matches)===null||_tournament$matches===void 0?void 0:_tournament$matches.length)||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:\"Matches total\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-700 rounded-lg p-4 border border-dark-600 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-white mb-1\",children:((_tournament$matches2=tournament.matches)===null||_tournament$matches2===void 0?void 0:_tournament$matches2.filter(m=>m.state==='verified').length)||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:\"Matches termin\\xE9s\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-white mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(UsersIcon,{className:\"w-6 h-6 mr-3 text-primary-400\"}),\"\\xC9quipes inscrites (\",((_tournament$teams=tournament.teams)===null||_tournament$teams===void 0?void 0:_tournament$teams.length)||0,\")\"]}),tournament.teams&&tournament.teams.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:tournament.teams.map(team=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 bg-dark-700 rounded-lg border border-dark-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[team.seed&&/*#__PURE__*/_jsx(\"span\",{className:\"bg-primary-600 text-white text-sm rounded-full w-7 h-7 flex items-center justify-center font-bold\",children:team.seed}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-white\",children:team.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400\",children:[\"Capitaine: \",team.captain_handle,\" \\u2022 \",team.member_count,\" membres\"]})]})]}),tournament.format==='rr'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-right text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-white font-medium\",children:[team.wins,\"V - \",team.losses,\"D\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-400\",children:[team.points,\" pts\"]})]})]},team.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(UsersIcon,{className:\"w-16 h-16 text-gray-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Aucune \\xE9quipe inscrite\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-xl p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-white mb-6\",children:\"Actions disponibles\"}),availableActions.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:availableActions.map(action=>/*#__PURE__*/_jsx(\"div\",{children:action.condition!==false&&/*#__PURE__*/_jsxs(\"button\",{onClick:action.action,disabled:actionLoading,className:\"w-full \".concat(action.variant==='success'?'btn-success':action.variant==='primary'?'btn-primary':action.variant==='danger'?'btn-danger':'btn-secondary',\" \\n                                      flex items-center justify-center p-4 rounded-lg\"),children:[/*#__PURE__*/_jsx(action.icon,{className:\"w-5 h-5 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:action.label}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs opacity-80\",children:action.description})]})]})},action.key))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-12 h-12 text-green-400 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Aucune action requise pour le moment\"})]}),tournament.state==='registration_closed'&&tournament.team_count<2&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-red-900/20 border border-red-500/30 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"w-5 h-5 text-red-400 mr-2 mt-0.5\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-300 text-sm\",children:\"Le tournoi n\\xE9cessite au moins 2 \\xE9quipes pour \\xEAtre d\\xE9marr\\xE9.\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-xl p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-white mb-4\",children:\"R\\xE9sum\\xE9\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"\\xC9tat:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-medium\",children:formatTournamentState(tournament.state)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Progression:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-medium\",children:tournament.current_round>0?\"\".concat(Math.round(tournament.current_round/tournament.rounds_total*100),\"%\"):'0%'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Cr\\xE9\\xE9 le:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:new Date(tournament.created_at).toLocaleDateString('fr-FR')})]}),tournament.winner_team_name&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between pt-2 border-t border-dark-600\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Gagnant:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-accent-gold font-medium flex items-center\",children:[/*#__PURE__*/_jsx(TrophyIcon,{className:\"w-4 h-4 mr-1\"}),tournament.winner_team_name]})]})]})]})]})]})]}),showConfirmModal&&/*#__PURE__*/_jsx(ConfirmModal,{type:showConfirmModal,onConfirm:()=>{switch(showConfirmModal){case'start_tournament':handleStartTournament();break;case'close_registration':handleCloseRegistration();break;case'reopen_registration':handleReopenRegistration();break;}},onCancel:()=>setShowConfirmModal(null)})]});};export default TournamentAdminPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","toast","CogIcon","PlayIcon","StopIcon","LockClosedIcon","LockOpenIcon","TrophyIcon","UsersIcon","CalendarDaysIcon","ChartBarIcon","ExclamationTriangleIcon","CheckCircleIcon","ArrowLeftIcon","tournamentService","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TournamentAdminPage","_tournament$matches","_tournament$matches2","_tournament$teams","id","tournament","setTournament","loading","setLoading","actionLoading","setActionLoading","showConfirmModal","setShowConfirmModal","user","isAuthenticated","loadTournament","tournamentData","getTournament","can_edit","error","console","handleStartTournament","startTournament","success","_error$response","_error$response$data","response","data","detail","handleCloseRegistration","closeTournamentRegistration","_error$response2","_error$response2$data","handleReopenRegistration","reopenTournamentRegistration","_error$response3","_error$response3$data","formatDate","dateString","Date","toLocaleDateString","weekday","year","month","day","hour","minute","getStateColor","state","colors","draft","open_registration","registration_closed","ongoing","finished","cancelled","formatTournamentState","states","getAvailableActions","actions","push","key","label","description","icon","variant","action","condition","team_count","ConfirmModal","_ref","type","onConfirm","onCancel","modals","start_tournament","title","message","confirmText","confirmClass","iconColor","close_registration","reopen_registration","modal","className","children","concat","onClick","disabled","to","availableActions","org_id","org_name","org_tag","name","start_at_utc","format","max_teams","team_size","current_round","rounds_total","matches","length","filter","m","teams","map","team","seed","captain_handle","member_count","wins","losses","points","Math","round","created_at","winner_team_name"],"sources":["C:/Users/Knight-Server/Desktop/VerseLink-Xapollo/frontend/src/pages/TournamentAdminPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { \n  CogIcon,\n  PlayIcon,\n  StopIcon,\n  LockClosedIcon,\n  LockOpenIcon,\n  TrophyIcon,\n  UsersIcon,\n  CalendarDaysIcon,\n  ChartBarIcon,\n  ExclamationTriangleIcon,\n  CheckCircleIcon,\n  ArrowLeftIcon\n} from '@heroicons/react/24/outline';\nimport { tournamentService } from '../services/tournamentService';\nimport { useAuth } from '../App';\n\nconst TournamentAdminPage = () => {\n  const { id } = useParams();\n  const [tournament, setTournament] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [actionLoading, setActionLoading] = useState(false);\n  const [showConfirmModal, setShowConfirmModal] = useState(null);\n  const { user, isAuthenticated } = useAuth();\n\n  useEffect(() => {\n    if (id) {\n      loadTournament();\n    }\n  }, [id]);\n\n  const loadTournament = async () => {\n    try {\n      setLoading(true);\n      const tournamentData = await tournamentService.getTournament(id);\n      setTournament(tournamentData);\n      \n      // Check if user has admin permissions\n      if (!tournamentData.can_edit) {\n        toast.error('Vous n\\'avez pas les permissions d\\'administration pour ce tournoi');\n        return;\n      }\n    } catch (error) {\n      console.error('Failed to load tournament:', error);\n      toast.error('Tournoi non trouvé');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleStartTournament = async () => {\n    try {\n      setActionLoading(true);\n      await tournamentService.startTournament(tournament.id);\n      toast.success('Tournoi démarré avec succès !');\n      await loadTournament();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors du démarrage du tournoi');\n      }\n    } finally {\n      setActionLoading(false);\n      setShowConfirmModal(null);\n    }\n  };\n\n  const handleCloseRegistration = async () => {\n    try {\n      setActionLoading(true);\n      await tournamentService.closeTournamentRegistration(tournament.id);\n      toast.success('Inscriptions fermées avec succès !');\n      await loadTournament();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors de la fermeture des inscriptions');\n      }\n    } finally {\n      setActionLoading(false);\n      setShowConfirmModal(null);\n    }\n  };\n\n  const handleReopenRegistration = async () => {\n    try {\n      setActionLoading(true);\n      await tournamentService.reopenTournamentRegistration(tournament.id);\n      toast.success('Inscriptions rouvertes avec succès !');\n      await loadTournament();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors de la réouverture des inscriptions');\n      }\n    } finally {\n      setActionLoading(false);\n      setShowConfirmModal(null);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('fr-FR', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getStateColor = (state) => {\n    const colors = {\n      draft: 'bg-gray-600',\n      open_registration: 'bg-green-600',\n      registration_closed: 'bg-yellow-600',\n      ongoing: 'bg-blue-600',\n      finished: 'bg-purple-600',\n      cancelled: 'bg-red-600'\n    };\n    return colors[state] || 'bg-gray-600';\n  };\n\n  const formatTournamentState = (state) => {\n    const states = {\n      draft: 'Brouillon',\n      open_registration: 'Inscriptions ouvertes',\n      registration_closed: 'Inscriptions fermées',\n      ongoing: 'En cours',\n      finished: 'Terminé',\n      cancelled: 'Annulé'\n    };\n    return states[state] || state;\n  };\n\n  const getAvailableActions = () => {\n    const actions = [];\n\n    switch (tournament?.state) {\n      case 'open_registration':\n        actions.push({\n          key: 'close_registration',\n          label: 'Fermer les inscriptions',\n          description: 'Empêcher de nouvelles équipes de s\\'inscrire',\n          icon: LockClosedIcon,\n          variant: 'primary',\n          action: () => setShowConfirmModal('close_registration')\n        });\n        break;\n\n      case 'registration_closed':\n        actions.push({\n          key: 'start_tournament',\n          label: 'Démarrer le tournoi',\n          description: 'Générer le bracket et commencer la compétition',\n          icon: PlayIcon,\n          variant: 'success',\n          action: () => setShowConfirmModal('start_tournament'),\n          condition: tournament.team_count >= 2\n        });\n        \n        actions.push({\n          key: 'reopen_registration',\n          label: 'Rouvrir les inscriptions',\n          description: 'Permettre à d\\'autres équipes de s\\'inscrire',\n          icon: LockOpenIcon,\n          variant: 'secondary',\n          action: () => setShowConfirmModal('reopen_registration')\n        });\n        break;\n\n      case 'ongoing':\n        // Tournament management actions could go here\n        break;\n\n      case 'finished':\n        // Post-tournament actions could go here\n        break;\n    }\n\n    return actions;\n  };\n\n  const ConfirmModal = ({ type, onConfirm, onCancel }) => {\n    const modals = {\n      start_tournament: {\n        title: 'Démarrer le tournoi',\n        message: 'Êtes-vous sûr de vouloir démarrer le tournoi ? Le bracket sera généré et les inscriptions seront définitivement fermées.',\n        confirmText: 'Démarrer',\n        confirmClass: 'btn-success',\n        icon: PlayIcon,\n        iconColor: 'text-green-400'\n      },\n      close_registration: {\n        title: 'Fermer les inscriptions',\n        message: 'Voulez-vous fermer les inscriptions ? Aucune nouvelle équipe ne pourra s\\'inscrire.',\n        confirmText: 'Fermer',\n        confirmClass: 'btn-primary',\n        icon: LockClosedIcon,\n        iconColor: 'text-primary-400'\n      },\n      reopen_registration: {\n        title: 'Rouvrir les inscriptions',\n        message: 'Voulez-vous rouvrir les inscriptions ? D\\'autres équipes pourront s\\'inscrire.',\n        confirmText: 'Rouvrir',\n        confirmClass: 'btn-secondary',\n        icon: LockOpenIcon,\n        iconColor: 'text-gray-400'\n      }\n    };\n\n    const modal = modals[type];\n    if (!modal) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\">\n        <div className=\"bg-dark-800 rounded-lg max-w-md w-full p-6 border border-dark-600\">\n          <div className=\"flex items-center mb-4\">\n            <modal.icon className={`w-8 h-8 ${modal.iconColor} mr-3`} />\n            <h3 className=\"text-xl font-bold text-white\">{modal.title}</h3>\n          </div>\n          \n          <p className=\"text-gray-300 mb-6\">{modal.message}</p>\n          \n          <div className=\"flex items-center justify-end space-x-3\">\n            <button\n              onClick={onCancel}\n              className=\"btn-secondary\"\n              disabled={actionLoading}\n            >\n              Annuler\n            </button>\n            <button\n              onClick={onConfirm}\n              disabled={actionLoading}\n              className={`${modal.confirmClass} flex items-center`}\n            >\n              {actionLoading ? (\n                <>\n                  <div className=\"loading-spinner w-4 h-4 mr-2\"></div>\n                  Chargement...\n                </>\n              ) : (\n                <>\n                  <modal.icon className=\"w-4 h-4 mr-2\" />\n                  {modal.confirmText}\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  if (loading || !tournament) {\n    return (\n      <div className=\"min-h-screen bg-dark-950 flex items-center justify-center\">\n        <div className=\"loading-spinner w-12 h-12\"></div>\n      </div>\n    );\n  }\n\n  if (!tournament.can_edit) {\n    return (\n      <div className=\"min-h-screen bg-dark-950 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <ExclamationTriangleIcon className=\"w-16 h-16 text-red-400 mx-auto mb-4\" />\n          <h1 className=\"text-2xl font-bold text-white mb-2\">Accès refusé</h1>\n          <p className=\"text-gray-400 mb-8\">\n            Vous n'avez pas les permissions d'administration pour ce tournoi.\n          </p>\n          <Link to={`/tournaments/${id}`} className=\"btn-primary\">\n            Retour au tournoi\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  const availableActions = getAvailableActions();\n\n  return (\n    <div className=\"min-h-screen bg-dark-950 py-8\">\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"flex items-center mb-8\">\n          <Link \n            to={`/tournaments/${id}`}\n            className=\"flex items-center text-gray-400 hover:text-white mr-4\"\n          >\n            <ArrowLeftIcon className=\"w-5 h-5 mr-2\" />\n            Retour au tournoi\n          </Link>\n          <div className=\"flex items-center space-x-3\">\n            <CogIcon className=\"w-8 h-8 text-primary-400\" />\n            <h1 className=\"text-3xl font-bold text-white\">\n              Administration du tournoi\n            </h1>\n          </div>\n        </div>\n\n        {/* Tournament Overview */}\n        <div className=\"glass-effect rounded-xl p-8 mb-8\">\n          <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between\">\n            <div className=\"flex-1\">\n              <div className=\"flex items-center mb-4\">\n                <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mr-3 text-white ${getStateColor(tournament.state)}`}>\n                  {formatTournamentState(tournament.state)}\n                </span>\n                <Link \n                  to={`/organizations/${tournament.org_id}`}\n                  className=\"text-primary-400 hover:text-primary-300 font-medium\"\n                >\n                  {tournament.org_name} ({tournament.org_tag})\n                </Link>\n              </div>\n              \n              <h2 className=\"text-2xl font-bold text-white mb-4\">{tournament.name}</h2>\n              \n              <div className=\"grid md:grid-cols-2 gap-4 text-gray-300\">\n                <div className=\"flex items-center\">\n                  <CalendarDaysIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                  <span>{formatDate(tournament.start_at_utc)}</span>\n                </div>\n                \n                <div className=\"flex items-center\">\n                  <TrophyIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                  <span>\n                    {tournament.format === 'se' ? 'Simple Élimination' :\n                     tournament.format === 'de' ? 'Double Élimination' :\n                     tournament.format === 'rr' ? 'Round Robin' :\n                     'Format personnalisé'}\n                  </span>\n                </div>\n                \n                <div className=\"flex items-center\">\n                  <UsersIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                  <span>\n                    {tournament.team_count}/{tournament.max_teams} équipes\n                    <span className=\"mx-2\">•</span>\n                    {tournament.team_size} joueurs/équipe\n                  </span>\n                </div>\n                \n                {tournament.current_round > 0 && (\n                  <div className=\"flex items-center\">\n                    <ChartBarIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                    <span>\n                      Round {tournament.current_round}/{tournament.rounds_total}\n                    </span>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid lg:grid-cols-3 gap-8\">\n          {/* Statistics */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"glass-effect rounded-xl p-6 mb-6\">\n              <h3 className=\"text-xl font-bold text-white mb-6 flex items-center\">\n                <ChartBarIcon className=\"w-6 h-6 mr-3 text-primary-400\" />\n                Statistiques du tournoi\n              </h3>\n              \n              <div className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                <div className=\"bg-dark-700 rounded-lg p-4 border border-dark-600 text-center\">\n                  <div className=\"text-2xl font-bold text-white mb-1\">{tournament.team_count}</div>\n                  <div className=\"text-sm text-gray-400\">Équipes inscrites</div>\n                  <div className=\"text-xs text-gray-500 mt-1\">\n                    {tournament.max_teams - tournament.team_count} places restantes\n                  </div>\n                </div>\n                \n                <div className=\"bg-dark-700 rounded-lg p-4 border border-dark-600 text-center\">\n                  <div className=\"text-2xl font-bold text-white mb-1\">\n                    {tournament.team_count * tournament.team_size}\n                  </div>\n                  <div className=\"text-sm text-gray-400\">Joueurs inscrits</div>\n                </div>\n                \n                <div className=\"bg-dark-700 rounded-lg p-4 border border-dark-600 text-center\">\n                  <div className=\"text-2xl font-bold text-white mb-1\">{tournament.matches?.length || 0}</div>\n                  <div className=\"text-sm text-gray-400\">Matches total</div>\n                </div>\n                \n                <div className=\"bg-dark-700 rounded-lg p-4 border border-dark-600 text-center\">\n                  <div className=\"text-2xl font-bold text-white mb-1\">\n                    {tournament.matches?.filter(m => m.state === 'verified').length || 0}\n                  </div>\n                  <div className=\"text-sm text-gray-400\">Matches terminés</div>\n                </div>\n              </div>\n            </div>\n\n            {/* Team List */}\n            <div className=\"glass-effect rounded-xl p-6\">\n              <h3 className=\"text-xl font-bold text-white mb-6 flex items-center\">\n                <UsersIcon className=\"w-6 h-6 mr-3 text-primary-400\" />\n                Équipes inscrites ({tournament.teams?.length || 0})\n              </h3>\n              \n              {tournament.teams && tournament.teams.length > 0 ? (\n                <div className=\"space-y-3\">\n                  {tournament.teams.map((team) => (\n                    <div key={team.id} className=\"flex items-center justify-between p-4 bg-dark-700 rounded-lg border border-dark-600\">\n                      <div className=\"flex items-center space-x-3\">\n                        {team.seed && (\n                          <span className=\"bg-primary-600 text-white text-sm rounded-full w-7 h-7 flex items-center justify-center font-bold\">\n                            {team.seed}\n                          </span>\n                        )}\n                        <div>\n                          <h4 className=\"font-medium text-white\">{team.name}</h4>\n                          <p className=\"text-sm text-gray-400\">\n                            Capitaine: {team.captain_handle} • {team.member_count} membres\n                          </p>\n                        </div>\n                      </div>\n                      \n                      {tournament.format === 'rr' && (\n                        <div className=\"text-right text-sm\">\n                          <div className=\"text-white font-medium\">\n                            {team.wins}V - {team.losses}D\n                          </div>\n                          <div className=\"text-gray-400\">{team.points} pts</div>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"text-center py-8\">\n                  <UsersIcon className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\n                  <p className=\"text-gray-400\">Aucune équipe inscrite</p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Actions Panel */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"glass-effect rounded-xl p-6 mb-6\">\n              <h3 className=\"text-lg font-bold text-white mb-6\">Actions disponibles</h3>\n              \n              {availableActions.length > 0 ? (\n                <div className=\"space-y-3\">\n                  {availableActions.map((action) => (\n                    <div key={action.key}>\n                      {action.condition !== false && (\n                        <button\n                          onClick={action.action}\n                          disabled={actionLoading}\n                          className={`w-full ${action.variant === 'success' ? 'btn-success' : \n                                              action.variant === 'primary' ? 'btn-primary' : \n                                              action.variant === 'danger' ? 'btn-danger' : 'btn-secondary'} \n                                      flex items-center justify-center p-4 rounded-lg`}\n                        >\n                          <action.icon className=\"w-5 h-5 mr-3\" />\n                          <div className=\"text-left\">\n                            <div className=\"font-medium\">{action.label}</div>\n                            <div className=\"text-xs opacity-80\">{action.description}</div>\n                          </div>\n                        </button>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"text-center py-4\">\n                  <CheckCircleIcon className=\"w-12 h-12 text-green-400 mx-auto mb-3\" />\n                  <p className=\"text-gray-400 text-sm\">\n                    Aucune action requise pour le moment\n                  </p>\n                </div>\n              )}\n              \n              {/* Warnings */}\n              {tournament.state === 'registration_closed' && tournament.team_count < 2 && (\n                <div className=\"mt-4 p-3 bg-red-900/20 border border-red-500/30 rounded-lg\">\n                  <div className=\"flex items-start\">\n                    <ExclamationTriangleIcon className=\"w-5 h-5 text-red-400 mr-2 mt-0.5\" />\n                    <p className=\"text-red-300 text-sm\">\n                      Le tournoi nécessite au moins 2 équipes pour être démarré.\n                    </p>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Quick Stats */}\n            <div className=\"glass-effect rounded-xl p-6\">\n              <h3 className=\"text-lg font-bold text-white mb-4\">Résumé</h3>\n              \n              <div className=\"space-y-3 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">État:</span>\n                  <span className=\"text-white font-medium\">\n                    {formatTournamentState(tournament.state)}\n                  </span>\n                </div>\n                \n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Progression:</span>\n                  <span className=\"text-white font-medium\">\n                    {tournament.current_round > 0 ? \n                      `${Math.round((tournament.current_round / tournament.rounds_total) * 100)}%` : \n                      '0%'\n                    }\n                  </span>\n                </div>\n                \n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Créé le:</span>\n                  <span className=\"text-white\">\n                    {new Date(tournament.created_at).toLocaleDateString('fr-FR')}\n                  </span>\n                </div>\n                \n                {tournament.winner_team_name && (\n                  <div className=\"flex justify-between pt-2 border-t border-dark-600\">\n                    <span className=\"text-gray-400\">Gagnant:</span>\n                    <span className=\"text-accent-gold font-medium flex items-center\">\n                      <TrophyIcon className=\"w-4 h-4 mr-1\" />\n                      {tournament.winner_team_name}\n                    </span>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Confirmation Modals */}\n      {showConfirmModal && (\n        <ConfirmModal\n          type={showConfirmModal}\n          onConfirm={() => {\n            switch (showConfirmModal) {\n              case 'start_tournament':\n                handleStartTournament();\n                break;\n              case 'close_registration':\n                handleCloseRegistration();\n                break;\n              case 'reopen_registration':\n                handleReopenRegistration();\n                break;\n            }\n          }}\n          onCancel={() => setShowConfirmModal(null)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TournamentAdminPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}