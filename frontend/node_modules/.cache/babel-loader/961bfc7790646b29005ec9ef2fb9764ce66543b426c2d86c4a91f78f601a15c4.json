{"ast":null,"code":"import _objectSpread from\"C:/Users/Knight-Server/Desktop/VerseLink-main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{ExclamationTriangleIcon,CheckCircleIcon,XCircleIcon,EyeIcon,ClockIcon,UserIcon,ChartBarIcon,DocumentTextIcon}from'@heroicons/react/24/outline';import{toast}from'react-hot-toast';import{moderationService}from'../services/moderationService';import{autoModerationService}from'../services/autoModerationService';import{useAuth}from'../App';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ModerationDashboardPage=()=>{var _stats$reports_by_sta,_autoModerationStats$,_autoModerationStats$2,_autoModerationStats$3,_statusOptions$find,_autoModerationConfig,_autoModerationConfig2,_autoModerationConfig3,_autoModerationConfig4,_autoModerationConfig5,_autoModerationConfig6,_autoModerationConfig7,_autoModerationConfig8,_autoModerationConfig9,_autoModerationConfig0,_autoModerationConfig1;const[reports,setReports]=useState([]);const[stats,setStats]=useState({});const[autoModerationConfig,setAutoModerationConfig]=useState({});const[autoModerationStats,setAutoModerationStats]=useState({});const[loading,setLoading]=useState(true);const[selectedStatus,setSelectedStatus]=useState('all');const[selectedReport,setSelectedReport]=useState(null);const[actionModalOpen,setActionModalOpen]=useState(false);const[autoModerationModalOpen,setAutoModerationModalOpen]=useState(false);const{user}=useAuth();const statusOptions=[{value:'all',label:'Tous les signalements'},{value:'pending',label:'En attente'},{value:'investigating',label:'En cours d\\'investigation'},{value:'resolved',label:'Résolus'},{value:'dismissed',label:'Rejetés'}];const reportTypeLabels={spam:'Spam',harassment:'Harcèlement',inappropriate_content:'Contenu inapproprié',cheating:'Triche',no_show:'Absence non justifiée',griefing:'Griefing',other:'Autre'};const statusColors={pending:'text-yellow-400 bg-yellow-900/20 border-yellow-500/30',investigating:'text-blue-400 bg-blue-900/20 border-blue-500/30',resolved:'text-green-400 bg-green-900/20 border-green-500/30',dismissed:'text-gray-400 bg-gray-900/20 border-gray-500/30'};useEffect(()=>{// Check if user is admin\nif(!user||user.role!=='admin'){toast.error('Accès non autorisé - Admin requis');return;}loadReports();loadStats();loadAutoModerationConfig();loadAutoModerationStats();},[user,selectedStatus]);const loadReports=async()=>{try{setLoading(true);const params={limit:50,skip:0};if(selectedStatus!=='all'){params.status=selectedStatus;}const data=await moderationService.getReports(params);setReports(data);}catch(error){console.error('Failed to load reports:',error);toast.error('Erreur lors du chargement des signalements');}finally{setLoading(false);}};const loadStats=async()=>{try{const statsData=await moderationService.getModerationStats();setStats(statsData);}catch(error){console.error('Failed to load stats:',error);}};const loadAutoModerationConfig=async()=>{try{const configData=await autoModerationService.getConfig();setAutoModerationConfig(configData.config);}catch(error){console.error('Failed to load auto-moderation config:',error);}};const loadAutoModerationStats=async()=>{try{const statsData=await autoModerationService.getStats();setAutoModerationStats(statsData);}catch(error){console.error('Failed to load auto-moderation stats:',error);}};const handleReport=async function(reportId,action,reason){let additionalData=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};try{await moderationService.handleReport(reportId,_objectSpread({action,reason},additionalData));toast.success(\"Action \\\"\".concat(action,\"\\\" appliqu\\xE9e avec succ\\xE8s\"));setActionModalOpen(false);setSelectedReport(null);loadReports();loadStats();}catch(error){console.error('Failed to handle report:',error);toast.error('Erreur lors du traitement du signalement');}};const toggleAutoModeration=async enabled=>{try{const result=await autoModerationService.toggle(enabled);setAutoModerationConfig(prev=>_objectSpread(_objectSpread({},prev),{},{enabled}));toast.success(result.message);}catch(error){console.error('Failed to toggle auto-moderation:',error);toast.error('Erreur lors du basculement de l\\'auto-modération');}};if(!user||user.role!=='admin'){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-dark-950 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"w-16 h-16 text-red-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-2\",children:\"Acc\\xE8s restreint\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Cette page est r\\xE9serv\\xE9e aux administrateurs.\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-dark-950 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-white\",children:\"Tableau de bord mod\\xE9ration\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mt-2\",children:\"G\\xE9rez les signalements et appliquez des actions de mod\\xE9ration\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark-800 rounded-lg p-6 border border-dark-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"w-8 h-8 text-yellow-400\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-white\",children:((_stats$reports_by_sta=stats.reports_by_status)===null||_stats$reports_by_sta===void 0?void 0:_stats$reports_by_sta.pending)||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"En attente\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark-800 rounded-lg p-6 border border-dark-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"w-8 h-8 text-blue-400\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-white\",children:stats.recent_reports_7d||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Cette semaine\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark-800 rounded-lg p-6 border border-dark-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(UserIcon,{className:\"w-8 h-8 text-red-400\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-white\",children:stats.banned_users||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Utilisateurs bannis\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark-800 rounded-lg p-6 border border-dark-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ChartBarIcon,{className:\"w-8 h-8 text-green-400\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-white\",children:stats.total_reports||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Total signalements\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-800 rounded-lg p-6 border border-dark-700 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white mb-4\",children:\"Actions rapides\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:async()=>{try{const result=await moderationService.unbanExpiredUsers();toast.success(result.message);loadStats();}catch(error){toast.error('Erreur lors du débannissement automatique');}},className:\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-5 h-5 mr-2\"}),\"D\\xE9bannir les utilisateurs expir\\xE9s\"]}),/*#__PURE__*/_jsxs(Link,{to:\"/admin/audit-logs\",className:\"inline-flex items-center px-4 py-2 border border-primary-600 text-primary-400 rounded-lg hover:bg-primary-600 hover:text-white transition-colors duration-200\",children:[/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"w-5 h-5 mr-2\"}),\"Voir les logs d'audit\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-800 rounded-lg p-6 border border-dark-700 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white\",children:\"Auto-mod\\xE9ration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Statut:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(autoModerationConfig.enabled?'bg-green-900/20 text-green-400 border border-green-500/30':'bg-red-900/20 text-red-400 border border-red-500/30'),children:autoModerationConfig.enabled?'Activé':'Désactivé'})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:autoModerationConfig.enabled||false,onChange:e=>toggleAutoModeration(e.target.checked),className:\"form-checkbox h-5 w-5 text-primary-600 rounded focus:ring-primary-500 focus:ring-offset-0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-white\",children:\"Activer l'auto-mod\\xE9ration\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-700 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-blue-400\",children:autoModerationStats.total_actions||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Actions auto (7j)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-700 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-yellow-400\",children:((_autoModerationStats$=autoModerationStats.actions_by_type)===null||_autoModerationStats$===void 0?void 0:_autoModerationStats$.warning)||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Avertissements auto\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-700 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-orange-400\",children:((_autoModerationStats$2=autoModerationStats.actions_by_type)===null||_autoModerationStats$2===void 0?void 0:_autoModerationStats$2.strike)||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Strikes auto\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-700 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-red-400\",children:((_autoModerationStats$3=autoModerationStats.actions_by_type)===null||_autoModerationStats$3===void 0?void 0:_autoModerationStats$3.temporary_ban)||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Bans temporaires auto\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setAutoModerationModalOpen(true),className:\"inline-flex items-center px-3 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200 text-sm\",children:\"Configurer l'auto-mod\\xE9ration\"}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await loadAutoModerationStats();toast.success('Statistiques mises à jour');}catch(error){toast.error('Erreur lors de la mise à jour');}},className:\"inline-flex items-center px-3 py-2 border border-gray-600 text-gray-300 rounded-lg hover:bg-gray-700 transition-colors duration-200 text-sm\",children:\"Actualiser les stats\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark-800 rounded-lg p-6 border border-dark-700 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white\",children:\"Signalements\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsx(\"select\",{value:selectedStatus,onChange:e=>setSelectedStatus(e.target.value),className:\"form-select rounded-lg bg-dark-700 border-dark-600 text-white focus:border-primary-500 focus:ring-primary-500\",children:statusOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark-800 rounded-lg border border-dark-700\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-8 h-8\"})}):reports.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-dark-700\",children:reports.map(report=>/*#__PURE__*/_jsx(\"div\",{className:\"p-6 hover:bg-dark-750 transition-colors duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start space-x-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border \".concat(statusColors[report.status]),children:report.status==='pending'?'En attente':report.status==='investigating'?'Investigation':report.status==='resolved'?'Résolu':report.status==='dismissed'?'Rejeté':report.status}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-400\",children:reportTypeLabels[report.type]||report.type}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:new Date(report.created_at).toLocaleDateString('fr-FR')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-white font-medium mb-1\",children:[\"Signalement contre \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-400\",children:report.reported_user_handle})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-300 text-sm\",children:[\"Par \",/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:report.reporter_user_handle})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm mb-3\",children:report.reason}),report.context_url&&/*#__PURE__*/_jsx(\"a\",{href:report.context_url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-primary-400 hover:text-primary-300 text-sm\",children:\"Voir le contexte \\u2192\"}),report.action_taken&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 p-3 bg-dark-700 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-green-400 text-sm font-medium mb-1\",children:\"Action prise :\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm\",children:report.action_taken}),report.handled_by_handle&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-xs mt-1\",children:[\"Par \",report.handled_by_handle]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 ml-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedReport(report);// Here you would open a detailed view modal\n},className:\"p-2 text-gray-400 hover:text-white rounded-lg hover:bg-dark-700 transition-colors duration-200\",title:\"Voir les d\\xE9tails\",children:/*#__PURE__*/_jsx(EyeIcon,{className:\"w-5 h-5\"})}),report.status==='pending'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedReport(report);setActionModalOpen(true);},className:\"px-3 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200 text-sm\",children:\"Traiter\"})]})]})},report.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"w-16 h-16 text-gray-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-400 mb-2\",children:\"Aucun signalement\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:selectedStatus==='all'?'Aucun signalement trouvé.':\"Aucun signalement avec le statut \\\"\".concat((_statusOptions$find=statusOptions.find(s=>s.value===selectedStatus))===null||_statusOptions$find===void 0?void 0:_statusOptions$find.label,\"\\\".\")})]})})]}),actionModalOpen&&selectedReport&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-800 rounded-lg max-w-md w-full p-6 border border-dark-600\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white mb-4\",children:\"Traiter le signalement\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-300 mb-4\",children:[\"Signalement contre \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-400\",children:selectedReport.reported_user_handle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleReport(selectedReport.id,'warning','Avertissement pour comportement inapproprié'),className:\"flex-1 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors duration-200\",children:\"Avertissement\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleReport(selectedReport.id,'dismiss','Signalement non fondé'),className:\"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200\",children:\"Rejeter\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setActionModalOpen(false);setSelectedReport(null);},className:\"w-full mt-3 px-4 py-2 text-gray-300 hover:text-white transition-colors duration-200\",children:\"Annuler\"})]})}),autoModerationModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-dark-600\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-white\",children:\"Configuration Auto-mod\\xE9ration\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setAutoModerationModalOpen(false),className:\"text-gray-400 hover:text-white\",children:/*#__PURE__*/_jsx(XCircleIcon,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark-700 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-medium\",children:\"Auto-mod\\xE9ration globale\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Active ou d\\xE9sactive compl\\xE8tement l'auto-mod\\xE9ration\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:autoModerationConfig.enabled||false,onChange:e=>toggleAutoModeration(e.target.checked),className:\"form-checkbox h-5 w-5 text-primary-600 rounded\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-700 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium mb-3\",children:\"D\\xE9tection de spam\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300\",children:\"Activer la d\\xE9tection de spam\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:((_autoModerationConfig=autoModerationConfig.spam_detection)===null||_autoModerationConfig===void 0?void 0:_autoModerationConfig.enabled)||false,className:\"form-checkbox h-4 w-4 text-blue-600 rounded\",disabled:!autoModerationConfig.enabled})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-400 text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Max messages similaires: \",((_autoModerationConfig2=autoModerationConfig.spam_detection)===null||_autoModerationConfig2===void 0?void 0:_autoModerationConfig2.max_duplicate_messages)||3]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Fen\\xEAtre temporelle: \",((_autoModerationConfig3=autoModerationConfig.spam_detection)===null||_autoModerationConfig3===void 0?void 0:_autoModerationConfig3.time_window_minutes)||5,\" minutes\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-700 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium mb-3\",children:\"Filtre de grossi\\xE8ret\\xE9s\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300\",children:\"Activer le filtre de grossi\\xE8ret\\xE9s\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:((_autoModerationConfig4=autoModerationConfig.profanity_filter)===null||_autoModerationConfig4===void 0?void 0:_autoModerationConfig4.enabled)||false,className:\"form-checkbox h-4 w-4 text-red-600 rounded\",disabled:!autoModerationConfig.enabled})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-400 text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Action: \",((_autoModerationConfig5=autoModerationConfig.profanity_filter)===null||_autoModerationConfig5===void 0?void 0:_autoModerationConfig5.action)||'warning']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Mots surveill\\xE9s: \",((_autoModerationConfig6=autoModerationConfig.profanity_filter)===null||_autoModerationConfig6===void 0?void 0:(_autoModerationConfig7=_autoModerationConfig6.words)===null||_autoModerationConfig7===void 0?void 0:_autoModerationConfig7.length)||0,\" mots\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-700 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium mb-3\",children:\"D\\xE9tection de harc\\xE8lement\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300\",children:\"Activer la d\\xE9tection de harc\\xE8lement\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:((_autoModerationConfig8=autoModerationConfig.harassment_detection)===null||_autoModerationConfig8===void 0?void 0:_autoModerationConfig8.enabled)||false,className:\"form-checkbox h-4 w-4 text-orange-600 rounded\",disabled:!autoModerationConfig.enabled})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-400 text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Max signalements par utilisateur: \",((_autoModerationConfig9=autoModerationConfig.harassment_detection)===null||_autoModerationConfig9===void 0?void 0:_autoModerationConfig9.max_reports_per_user)||3]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Fen\\xEAtre temporelle: \",((_autoModerationConfig0=autoModerationConfig.harassment_detection)===null||_autoModerationConfig0===void 0?void 0:_autoModerationConfig0.time_window_hours)||24,\"h\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Action: \",((_autoModerationConfig1=autoModerationConfig.harassment_detection)===null||_autoModerationConfig1===void 0?void 0:_autoModerationConfig1.action)||'temporary_ban']})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-yellow-300 text-sm\",children:\"\\u26A0\\uFE0F L'auto-mod\\xE9ration est un syst\\xE8me automatis\\xE9 qui peut avoir des faux positifs. V\\xE9rifiez r\\xE9guli\\xE8rement les actions prises et ajustez les param\\xE8tres si n\\xE9cessaire.\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-4 mt-6 pt-4 border-t border-dark-600\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setAutoModerationModalOpen(false),className:\"px-4 py-2 text-gray-300 hover:text-white transition-colors duration-200\",children:\"Fermer\"}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await loadAutoModerationConfig();toast.success('Configuration rechargée');}catch(error){toast.error('Erreur lors du rechargement');}},className:\"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200\",children:\"Actualiser\"})]})]})})})]});};export default ModerationDashboardPage;","map":{"version":3,"names":["React","useState","useEffect","Link","ExclamationTriangleIcon","CheckCircleIcon","XCircleIcon","EyeIcon","ClockIcon","UserIcon","ChartBarIcon","DocumentTextIcon","toast","moderationService","autoModerationService","useAuth","jsx","_jsx","jsxs","_jsxs","ModerationDashboardPage","_stats$reports_by_sta","_autoModerationStats$","_autoModerationStats$2","_autoModerationStats$3","_statusOptions$find","_autoModerationConfig","_autoModerationConfig2","_autoModerationConfig3","_autoModerationConfig4","_autoModerationConfig5","_autoModerationConfig6","_autoModerationConfig7","_autoModerationConfig8","_autoModerationConfig9","_autoModerationConfig0","_autoModerationConfig1","reports","setReports","stats","setStats","autoModerationConfig","setAutoModerationConfig","autoModerationStats","setAutoModerationStats","loading","setLoading","selectedStatus","setSelectedStatus","selectedReport","setSelectedReport","actionModalOpen","setActionModalOpen","autoModerationModalOpen","setAutoModerationModalOpen","user","statusOptions","value","label","reportTypeLabels","spam","harassment","inappropriate_content","cheating","no_show","griefing","other","statusColors","pending","investigating","resolved","dismissed","role","error","loadReports","loadStats","loadAutoModerationConfig","loadAutoModerationStats","params","limit","skip","status","data","getReports","console","statsData","getModerationStats","configData","getConfig","config","getStats","handleReport","reportId","action","reason","additionalData","arguments","length","undefined","_objectSpread","success","concat","toggleAutoModeration","enabled","result","toggle","prev","message","className","children","reports_by_status","recent_reports_7d","banned_users","total_reports","onClick","unbanExpiredUsers","to","type","checked","onChange","e","target","total_actions","actions_by_type","warning","strike","temporary_ban","map","option","report","Date","created_at","toLocaleDateString","reported_user_handle","reporter_user_handle","context_url","href","rel","action_taken","handled_by_handle","title","id","find","s","spam_detection","disabled","max_duplicate_messages","time_window_minutes","profanity_filter","words","harassment_detection","max_reports_per_user","time_window_hours"],"sources":["C:/Users/Knight-Server/Desktop/VerseLink-main/frontend/src/pages/ModerationDashboardPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { \n  ExclamationTriangleIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  EyeIcon,\n  ClockIcon,\n  UserIcon,\n  ChartBarIcon,\n  DocumentTextIcon\n} from '@heroicons/react/24/outline';\nimport { toast } from 'react-hot-toast';\nimport { moderationService } from '../services/moderationService';\nimport { autoModerationService } from '../services/autoModerationService';\nimport { useAuth } from '../App';\n\nconst ModerationDashboardPage = () => {\n  const [reports, setReports] = useState([]);\n  const [stats, setStats] = useState({});\n  const [autoModerationConfig, setAutoModerationConfig] = useState({});\n  const [autoModerationStats, setAutoModerationStats] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [selectedStatus, setSelectedStatus] = useState('all');\n  const [selectedReport, setSelectedReport] = useState(null);\n  const [actionModalOpen, setActionModalOpen] = useState(false);\n  const [autoModerationModalOpen, setAutoModerationModalOpen] = useState(false);\n  const { user } = useAuth();\n\n  const statusOptions = [\n    { value: 'all', label: 'Tous les signalements' },\n    { value: 'pending', label: 'En attente' },\n    { value: 'investigating', label: 'En cours d\\'investigation' },\n    { value: 'resolved', label: 'Résolus' },\n    { value: 'dismissed', label: 'Rejetés' }\n  ];\n\n  const reportTypeLabels = {\n    spam: 'Spam',\n    harassment: 'Harcèlement',\n    inappropriate_content: 'Contenu inapproprié',\n    cheating: 'Triche',\n    no_show: 'Absence non justifiée',\n    griefing: 'Griefing',\n    other: 'Autre'\n  };\n\n  const statusColors = {\n    pending: 'text-yellow-400 bg-yellow-900/20 border-yellow-500/30',\n    investigating: 'text-blue-400 bg-blue-900/20 border-blue-500/30',\n    resolved: 'text-green-400 bg-green-900/20 border-green-500/30',\n    dismissed: 'text-gray-400 bg-gray-900/20 border-gray-500/30'\n  };\n\n  useEffect(() => {\n    // Check if user is admin\n    if (!user || user.role !== 'admin') {\n      toast.error('Accès non autorisé - Admin requis');\n      return;\n    }\n    \n    loadReports();\n    loadStats();\n    loadAutoModerationConfig();\n    loadAutoModerationStats();\n  }, [user, selectedStatus]);\n\n  const loadReports = async () => {\n    try {\n      setLoading(true);\n      const params = {\n        limit: 50,\n        skip: 0\n      };\n      \n      if (selectedStatus !== 'all') {\n        params.status = selectedStatus;\n      }\n      \n      const data = await moderationService.getReports(params);\n      setReports(data);\n    } catch (error) {\n      console.error('Failed to load reports:', error);\n      toast.error('Erreur lors du chargement des signalements');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadStats = async () => {\n    try {\n      const statsData = await moderationService.getModerationStats();\n      setStats(statsData);\n    } catch (error) {\n      console.error('Failed to load stats:', error);\n    }\n  };\n\n  const loadAutoModerationConfig = async () => {\n    try {\n      const configData = await autoModerationService.getConfig();\n      setAutoModerationConfig(configData.config);\n    } catch (error) {\n      console.error('Failed to load auto-moderation config:', error);\n    }\n  };\n\n  const loadAutoModerationStats = async () => {\n    try {\n      const statsData = await autoModerationService.getStats();\n      setAutoModerationStats(statsData);\n    } catch (error) {\n      console.error('Failed to load auto-moderation stats:', error);\n    }\n  };\n\n  const handleReport = async (reportId, action, reason, additionalData = {}) => {\n    try {\n      await moderationService.handleReport(reportId, {\n        action,\n        reason,\n        ...additionalData\n      });\n      \n      toast.success(`Action \"${action}\" appliquée avec succès`);\n      setActionModalOpen(false);\n      setSelectedReport(null);\n      loadReports();\n      loadStats();\n    } catch (error) {\n      console.error('Failed to handle report:', error);\n      toast.error('Erreur lors du traitement du signalement');\n    }\n  };\n\n  const toggleAutoModeration = async (enabled) => {\n    try {\n      const result = await autoModerationService.toggle(enabled);\n      setAutoModerationConfig(prev => ({ ...prev, enabled }));\n      toast.success(result.message);\n    } catch (error) {\n      console.error('Failed to toggle auto-moderation:', error);\n      toast.error('Erreur lors du basculement de l\\'auto-modération');\n    }\n  };\n\n  if (!user || user.role !== 'admin') {\n    return (\n      <div className=\"min-h-screen bg-dark-950 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <ExclamationTriangleIcon className=\"w-16 h-16 text-red-400 mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold text-white mb-2\">Accès restreint</h2>\n          <p className=\"text-gray-400\">Cette page est réservée aux administrateurs.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-dark-950 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-white\">Tableau de bord modération</h1>\n          <p className=\"text-gray-400 mt-2\">\n            Gérez les signalements et appliquez des actions de modération\n          </p>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n          <div className=\"bg-dark-800 rounded-lg p-6 border border-dark-700\">\n            <div className=\"flex items-center\">\n              <ExclamationTriangleIcon className=\"w-8 h-8 text-yellow-400\" />\n              <div className=\"ml-4\">\n                <p className=\"text-2xl font-semibold text-white\">\n                  {stats.reports_by_status?.pending || 0}\n                </p>\n                <p className=\"text-gray-400\">En attente</p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-dark-800 rounded-lg p-6 border border-dark-700\">\n            <div className=\"flex items-center\">\n              <ClockIcon className=\"w-8 h-8 text-blue-400\" />\n              <div className=\"ml-4\">\n                <p className=\"text-2xl font-semibold text-white\">\n                  {stats.recent_reports_7d || 0}\n                </p>\n                <p className=\"text-gray-400\">Cette semaine</p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-dark-800 rounded-lg p-6 border border-dark-700\">\n            <div className=\"flex items-center\">\n              <UserIcon className=\"w-8 h-8 text-red-400\" />\n              <div className=\"ml-4\">\n                <p className=\"text-2xl font-semibold text-white\">\n                  {stats.banned_users || 0}\n                </p>\n                <p className=\"text-gray-400\">Utilisateurs bannis</p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-dark-800 rounded-lg p-6 border border-dark-700\">\n            <div className=\"flex items-center\">\n              <ChartBarIcon className=\"w-8 h-8 text-green-400\" />\n              <div className=\"ml-4\">\n                <p className=\"text-2xl font-semibold text-white\">\n                  {stats.total_reports || 0}\n                </p>\n                <p className=\"text-gray-400\">Total signalements</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Quick Actions */}\n        <div className=\"bg-dark-800 rounded-lg p-6 border border-dark-700 mb-6\">\n          <h3 className=\"text-lg font-semibold text-white mb-4\">Actions rapides</h3>\n          <div className=\"flex flex-wrap gap-4\">\n            <button\n              onClick={async () => {\n                try {\n                  const result = await moderationService.unbanExpiredUsers();\n                  toast.success(result.message);\n                  loadStats();\n                } catch (error) {\n                  toast.error('Erreur lors du débannissement automatique');\n                }\n              }}\n              className=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200\"\n            >\n              <CheckCircleIcon className=\"w-5 h-5 mr-2\" />\n              Débannir les utilisateurs expirés\n            </button>\n            \n            <Link\n              to=\"/admin/audit-logs\"\n              className=\"inline-flex items-center px-4 py-2 border border-primary-600 text-primary-400 rounded-lg hover:bg-primary-600 hover:text-white transition-colors duration-200\"\n            >\n              <DocumentTextIcon className=\"w-5 h-5 mr-2\" />\n              Voir les logs d'audit\n            </Link>\n          </div>\n        </div>\n\n        {/* Auto-Moderation Section */}\n        <div className=\"bg-dark-800 rounded-lg p-6 border border-dark-700 mb-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-white\">Auto-modération</h3>\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-2\">\n                <span className=\"text-gray-400 text-sm\">Statut:</span>\n                <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                  autoModerationConfig.enabled \n                    ? 'bg-green-900/20 text-green-400 border border-green-500/30'\n                    : 'bg-red-900/20 text-red-400 border border-red-500/30'\n                }`}>\n                  {autoModerationConfig.enabled ? 'Activé' : 'Désactivé'}\n                </span>\n              </div>\n              <label className=\"flex items-center cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={autoModerationConfig.enabled || false}\n                  onChange={(e) => toggleAutoModeration(e.target.checked)}\n                  className=\"form-checkbox h-5 w-5 text-primary-600 rounded focus:ring-primary-500 focus:ring-offset-0\"\n                />\n                <span className=\"ml-2 text-white\">Activer l'auto-modération</span>\n              </label>\n            </div>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <div className=\"bg-dark-700 rounded-lg p-4\">\n              <p className=\"text-2xl font-semibold text-blue-400\">\n                {autoModerationStats.total_actions || 0}\n              </p>\n              <p className=\"text-gray-400 text-sm\">Actions auto (7j)</p>\n            </div>\n            <div className=\"bg-dark-700 rounded-lg p-4\">\n              <p className=\"text-2xl font-semibold text-yellow-400\">\n                {autoModerationStats.actions_by_type?.warning || 0}\n              </p>\n              <p className=\"text-gray-400 text-sm\">Avertissements auto</p>\n            </div>\n            <div className=\"bg-dark-700 rounded-lg p-4\">\n              <p className=\"text-2xl font-semibold text-orange-400\">\n                {autoModerationStats.actions_by_type?.strike || 0}\n              </p>\n              <p className=\"text-gray-400 text-sm\">Strikes auto</p>\n            </div>\n            <div className=\"bg-dark-700 rounded-lg p-4\">\n              <p className=\"text-2xl font-semibold text-red-400\">\n                {autoModerationStats.actions_by_type?.temporary_ban || 0}\n              </p>\n              <p className=\"text-gray-400 text-sm\">Bans temporaires auto</p>\n            </div>\n          </div>\n          \n          <div className=\"flex flex-wrap gap-2\">\n            <button\n              onClick={() => setAutoModerationModalOpen(true)}\n              className=\"inline-flex items-center px-3 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200 text-sm\"\n            >\n              Configurer l'auto-modération\n            </button>\n            \n            <button\n              onClick={async () => {\n                try {\n                  await loadAutoModerationStats();\n                  toast.success('Statistiques mises à jour');\n                } catch (error) {\n                  toast.error('Erreur lors de la mise à jour');\n                }\n              }}\n              className=\"inline-flex items-center px-3 py-2 border border-gray-600 text-gray-300 rounded-lg hover:bg-gray-700 transition-colors duration-200 text-sm\"\n            >\n              Actualiser les stats\n            </button>\n          </div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"bg-dark-800 rounded-lg p-6 border border-dark-700 mb-6\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-lg font-semibold text-white\">Signalements</h3>\n            \n            <div className=\"flex items-center space-x-4\">\n              <select\n                value={selectedStatus}\n                onChange={(e) => setSelectedStatus(e.target.value)}\n                className=\"form-select rounded-lg bg-dark-700 border-dark-600 text-white focus:border-primary-500 focus:ring-primary-500\"\n              >\n                {statusOptions.map((option) => (\n                  <option key={option.value} value={option.value}>\n                    {option.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* Reports List */}\n        <div className=\"bg-dark-800 rounded-lg border border-dark-700\">\n          {loading ? (\n            <div className=\"flex items-center justify-center py-12\">\n              <div className=\"loading-spinner w-8 h-8\"></div>\n            </div>\n          ) : reports.length > 0 ? (\n            <div className=\"divide-y divide-dark-700\">\n              {reports.map((report) => (\n                <div key={report.id} className=\"p-6 hover:bg-dark-750 transition-colors duration-200\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-start space-x-4\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center space-x-3 mb-2\">\n                            <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${statusColors[report.status]}`}>\n                              {report.status === 'pending' ? 'En attente' :\n                               report.status === 'investigating' ? 'Investigation' :\n                               report.status === 'resolved' ? 'Résolu' :\n                               report.status === 'dismissed' ? 'Rejeté' : report.status}\n                            </span>\n                            \n                            <span className=\"text-sm text-gray-400\">\n                              {reportTypeLabels[report.type] || report.type}\n                            </span>\n                            \n                            <span className=\"text-sm text-gray-500\">\n                              {new Date(report.created_at).toLocaleDateString('fr-FR')}\n                            </span>\n                          </div>\n                          \n                          <div className=\"mb-3\">\n                            <p className=\"text-white font-medium mb-1\">\n                              Signalement contre <span className=\"text-primary-400\">{report.reported_user_handle}</span>\n                            </p>\n                            <p className=\"text-gray-300 text-sm\">\n                              Par <span className=\"text-gray-400\">{report.reporter_user_handle}</span>\n                            </p>\n                          </div>\n                          \n                          <p className=\"text-gray-300 text-sm mb-3\">\n                            {report.reason}\n                          </p>\n                          \n                          {report.context_url && (\n                            <a\n                              href={report.context_url}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              className=\"text-primary-400 hover:text-primary-300 text-sm\"\n                            >\n                              Voir le contexte →\n                            </a>\n                          )}\n                          \n                          {report.action_taken && (\n                            <div className=\"mt-3 p-3 bg-dark-700 rounded-lg\">\n                              <p className=\"text-green-400 text-sm font-medium mb-1\">Action prise :</p>\n                              <p className=\"text-gray-300 text-sm\">{report.action_taken}</p>\n                              {report.handled_by_handle && (\n                                <p className=\"text-gray-400 text-xs mt-1\">\n                                  Par {report.handled_by_handle}\n                                </p>\n                              )}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-2 ml-4\">\n                      <button\n                        onClick={() => {\n                          setSelectedReport(report);\n                          // Here you would open a detailed view modal\n                        }}\n                        className=\"p-2 text-gray-400 hover:text-white rounded-lg hover:bg-dark-700 transition-colors duration-200\"\n                        title=\"Voir les détails\"\n                      >\n                        <EyeIcon className=\"w-5 h-5\" />\n                      </button>\n                      \n                      {report.status === 'pending' && (\n                        <button\n                          onClick={() => {\n                            setSelectedReport(report);\n                            setActionModalOpen(true);\n                          }}\n                          className=\"px-3 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200 text-sm\"\n                        >\n                          Traiter\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-12\">\n              <ExclamationTriangleIcon className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\n              <h3 className=\"text-xl font-semibold text-gray-400 mb-2\">\n                Aucun signalement\n              </h3>\n              <p className=\"text-gray-500\">\n                {selectedStatus === 'all' ? \n                  'Aucun signalement trouvé.' :\n                  `Aucun signalement avec le statut \"${statusOptions.find(s => s.value === selectedStatus)?.label}\".`\n                }\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Simple Action Modal (placeholder) */}\n      {actionModalOpen && selectedReport && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-dark-800 rounded-lg max-w-md w-full p-6 border border-dark-600\">\n            <h3 className=\"text-lg font-semibold text-white mb-4\">\n              Traiter le signalement\n            </h3>\n            <p className=\"text-gray-300 mb-4\">\n              Signalement contre <span className=\"text-primary-400\">{selectedReport.reported_user_handle}</span>\n            </p>\n            \n            <div className=\"flex space-x-3\">\n              <button\n                onClick={() => handleReport(selectedReport.id, 'warning', 'Avertissement pour comportement inapproprié')}\n                className=\"flex-1 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors duration-200\"\n              >\n                Avertissement\n              </button>\n              <button\n                onClick={() => handleReport(selectedReport.id, 'dismiss', 'Signalement non fondé')}\n                className=\"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200\"\n              >\n                Rejeter\n              </button>\n            </div>\n            \n            <button\n              onClick={() => {\n                setActionModalOpen(false);\n                setSelectedReport(null);\n              }}\n              className=\"w-full mt-3 px-4 py-2 text-gray-300 hover:text-white transition-colors duration-200\"\n            >\n              Annuler\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Auto-Moderation Configuration Modal */}\n      {autoModerationModalOpen && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-dark-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-dark-600\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <h3 className=\"text-xl font-semibold text-white\">Configuration Auto-modération</h3>\n                <button\n                  onClick={() => setAutoModerationModalOpen(false)}\n                  className=\"text-gray-400 hover:text-white\"\n                >\n                  <XCircleIcon className=\"w-6 h-6\" />\n                </button>\n              </div>\n              \n              <div className=\"space-y-6\">\n                {/* Global Toggle */}\n                <div className=\"bg-dark-700 rounded-lg p-4\">\n                  <label className=\"flex items-center justify-between\">\n                    <div>\n                      <span className=\"text-white font-medium\">Auto-modération globale</span>\n                      <p className=\"text-gray-400 text-sm\">Active ou désactive complètement l'auto-modération</p>\n                    </div>\n                    <input\n                      type=\"checkbox\"\n                      checked={autoModerationConfig.enabled || false}\n                      onChange={(e) => toggleAutoModeration(e.target.checked)}\n                      className=\"form-checkbox h-5 w-5 text-primary-600 rounded\"\n                    />\n                  </label>\n                </div>\n                \n                {/* Spam Detection */}\n                <div className=\"bg-dark-700 rounded-lg p-4\">\n                  <h4 className=\"text-white font-medium mb-3\">Détection de spam</h4>\n                  <div className=\"space-y-3\">\n                    <label className=\"flex items-center justify-between\">\n                      <span className=\"text-gray-300\">Activer la détection de spam</span>\n                      <input\n                        type=\"checkbox\"\n                        checked={autoModerationConfig.spam_detection?.enabled || false}\n                        className=\"form-checkbox h-4 w-4 text-blue-600 rounded\"\n                        disabled={!autoModerationConfig.enabled}\n                      />\n                    </label>\n                    <div className=\"text-gray-400 text-sm\">\n                      <p>Max messages similaires: {autoModerationConfig.spam_detection?.max_duplicate_messages || 3}</p>\n                      <p>Fenêtre temporelle: {autoModerationConfig.spam_detection?.time_window_minutes || 5} minutes</p>\n                    </div>\n                  </div>\n                </div>\n                \n                {/* Profanity Filter */}\n                <div className=\"bg-dark-700 rounded-lg p-4\">\n                  <h4 className=\"text-white font-medium mb-3\">Filtre de grossièretés</h4>\n                  <div className=\"space-y-3\">\n                    <label className=\"flex items-center justify-between\">\n                      <span className=\"text-gray-300\">Activer le filtre de grossièretés</span>\n                      <input\n                        type=\"checkbox\"\n                        checked={autoModerationConfig.profanity_filter?.enabled || false}\n                        className=\"form-checkbox h-4 w-4 text-red-600 rounded\"\n                        disabled={!autoModerationConfig.enabled}\n                      />\n                    </label>\n                    <div className=\"text-gray-400 text-sm\">\n                      <p>Action: {autoModerationConfig.profanity_filter?.action || 'warning'}</p>\n                      <p>Mots surveillés: {autoModerationConfig.profanity_filter?.words?.length || 0} mots</p>\n                    </div>\n                  </div>\n                </div>\n                \n                {/* Harassment Detection */}\n                <div className=\"bg-dark-700 rounded-lg p-4\">\n                  <h4 className=\"text-white font-medium mb-3\">Détection de harcèlement</h4>\n                  <div className=\"space-y-3\">\n                    <label className=\"flex items-center justify-between\">\n                      <span className=\"text-gray-300\">Activer la détection de harcèlement</span>\n                      <input\n                        type=\"checkbox\"\n                        checked={autoModerationConfig.harassment_detection?.enabled || false}\n                        className=\"form-checkbox h-4 w-4 text-orange-600 rounded\"\n                        disabled={!autoModerationConfig.enabled}\n                      />\n                    </label>\n                    <div className=\"text-gray-400 text-sm\">\n                      <p>Max signalements par utilisateur: {autoModerationConfig.harassment_detection?.max_reports_per_user || 3}</p>\n                      <p>Fenêtre temporelle: {autoModerationConfig.harassment_detection?.time_window_hours || 24}h</p>\n                      <p>Action: {autoModerationConfig.harassment_detection?.action || 'temporary_ban'}</p>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4\">\n                  <p className=\"text-yellow-300 text-sm\">\n                    ⚠️ L'auto-modération est un système automatisé qui peut avoir des faux positifs. \n                    Vérifiez régulièrement les actions prises et ajustez les paramètres si nécessaire.\n                  </p>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center justify-end space-x-4 mt-6 pt-4 border-t border-dark-600\">\n                <button\n                  onClick={() => setAutoModerationModalOpen(false)}\n                  className=\"px-4 py-2 text-gray-300 hover:text-white transition-colors duration-200\"\n                >\n                  Fermer\n                </button>\n                <button\n                  onClick={async () => {\n                    try {\n                      await loadAutoModerationConfig();\n                      toast.success('Configuration rechargée');\n                    } catch (error) {\n                      toast.error('Erreur lors du rechargement');\n                    }\n                  }}\n                  className=\"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200\"\n                >\n                  Actualiser\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ModerationDashboardPage;"],"mappings":"2IAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OACEC,uBAAuB,CACvBC,eAAe,CACfC,WAAW,CACXC,OAAO,CACPC,SAAS,CACTC,QAAQ,CACRC,YAAY,CACZC,gBAAgB,KACX,6BAA6B,CACpC,OAASC,KAAK,KAAQ,iBAAiB,CACvC,OAASC,iBAAiB,KAAQ,+BAA+B,CACjE,OAASC,qBAAqB,KAAQ,mCAAmC,CACzE,OAASC,OAAO,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,KAAM,CAAAC,uBAAuB,CAAGA,CAAA,GAAM,KAAAC,qBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,mBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CACpC,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGrC,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACsC,KAAK,CAAEC,QAAQ,CAAC,CAAGvC,QAAQ,CAAC,CAAC,CAAC,CAAC,CACtC,KAAM,CAACwC,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGzC,QAAQ,CAAC,CAAC,CAAC,CAAC,CACpE,KAAM,CAAC0C,mBAAmB,CAAEC,sBAAsB,CAAC,CAAG3C,QAAQ,CAAC,CAAC,CAAC,CAAC,CAClE,KAAM,CAAC4C,OAAO,CAAEC,UAAU,CAAC,CAAG7C,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC8C,cAAc,CAAEC,iBAAiB,CAAC,CAAG/C,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAACgD,cAAc,CAAEC,iBAAiB,CAAC,CAAGjD,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACkD,eAAe,CAAEC,kBAAkB,CAAC,CAAGnD,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACoD,uBAAuB,CAAEC,0BAA0B,CAAC,CAAGrD,QAAQ,CAAC,KAAK,CAAC,CAC7E,KAAM,CAAEsD,IAAK,CAAC,CAAGxC,OAAO,CAAC,CAAC,CAE1B,KAAM,CAAAyC,aAAa,CAAG,CACpB,CAAEC,KAAK,CAAE,KAAK,CAAEC,KAAK,CAAE,uBAAwB,CAAC,CAChD,CAAED,KAAK,CAAE,SAAS,CAAEC,KAAK,CAAE,YAAa,CAAC,CACzC,CAAED,KAAK,CAAE,eAAe,CAAEC,KAAK,CAAE,2BAA4B,CAAC,CAC9D,CAAED,KAAK,CAAE,UAAU,CAAEC,KAAK,CAAE,SAAU,CAAC,CACvC,CAAED,KAAK,CAAE,WAAW,CAAEC,KAAK,CAAE,SAAU,CAAC,CACzC,CAED,KAAM,CAAAC,gBAAgB,CAAG,CACvBC,IAAI,CAAE,MAAM,CACZC,UAAU,CAAE,aAAa,CACzBC,qBAAqB,CAAE,qBAAqB,CAC5CC,QAAQ,CAAE,QAAQ,CAClBC,OAAO,CAAE,uBAAuB,CAChCC,QAAQ,CAAE,UAAU,CACpBC,KAAK,CAAE,OACT,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,CACnBC,OAAO,CAAE,uDAAuD,CAChEC,aAAa,CAAE,iDAAiD,CAChEC,QAAQ,CAAE,oDAAoD,CAC9DC,SAAS,CAAE,iDACb,CAAC,CAEDrE,SAAS,CAAC,IAAM,CACd;AACA,GAAI,CAACqD,IAAI,EAAIA,IAAI,CAACiB,IAAI,GAAK,OAAO,CAAE,CAClC5D,KAAK,CAAC6D,KAAK,CAAC,mCAAmC,CAAC,CAChD,OACF,CAEAC,WAAW,CAAC,CAAC,CACbC,SAAS,CAAC,CAAC,CACXC,wBAAwB,CAAC,CAAC,CAC1BC,uBAAuB,CAAC,CAAC,CAC3B,CAAC,CAAE,CAACtB,IAAI,CAAER,cAAc,CAAC,CAAC,CAE1B,KAAM,CAAA2B,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF5B,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAgC,MAAM,CAAG,CACbC,KAAK,CAAE,EAAE,CACTC,IAAI,CAAE,CACR,CAAC,CAED,GAAIjC,cAAc,GAAK,KAAK,CAAE,CAC5B+B,MAAM,CAACG,MAAM,CAAGlC,cAAc,CAChC,CAEA,KAAM,CAAAmC,IAAI,CAAG,KAAM,CAAArE,iBAAiB,CAACsE,UAAU,CAACL,MAAM,CAAC,CACvDxC,UAAU,CAAC4C,IAAI,CAAC,CAClB,CAAE,MAAOT,KAAK,CAAE,CACdW,OAAO,CAACX,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/C7D,KAAK,CAAC6D,KAAK,CAAC,4CAA4C,CAAC,CAC3D,CAAC,OAAS,CACR3B,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAA6B,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAU,SAAS,CAAG,KAAM,CAAAxE,iBAAiB,CAACyE,kBAAkB,CAAC,CAAC,CAC9D9C,QAAQ,CAAC6C,SAAS,CAAC,CACrB,CAAE,MAAOZ,KAAK,CAAE,CACdW,OAAO,CAACX,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CAAC,CAED,KAAM,CAAAG,wBAAwB,CAAG,KAAAA,CAAA,GAAY,CAC3C,GAAI,CACF,KAAM,CAAAW,UAAU,CAAG,KAAM,CAAAzE,qBAAqB,CAAC0E,SAAS,CAAC,CAAC,CAC1D9C,uBAAuB,CAAC6C,UAAU,CAACE,MAAM,CAAC,CAC5C,CAAE,MAAOhB,KAAK,CAAE,CACdW,OAAO,CAACX,KAAK,CAAC,wCAAwC,CAAEA,KAAK,CAAC,CAChE,CACF,CAAC,CAED,KAAM,CAAAI,uBAAuB,CAAG,KAAAA,CAAA,GAAY,CAC1C,GAAI,CACF,KAAM,CAAAQ,SAAS,CAAG,KAAM,CAAAvE,qBAAqB,CAAC4E,QAAQ,CAAC,CAAC,CACxD9C,sBAAsB,CAACyC,SAAS,CAAC,CACnC,CAAE,MAAOZ,KAAK,CAAE,CACdW,OAAO,CAACX,KAAK,CAAC,uCAAuC,CAAEA,KAAK,CAAC,CAC/D,CACF,CAAC,CAED,KAAM,CAAAkB,YAAY,CAAG,cAAAA,CAAOC,QAAQ,CAAEC,MAAM,CAAEC,MAAM,CAA0B,IAAxB,CAAAC,cAAc,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACvE,GAAI,CACF,KAAM,CAAAnF,iBAAiB,CAAC8E,YAAY,CAACC,QAAQ,CAAAO,aAAA,EAC3CN,MAAM,CACNC,MAAM,EACHC,cAAc,CAClB,CAAC,CAEFnF,KAAK,CAACwF,OAAO,aAAAC,MAAA,CAAYR,MAAM,kCAAyB,CAAC,CACzDzC,kBAAkB,CAAC,KAAK,CAAC,CACzBF,iBAAiB,CAAC,IAAI,CAAC,CACvBwB,WAAW,CAAC,CAAC,CACbC,SAAS,CAAC,CAAC,CACb,CAAE,MAAOF,KAAK,CAAE,CACdW,OAAO,CAACX,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChD7D,KAAK,CAAC6D,KAAK,CAAC,0CAA0C,CAAC,CACzD,CACF,CAAC,CAED,KAAM,CAAA6B,oBAAoB,CAAG,KAAO,CAAAC,OAAO,EAAK,CAC9C,GAAI,CACF,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAA1F,qBAAqB,CAAC2F,MAAM,CAACF,OAAO,CAAC,CAC1D7D,uBAAuB,CAACgE,IAAI,EAAAP,aAAA,CAAAA,aAAA,IAAUO,IAAI,MAAEH,OAAO,EAAG,CAAC,CACvD3F,KAAK,CAACwF,OAAO,CAACI,MAAM,CAACG,OAAO,CAAC,CAC/B,CAAE,MAAOlC,KAAK,CAAE,CACdW,OAAO,CAACX,KAAK,CAAC,mCAAmC,CAAEA,KAAK,CAAC,CACzD7D,KAAK,CAAC6D,KAAK,CAAC,kDAAkD,CAAC,CACjE,CACF,CAAC,CAED,GAAI,CAAClB,IAAI,EAAIA,IAAI,CAACiB,IAAI,GAAK,OAAO,CAAE,CAClC,mBACEvD,IAAA,QAAK2F,SAAS,CAAC,2DAA2D,CAAAC,QAAA,cACxE1F,KAAA,QAAKyF,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5F,IAAA,CAACb,uBAAuB,EAACwG,SAAS,CAAC,qCAAqC,CAAE,CAAC,cAC3E3F,IAAA,OAAI2F,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,oBAAe,CAAI,CAAC,cACvE5F,IAAA,MAAG2F,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,oDAA4C,CAAG,CAAC,EAC1E,CAAC,CACH,CAAC,CAEV,CAEA,mBACE1F,KAAA,QAAKyF,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC5C1F,KAAA,QAAKyF,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eAErD1F,KAAA,QAAKyF,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB5F,IAAA,OAAI2F,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAC,+BAA0B,CAAI,CAAC,cAC7E5F,IAAA,MAAG2F,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,qEAElC,CAAG,CAAC,EACD,CAAC,cAGN1F,KAAA,QAAKyF,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzD5F,IAAA,QAAK2F,SAAS,CAAC,mDAAmD,CAAAC,QAAA,cAChE1F,KAAA,QAAKyF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC5F,IAAA,CAACb,uBAAuB,EAACwG,SAAS,CAAC,yBAAyB,CAAE,CAAC,cAC/DzF,KAAA,QAAKyF,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB5F,IAAA,MAAG2F,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAC7C,EAAAxF,qBAAA,CAAAkB,KAAK,CAACuE,iBAAiB,UAAAzF,qBAAA,iBAAvBA,qBAAA,CAAyB+C,OAAO,GAAI,CAAC,CACrC,CAAC,cACJnD,IAAA,MAAG2F,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,EACxC,CAAC,EACH,CAAC,CACH,CAAC,cAEN5F,IAAA,QAAK2F,SAAS,CAAC,mDAAmD,CAAAC,QAAA,cAChE1F,KAAA,QAAKyF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC5F,IAAA,CAACT,SAAS,EAACoG,SAAS,CAAC,uBAAuB,CAAE,CAAC,cAC/CzF,KAAA,QAAKyF,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB5F,IAAA,MAAG2F,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAC7CtE,KAAK,CAACwE,iBAAiB,EAAI,CAAC,CAC5B,CAAC,cACJ9F,IAAA,MAAG2F,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,eAAa,CAAG,CAAC,EAC3C,CAAC,EACH,CAAC,CACH,CAAC,cAEN5F,IAAA,QAAK2F,SAAS,CAAC,mDAAmD,CAAAC,QAAA,cAChE1F,KAAA,QAAKyF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC5F,IAAA,CAACR,QAAQ,EAACmG,SAAS,CAAC,sBAAsB,CAAE,CAAC,cAC7CzF,KAAA,QAAKyF,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB5F,IAAA,MAAG2F,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAC7CtE,KAAK,CAACyE,YAAY,EAAI,CAAC,CACvB,CAAC,cACJ/F,IAAA,MAAG2F,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,qBAAmB,CAAG,CAAC,EACjD,CAAC,EACH,CAAC,CACH,CAAC,cAEN5F,IAAA,QAAK2F,SAAS,CAAC,mDAAmD,CAAAC,QAAA,cAChE1F,KAAA,QAAKyF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC5F,IAAA,CAACP,YAAY,EAACkG,SAAS,CAAC,wBAAwB,CAAE,CAAC,cACnDzF,KAAA,QAAKyF,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB5F,IAAA,MAAG2F,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAC7CtE,KAAK,CAAC0E,aAAa,EAAI,CAAC,CACxB,CAAC,cACJhG,IAAA,MAAG2F,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,oBAAkB,CAAG,CAAC,EAChD,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,cAGN1F,KAAA,QAAKyF,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eACrE5F,IAAA,OAAI2F,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC1E1F,KAAA,QAAKyF,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC1F,KAAA,WACE+F,OAAO,CAAE,KAAAA,CAAA,GAAY,CACnB,GAAI,CACF,KAAM,CAAAV,MAAM,CAAG,KAAM,CAAA3F,iBAAiB,CAACsG,iBAAiB,CAAC,CAAC,CAC1DvG,KAAK,CAACwF,OAAO,CAACI,MAAM,CAACG,OAAO,CAAC,CAC7BhC,SAAS,CAAC,CAAC,CACb,CAAE,MAAOF,KAAK,CAAE,CACd7D,KAAK,CAAC6D,KAAK,CAAC,2CAA2C,CAAC,CAC1D,CACF,CAAE,CACFmC,SAAS,CAAC,yHAAyH,CAAAC,QAAA,eAEnI5F,IAAA,CAACZ,eAAe,EAACuG,SAAS,CAAC,cAAc,CAAE,CAAC,0CAE9C,EAAQ,CAAC,cAETzF,KAAA,CAAChB,IAAI,EACHiH,EAAE,CAAC,mBAAmB,CACtBR,SAAS,CAAC,+JAA+J,CAAAC,QAAA,eAEzK5F,IAAA,CAACN,gBAAgB,EAACiG,SAAS,CAAC,cAAc,CAAE,CAAC,wBAE/C,EAAM,CAAC,EACJ,CAAC,EACH,CAAC,cAGNzF,KAAA,QAAKyF,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eACrE1F,KAAA,QAAKyF,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD5F,IAAA,OAAI2F,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,oBAAe,CAAI,CAAC,cACrE1F,KAAA,QAAKyF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1F,KAAA,QAAKyF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C5F,IAAA,SAAM2F,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,cACtD5F,IAAA,SAAM2F,SAAS,+CAAAP,MAAA,CACb5D,oBAAoB,CAAC8D,OAAO,CACxB,2DAA2D,CAC3D,qDAAqD,CACxD,CAAAM,QAAA,CACApE,oBAAoB,CAAC8D,OAAO,CAAG,QAAQ,CAAG,WAAW,CAClD,CAAC,EACJ,CAAC,cACNpF,KAAA,UAAOyF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eACjD5F,IAAA,UACEoG,IAAI,CAAC,UAAU,CACfC,OAAO,CAAE7E,oBAAoB,CAAC8D,OAAO,EAAI,KAAM,CAC/CgB,QAAQ,CAAGC,CAAC,EAAKlB,oBAAoB,CAACkB,CAAC,CAACC,MAAM,CAACH,OAAO,CAAE,CACxDV,SAAS,CAAC,2FAA2F,CACtG,CAAC,cACF3F,IAAA,SAAM2F,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,8BAAyB,CAAM,CAAC,EAC7D,CAAC,EACL,CAAC,EACH,CAAC,cAEN1F,KAAA,QAAKyF,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzD1F,KAAA,QAAKyF,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzC5F,IAAA,MAAG2F,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAChDlE,mBAAmB,CAAC+E,aAAa,EAAI,CAAC,CACtC,CAAC,cACJzG,IAAA,MAAG2F,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,mBAAiB,CAAG,CAAC,EACvD,CAAC,cACN1F,KAAA,QAAKyF,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzC5F,IAAA,MAAG2F,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAClD,EAAAvF,qBAAA,CAAAqB,mBAAmB,CAACgF,eAAe,UAAArG,qBAAA,iBAAnCA,qBAAA,CAAqCsG,OAAO,GAAI,CAAC,CACjD,CAAC,cACJ3G,IAAA,MAAG2F,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,qBAAmB,CAAG,CAAC,EACzD,CAAC,cACN1F,KAAA,QAAKyF,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzC5F,IAAA,MAAG2F,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAClD,EAAAtF,sBAAA,CAAAoB,mBAAmB,CAACgF,eAAe,UAAApG,sBAAA,iBAAnCA,sBAAA,CAAqCsG,MAAM,GAAI,CAAC,CAChD,CAAC,cACJ5G,IAAA,MAAG2F,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,cAAY,CAAG,CAAC,EAClD,CAAC,cACN1F,KAAA,QAAKyF,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzC5F,IAAA,MAAG2F,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAC/C,EAAArF,sBAAA,CAAAmB,mBAAmB,CAACgF,eAAe,UAAAnG,sBAAA,iBAAnCA,sBAAA,CAAqCsG,aAAa,GAAI,CAAC,CACvD,CAAC,cACJ7G,IAAA,MAAG2F,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,uBAAqB,CAAG,CAAC,EAC3D,CAAC,EACH,CAAC,cAEN1F,KAAA,QAAKyF,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC5F,IAAA,WACEiG,OAAO,CAAEA,CAAA,GAAM5D,0BAA0B,CAAC,IAAI,CAAE,CAChDsD,SAAS,CAAC,qIAAqI,CAAAC,QAAA,CAChJ,iCAED,CAAQ,CAAC,cAET5F,IAAA,WACEiG,OAAO,CAAE,KAAAA,CAAA,GAAY,CACnB,GAAI,CACF,KAAM,CAAArC,uBAAuB,CAAC,CAAC,CAC/BjE,KAAK,CAACwF,OAAO,CAAC,2BAA2B,CAAC,CAC5C,CAAE,MAAO3B,KAAK,CAAE,CACd7D,KAAK,CAAC6D,KAAK,CAAC,+BAA+B,CAAC,CAC9C,CACF,CAAE,CACFmC,SAAS,CAAC,6IAA6I,CAAAC,QAAA,CACxJ,sBAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAGN5F,IAAA,QAAK2F,SAAS,CAAC,wDAAwD,CAAAC,QAAA,cACrE1F,KAAA,QAAKyF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD5F,IAAA,OAAI2F,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cAElE5F,IAAA,QAAK2F,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAC1C5F,IAAA,WACEwC,KAAK,CAAEV,cAAe,CACtBwE,QAAQ,CAAGC,CAAC,EAAKxE,iBAAiB,CAACwE,CAAC,CAACC,MAAM,CAAChE,KAAK,CAAE,CACnDmD,SAAS,CAAC,+GAA+G,CAAAC,QAAA,CAExHrD,aAAa,CAACuE,GAAG,CAAEC,MAAM,eACxB/G,IAAA,WAA2BwC,KAAK,CAAEuE,MAAM,CAACvE,KAAM,CAAAoD,QAAA,CAC5CmB,MAAM,CAACtE,KAAK,EADFsE,MAAM,CAACvE,KAEZ,CACT,CAAC,CACI,CAAC,CACN,CAAC,EACH,CAAC,CACH,CAAC,cAGNxC,IAAA,QAAK2F,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC3DhE,OAAO,cACN5B,IAAA,QAAK2F,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrD5F,IAAA,QAAK2F,SAAS,CAAC,yBAAyB,CAAM,CAAC,CAC5C,CAAC,CACJvE,OAAO,CAAC4D,MAAM,CAAG,CAAC,cACpBhF,IAAA,QAAK2F,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CACtCxE,OAAO,CAAC0F,GAAG,CAAEE,MAAM,eAClBhH,IAAA,QAAqB2F,SAAS,CAAC,sDAAsD,CAAAC,QAAA,cACnF1F,KAAA,QAAKyF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C5F,IAAA,QAAK2F,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrB5F,IAAA,QAAK2F,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACzC1F,KAAA,QAAKyF,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrB1F,KAAA,QAAKyF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C5F,IAAA,SAAM2F,SAAS,+EAAAP,MAAA,CAAgFlC,YAAY,CAAC8D,MAAM,CAAChD,MAAM,CAAC,CAAG,CAAA4B,QAAA,CAC1HoB,MAAM,CAAChD,MAAM,GAAK,SAAS,CAAG,YAAY,CAC1CgD,MAAM,CAAChD,MAAM,GAAK,eAAe,CAAG,eAAe,CACnDgD,MAAM,CAAChD,MAAM,GAAK,UAAU,CAAG,QAAQ,CACvCgD,MAAM,CAAChD,MAAM,GAAK,WAAW,CAAG,QAAQ,CAAGgD,MAAM,CAAChD,MAAM,CACrD,CAAC,cAEPhE,IAAA,SAAM2F,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACpClD,gBAAgB,CAACsE,MAAM,CAACZ,IAAI,CAAC,EAAIY,MAAM,CAACZ,IAAI,CACzC,CAAC,cAEPpG,IAAA,SAAM2F,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACpC,GAAI,CAAAqB,IAAI,CAACD,MAAM,CAACE,UAAU,CAAC,CAACC,kBAAkB,CAAC,OAAO,CAAC,CACpD,CAAC,EACJ,CAAC,cAENjH,KAAA,QAAKyF,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB1F,KAAA,MAAGyF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,EAAC,qBACtB,cAAA5F,IAAA,SAAM2F,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEoB,MAAM,CAACI,oBAAoB,CAAO,CAAC,EACzF,CAAC,cACJlH,KAAA,MAAGyF,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,MAC/B,cAAA5F,IAAA,SAAM2F,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEoB,MAAM,CAACK,oBAAoB,CAAO,CAAC,EACvE,CAAC,EACD,CAAC,cAENrH,IAAA,MAAG2F,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACtCoB,MAAM,CAACnC,MAAM,CACb,CAAC,CAEHmC,MAAM,CAACM,WAAW,eACjBtH,IAAA,MACEuH,IAAI,CAAEP,MAAM,CAACM,WAAY,CACzBd,MAAM,CAAC,QAAQ,CACfgB,GAAG,CAAC,qBAAqB,CACzB7B,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAC5D,yBAED,CAAG,CACJ,CAEAoB,MAAM,CAACS,YAAY,eAClBvH,KAAA,QAAKyF,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9C5F,IAAA,MAAG2F,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,gBAAc,CAAG,CAAC,cACzE5F,IAAA,MAAG2F,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEoB,MAAM,CAACS,YAAY,CAAI,CAAC,CAC7DT,MAAM,CAACU,iBAAiB,eACvBxH,KAAA,MAAGyF,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,MACpC,CAACoB,MAAM,CAACU,iBAAiB,EAC5B,CACJ,EACE,CACN,EACE,CAAC,CACH,CAAC,CACH,CAAC,cAENxH,KAAA,QAAKyF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C5F,IAAA,WACEiG,OAAO,CAAEA,CAAA,GAAM,CACbhE,iBAAiB,CAAC+E,MAAM,CAAC,CACzB;AACF,CAAE,CACFrB,SAAS,CAAC,gGAAgG,CAC1GgC,KAAK,CAAC,qBAAkB,CAAA/B,QAAA,cAExB5F,IAAA,CAACV,OAAO,EAACqG,SAAS,CAAC,SAAS,CAAE,CAAC,CACzB,CAAC,CAERqB,MAAM,CAAChD,MAAM,GAAK,SAAS,eAC1BhE,IAAA,WACEiG,OAAO,CAAEA,CAAA,GAAM,CACbhE,iBAAiB,CAAC+E,MAAM,CAAC,CACzB7E,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAE,CACFwD,SAAS,CAAC,4GAA4G,CAAAC,QAAA,CACvH,SAED,CAAQ,CACT,EACE,CAAC,EACH,CAAC,EArFEoB,MAAM,CAACY,EAsFZ,CACN,CAAC,CACC,CAAC,cAEN1H,KAAA,QAAKyF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC5F,IAAA,CAACb,uBAAuB,EAACwG,SAAS,CAAC,sCAAsC,CAAE,CAAC,cAC5E3F,IAAA,OAAI2F,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,mBAEzD,CAAI,CAAC,cACL5F,IAAA,MAAG2F,SAAS,CAAC,eAAe,CAAAC,QAAA,CACzB9D,cAAc,GAAK,KAAK,CACvB,2BAA2B,uCAAAsD,MAAA,EAAA5E,mBAAA,CACU+B,aAAa,CAACsF,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACtF,KAAK,GAAKV,cAAc,CAAC,UAAAtB,mBAAA,iBAAnDA,mBAAA,CAAqDiC,KAAK,OAAI,CAEpG,CAAC,EACD,CACN,CACE,CAAC,EACH,CAAC,CAGLP,eAAe,EAAIF,cAAc,eAChChC,IAAA,QAAK2F,SAAS,CAAC,gFAAgF,CAAAC,QAAA,cAC7F1F,KAAA,QAAKyF,SAAS,CAAC,mEAAmE,CAAAC,QAAA,eAChF5F,IAAA,OAAI2F,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,wBAEtD,CAAI,CAAC,cACL1F,KAAA,MAAGyF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAC,qBACb,cAAA5F,IAAA,SAAM2F,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAE5D,cAAc,CAACoF,oBAAoB,CAAO,CAAC,EACjG,CAAC,cAEJlH,KAAA,QAAKyF,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5F,IAAA,WACEiG,OAAO,CAAEA,CAAA,GAAMvB,YAAY,CAAC1C,cAAc,CAAC4F,EAAE,CAAE,SAAS,CAAE,6CAA6C,CAAE,CACzGjC,SAAS,CAAC,yGAAyG,CAAAC,QAAA,CACpH,eAED,CAAQ,CAAC,cACT5F,IAAA,WACEiG,OAAO,CAAEA,CAAA,GAAMvB,YAAY,CAAC1C,cAAc,CAAC4F,EAAE,CAAE,SAAS,CAAE,uBAAuB,CAAE,CACnFjC,SAAS,CAAC,qGAAqG,CAAAC,QAAA,CAChH,SAED,CAAQ,CAAC,EACN,CAAC,cAEN5F,IAAA,WACEiG,OAAO,CAAEA,CAAA,GAAM,CACb9D,kBAAkB,CAAC,KAAK,CAAC,CACzBF,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAE,CACF0D,SAAS,CAAC,qFAAqF,CAAAC,QAAA,CAChG,SAED,CAAQ,CAAC,EACN,CAAC,CACH,CACN,CAGAxD,uBAAuB,eACtBpC,IAAA,QAAK2F,SAAS,CAAC,gFAAgF,CAAAC,QAAA,cAC7F5F,IAAA,QAAK2F,SAAS,CAAC,6FAA6F,CAAAC,QAAA,cAC1G1F,KAAA,QAAKyF,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClB1F,KAAA,QAAKyF,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD5F,IAAA,OAAI2F,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,kCAA6B,CAAI,CAAC,cACnF5F,IAAA,WACEiG,OAAO,CAAEA,CAAA,GAAM5D,0BAA0B,CAAC,KAAK,CAAE,CACjDsD,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAE1C5F,IAAA,CAACX,WAAW,EAACsG,SAAS,CAAC,SAAS,CAAE,CAAC,CAC7B,CAAC,EACN,CAAC,cAENzF,KAAA,QAAKyF,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExB5F,IAAA,QAAK2F,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACzC1F,KAAA,UAAOyF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAClD1F,KAAA,QAAA0F,QAAA,eACE5F,IAAA,SAAM2F,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,4BAAuB,CAAM,CAAC,cACvE5F,IAAA,MAAG2F,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,6DAAkD,CAAG,CAAC,EACxF,CAAC,cACN5F,IAAA,UACEoG,IAAI,CAAC,UAAU,CACfC,OAAO,CAAE7E,oBAAoB,CAAC8D,OAAO,EAAI,KAAM,CAC/CgB,QAAQ,CAAGC,CAAC,EAAKlB,oBAAoB,CAACkB,CAAC,CAACC,MAAM,CAACH,OAAO,CAAE,CACxDV,SAAS,CAAC,gDAAgD,CAC3D,CAAC,EACG,CAAC,CACL,CAAC,cAGNzF,KAAA,QAAKyF,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzC5F,IAAA,OAAI2F,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,sBAAiB,CAAI,CAAC,cAClE1F,KAAA,QAAKyF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB1F,KAAA,UAAOyF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAClD5F,IAAA,SAAM2F,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,iCAA4B,CAAM,CAAC,cACnE5F,IAAA,UACEoG,IAAI,CAAC,UAAU,CACfC,OAAO,CAAE,EAAA5F,qBAAA,CAAAe,oBAAoB,CAACuG,cAAc,UAAAtH,qBAAA,iBAAnCA,qBAAA,CAAqC6E,OAAO,GAAI,KAAM,CAC/DK,SAAS,CAAC,6CAA6C,CACvDqC,QAAQ,CAAE,CAACxG,oBAAoB,CAAC8D,OAAQ,CACzC,CAAC,EACG,CAAC,cACRpF,KAAA,QAAKyF,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC1F,KAAA,MAAA0F,QAAA,EAAG,2BAAyB,CAAC,EAAAlF,sBAAA,CAAAc,oBAAoB,CAACuG,cAAc,UAAArH,sBAAA,iBAAnCA,sBAAA,CAAqCuH,sBAAsB,GAAI,CAAC,EAAI,CAAC,cAClG/H,KAAA,MAAA0F,QAAA,EAAG,yBAAoB,CAAC,EAAAjF,sBAAA,CAAAa,oBAAoB,CAACuG,cAAc,UAAApH,sBAAA,iBAAnCA,sBAAA,CAAqCuH,mBAAmB,GAAI,CAAC,CAAC,UAAQ,EAAG,CAAC,EAC/F,CAAC,EACH,CAAC,EACH,CAAC,cAGNhI,KAAA,QAAKyF,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzC5F,IAAA,OAAI2F,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,8BAAsB,CAAI,CAAC,cACvE1F,KAAA,QAAKyF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB1F,KAAA,UAAOyF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAClD5F,IAAA,SAAM2F,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,yCAAiC,CAAM,CAAC,cACxE5F,IAAA,UACEoG,IAAI,CAAC,UAAU,CACfC,OAAO,CAAE,EAAAzF,sBAAA,CAAAY,oBAAoB,CAAC2G,gBAAgB,UAAAvH,sBAAA,iBAArCA,sBAAA,CAAuC0E,OAAO,GAAI,KAAM,CACjEK,SAAS,CAAC,4CAA4C,CACtDqC,QAAQ,CAAE,CAACxG,oBAAoB,CAAC8D,OAAQ,CACzC,CAAC,EACG,CAAC,cACRpF,KAAA,QAAKyF,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC1F,KAAA,MAAA0F,QAAA,EAAG,UAAQ,CAAC,EAAA/E,sBAAA,CAAAW,oBAAoB,CAAC2G,gBAAgB,UAAAtH,sBAAA,iBAArCA,sBAAA,CAAuC+D,MAAM,GAAI,SAAS,EAAI,CAAC,cAC3E1E,KAAA,MAAA0F,QAAA,EAAG,sBAAiB,CAAC,EAAA9E,sBAAA,CAAAU,oBAAoB,CAAC2G,gBAAgB,UAAArH,sBAAA,kBAAAC,sBAAA,CAArCD,sBAAA,CAAuCsH,KAAK,UAAArH,sBAAA,iBAA5CA,sBAAA,CAA8CiE,MAAM,GAAI,CAAC,CAAC,OAAK,EAAG,CAAC,EACrF,CAAC,EACH,CAAC,EACH,CAAC,cAGN9E,KAAA,QAAKyF,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzC5F,IAAA,OAAI2F,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,gCAAwB,CAAI,CAAC,cACzE1F,KAAA,QAAKyF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB1F,KAAA,UAAOyF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAClD5F,IAAA,SAAM2F,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,2CAAmC,CAAM,CAAC,cAC1E5F,IAAA,UACEoG,IAAI,CAAC,UAAU,CACfC,OAAO,CAAE,EAAArF,sBAAA,CAAAQ,oBAAoB,CAAC6G,oBAAoB,UAAArH,sBAAA,iBAAzCA,sBAAA,CAA2CsE,OAAO,GAAI,KAAM,CACrEK,SAAS,CAAC,+CAA+C,CACzDqC,QAAQ,CAAE,CAACxG,oBAAoB,CAAC8D,OAAQ,CACzC,CAAC,EACG,CAAC,cACRpF,KAAA,QAAKyF,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC1F,KAAA,MAAA0F,QAAA,EAAG,oCAAkC,CAAC,EAAA3E,sBAAA,CAAAO,oBAAoB,CAAC6G,oBAAoB,UAAApH,sBAAA,iBAAzCA,sBAAA,CAA2CqH,oBAAoB,GAAI,CAAC,EAAI,CAAC,cAC/GpI,KAAA,MAAA0F,QAAA,EAAG,yBAAoB,CAAC,EAAA1E,sBAAA,CAAAM,oBAAoB,CAAC6G,oBAAoB,UAAAnH,sBAAA,iBAAzCA,sBAAA,CAA2CqH,iBAAiB,GAAI,EAAE,CAAC,GAAC,EAAG,CAAC,cAChGrI,KAAA,MAAA0F,QAAA,EAAG,UAAQ,CAAC,EAAAzE,sBAAA,CAAAK,oBAAoB,CAAC6G,oBAAoB,UAAAlH,sBAAA,iBAAzCA,sBAAA,CAA2CyD,MAAM,GAAI,eAAe,EAAI,CAAC,EAClF,CAAC,EACH,CAAC,EACH,CAAC,cAEN5E,IAAA,QAAK2F,SAAS,CAAC,6DAA6D,CAAAC,QAAA,cAC1E5F,IAAA,MAAG2F,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,uMAGvC,CAAG,CAAC,CACD,CAAC,EACH,CAAC,cAEN1F,KAAA,QAAKyF,SAAS,CAAC,4EAA4E,CAAAC,QAAA,eACzF5F,IAAA,WACEiG,OAAO,CAAEA,CAAA,GAAM5D,0BAA0B,CAAC,KAAK,CAAE,CACjDsD,SAAS,CAAC,yEAAyE,CAAAC,QAAA,CACpF,QAED,CAAQ,CAAC,cACT5F,IAAA,WACEiG,OAAO,CAAE,KAAAA,CAAA,GAAY,CACnB,GAAI,CACF,KAAM,CAAAtC,wBAAwB,CAAC,CAAC,CAChChE,KAAK,CAACwF,OAAO,CAAC,yBAAyB,CAAC,CAC1C,CAAE,MAAO3B,KAAK,CAAE,CACd7D,KAAK,CAAC6D,KAAK,CAAC,6BAA6B,CAAC,CAC5C,CACF,CAAE,CACFmC,SAAS,CAAC,oGAAoG,CAAAC,QAAA,CAC/G,YAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzF,uBAAuB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}