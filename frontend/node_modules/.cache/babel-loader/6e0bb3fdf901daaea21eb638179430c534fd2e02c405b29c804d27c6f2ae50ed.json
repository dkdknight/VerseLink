{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Knight-Server\\\\Desktop\\\\VerseLink-main\\\\frontend\\\\src\\\\pages\\\\NotificationPreferencesPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { ArrowLeftIcon, BellIcon, EnvelopeIcon, CheckIcon, XMarkIcon } from '@heroicons/react/24/outline';\nimport { toast } from 'react-hot-toast';\nimport { notificationService } from '../services/notificationService';\nimport { useAuth } from '../App';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NotificationPreferencesPage = () => {\n  _s();\n  const [preferences, setPreferences] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const notificationTypes = [{\n    category: '√âv√©nements',\n    types: [{\n      key: 'event_created',\n      label: 'Nouveaux √©v√©nements',\n      description: 'Quand un nouvel √©v√©nement est cr√©√© dans vos organisations'\n    }, {\n      key: 'event_updated',\n      label: '√âv√©nements mis √† jour',\n      description: 'Quand les d√©tails d\\'un √©v√©nement changent'\n    }, {\n      key: 'event_reminder',\n      label: 'Rappels d\\'√©v√©nements',\n      description: 'Rappels avant le d√©but des √©v√©nements inscrits'\n    }, {\n      key: 'event_signup_confirmed',\n      label: 'Inscriptions confirm√©es',\n      description: 'Quand votre inscription √† un √©v√©nement est confirm√©e'\n    }, {\n      key: 'event_checkin_available',\n      label: 'Check-in disponible',\n      description: 'Quand le check-in pour un √©v√©nement s\\'ouvre'\n    }]\n  }, {\n    category: 'Tournois',\n    types: [{\n      key: 'tournament_created',\n      label: 'Nouveaux tournois',\n      description: 'Quand un nouveau tournoi est cr√©√©'\n    }, {\n      key: 'tournament_started',\n      label: 'Tournois commenc√©s',\n      description: 'Quand un tournoi auquel vous participez commence'\n    }, {\n      key: 'team_invited',\n      label: 'Invitations d\\'√©quipe',\n      description: 'Quand vous √™tes invit√© √† rejoindre une √©quipe'\n    }, {\n      key: 'match_scheduled',\n      label: 'Matchs programm√©s',\n      description: 'Quand un de vos matchs est programm√©'\n    }, {\n      key: 'match_result',\n      label: 'R√©sultats de matchs',\n      description: 'Quand les r√©sultats de vos matchs sont publi√©s'\n    }, {\n      key: 'tournament_won',\n      label: 'Victoires de tournoi',\n      description: 'Quand vous remportez un tournoi'\n    }]\n  }, {\n    category: 'Organisation',\n    types: [{\n      key: 'org_member_joined',\n      label: 'Nouveaux membres',\n      description: 'Quand quelqu\\'un rejoint vos organisations (admins seulement)'\n    }, {\n      key: 'org_role_changed',\n      label: 'Changements de r√¥le',\n      description: 'Quand votre r√¥le dans une organisation change'\n    }, {\n      key: 'org_event_published',\n      label: '√âv√©nements publi√©s',\n      description: 'Quand votre organisation publie un nouvel √©v√©nement'\n    }]\n  }, {\n    category: 'Mod√©ration',\n    types: [{\n      key: 'warning_received',\n      label: 'Avertissements',\n      description: 'Quand vous recevez un avertissement'\n    }, {\n      key: 'strike_received',\n      label: 'Strikes',\n      description: 'Quand vous recevez un strike'\n    }, {\n      key: 'reputation_changed',\n      label: 'Changements de r√©putation',\n      description: 'Quand votre r√©putation change'\n    }, {\n      key: 'account_suspended',\n      label: 'Suspension de compte',\n      description: 'Quand votre compte est suspendu'\n    }]\n  }, {\n    category: 'Syst√®me',\n    types: [{\n      key: 'welcome',\n      label: 'Bienvenue',\n      description: 'Messages de bienvenue pour les nouveaux utilisateurs'\n    }, {\n      key: 'system_update',\n      label: 'Mises √† jour syst√®me',\n      description: 'Informations sur les mises √† jour de la plateforme'\n    }, {\n      key: 'maintenance',\n      label: 'Maintenance',\n      description: 'Notifications de maintenance programm√©e'\n    }]\n  }];\n  useEffect(() => {\n    loadPreferences();\n  }, []);\n  const loadPreferences = async () => {\n    try {\n      setLoading(true);\n      const data = await notificationService.getNotificationPreferences();\n      setPreferences(data.preferences || {});\n    } catch (error) {\n      console.error('Failed to load preferences:', error);\n      toast.error('Erreur lors du chargement des pr√©f√©rences');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const updatePreference = (notificationType, channel, enabled) => {\n    setPreferences(prev => ({\n      ...prev,\n      [notificationType]: {\n        ...prev[notificationType],\n        [channel]: enabled\n      }\n    }));\n  };\n  const savePreferences = async () => {\n    try {\n      setSaving(true);\n      await notificationService.updateNotificationPreferences(preferences);\n      toast.success('Pr√©f√©rences sauvegard√©es avec succ√®s');\n    } catch (error) {\n      console.error('Failed to save preferences:', error);\n      toast.error('Erreur lors de la sauvegarde des pr√©f√©rences');\n    } finally {\n      setSaving(false);\n    }\n  };\n  const toggleAll = (channel, enabled) => {\n    const updatedPreferences = {\n      ...preferences\n    };\n    notificationTypes.forEach(category => {\n      category.types.forEach(type => {\n        if (!updatedPreferences[type.key]) {\n          updatedPreferences[type.key] = {\n            in_app_enabled: true,\n            email_enabled: false,\n            discord_dm_enabled: false\n          };\n        }\n        updatedPreferences[type.key][channel] = enabled;\n      });\n    });\n    setPreferences(updatedPreferences);\n  };\n  const getPreferenceValue = (notificationType, channel) => {\n    var _preferences$notifica;\n    return ((_preferences$notifica = preferences[notificationType]) === null || _preferences$notifica === void 0 ? void 0 : _preferences$notifica[channel]) || false;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-dark-950 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner w-12 h-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-dark-950 py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate(-1),\n            className: \"p-2 text-gray-400 hover:text-white rounded-lg hover:bg-dark-800 transition-colors duration-200\",\n            children: /*#__PURE__*/_jsxDEV(ArrowLeftIcon, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-white\",\n            children: \"Pr\\xE9f\\xE9rences de notifications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400\",\n          children: \"Configurez comment et quand vous souhaitez recevoir des notifications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-dark-800 rounded-lg p-6 border border-dark-700 mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-white mb-2\",\n              children: \"Actions rapides\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400 text-sm\",\n              children: \"Activez ou d\\xE9sactivez toutes les notifications par canal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => toggleAll('in_app_enabled', true),\n              className: \"inline-flex items-center px-3 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200\",\n              children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this), \"Tout activer (App)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => toggleAll('in_app_enabled', false),\n              className: \"inline-flex items-center px-3 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200\",\n              children: [/*#__PURE__*/_jsxDEV(XMarkIcon, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this), \"Tout d\\xE9sactiver (App)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => toggleAll('email_enabled', true),\n              className: \"inline-flex items-center px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200\",\n              children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), \"Tout activer (Email)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => toggleAll('email_enabled', false),\n              className: \"inline-flex items-center px-3 py-2 text-sm bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200\",\n              children: [/*#__PURE__*/_jsxDEV(XMarkIcon, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), \"Tout d\\xE9sactiver (Email)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4 border-b border-dark-700\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-12 gap-4 text-sm font-medium text-gray-400\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-6\",\n              children: \"Type de notification\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(BellIcon, {\n                  className: \"w-4 h-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 19\n                }, this), \"App\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(EnvelopeIcon, {\n                  className: \"w-4 h-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 19\n                }, this), \"Email\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center\",\n                children: \"\\uD83D\\uDCAC Discord\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"divide-y divide-dark-700\",\n          children: notificationTypes.map((category, categoryIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-6 py-3 bg-dark-750\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-semibold text-primary-400 uppercase tracking-wide\",\n                children: category.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this), category.types.map((type, typeIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-6 py-4 hover:bg-dark-750 transition-colors duration-200\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-12 gap-4 items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-span-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"text-white font-medium\",\n                      children: type.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-400 text-sm mt-1\",\n                      children: type.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-span-2 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"inline-flex items-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      checked: getPreferenceValue(type.key, 'in_app_enabled'),\n                      onChange: e => updatePreference(type.key, 'in_app_enabled', e.target.checked),\n                      className: \"form-checkbox h-5 w-5 text-primary-600 rounded focus:ring-primary-500 focus:ring-offset-0\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 250,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-span-2 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"inline-flex items-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      checked: getPreferenceValue(type.key, 'email_enabled'),\n                      onChange: e => updatePreference(type.key, 'email_enabled', e.target.checked),\n                      className: \"form-checkbox h-5 w-5 text-blue-600 rounded focus:ring-blue-500 focus:ring-offset-0\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-span-2 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"inline-flex items-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      checked: getPreferenceValue(type.key, 'discord_dm_enabled'),\n                      onChange: e => updatePreference(type.key, 'discord_dm_enabled', e.target.checked),\n                      className: \"form-checkbox h-5 w-5 text-purple-600 rounded focus:ring-purple-500 focus:ring-offset-0\",\n                      disabled: true,\n                      title: \"Discord DM sera disponible prochainement\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 21\n              }, this)\n            }, type.key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 19\n            }, this))]\n          }, categoryIndex, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between bg-dark-800 rounded-lg p-6 border border-dark-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400 text-sm\",\n            children: \"\\uD83D\\uDCA1 Les notifications Discord DM seront disponibles prochainement avec l'int\\xE9gration du bot Discord.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/notifications\",\n            className: \"px-4 py-2 text-gray-300 hover:text-white transition-colors duration-200\",\n            children: \"Annuler\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: savePreferences,\n            disabled: saving,\n            className: \"inline-flex items-center px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\",\n            children: saving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-spinner w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 19\n              }, this), \"Sauvegarde...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 19\n              }, this), \"Sauvegarder\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n};\n_s(NotificationPreferencesPage, \"AxAoNDLa3scpTOyo8LgIy2BF8Pg=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = NotificationPreferencesPage;\nexport default NotificationPreferencesPage;\nvar _c;\n$RefreshReg$(_c, \"NotificationPreferencesPage\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","ArrowLeftIcon","BellIcon","EnvelopeIcon","CheckIcon","XMarkIcon","toast","notificationService","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","NotificationPreferencesPage","_s","preferences","setPreferences","loading","setLoading","saving","setSaving","navigate","user","notificationTypes","category","types","key","label","description","loadPreferences","data","getNotificationPreferences","error","console","updatePreference","notificationType","channel","enabled","prev","savePreferences","updateNotificationPreferences","success","toggleAll","updatedPreferences","forEach","type","in_app_enabled","email_enabled","discord_dm_enabled","getPreferenceValue","_preferences$notifica","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","categoryIndex","typeIndex","checked","onChange","e","target","disabled","title","to","_c","$RefreshReg$"],"sources":["C:/Users/Knight-Server/Desktop/VerseLink-main/frontend/src/pages/NotificationPreferencesPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { \n  ArrowLeftIcon,\n  BellIcon,\n  EnvelopeIcon,\n  CheckIcon,\n  XMarkIcon\n} from '@heroicons/react/24/outline';\nimport { toast } from 'react-hot-toast';\nimport { notificationService } from '../services/notificationService';\nimport { useAuth } from '../App';\n\nconst NotificationPreferencesPage = () => {\n  const [preferences, setPreferences] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const navigate = useNavigate();\n  const { user } = useAuth();\n\n  const notificationTypes = [\n    {\n      category: '√âv√©nements',\n      types: [\n        { key: 'event_created', label: 'Nouveaux √©v√©nements', description: 'Quand un nouvel √©v√©nement est cr√©√© dans vos organisations' },\n        { key: 'event_updated', label: '√âv√©nements mis √† jour', description: 'Quand les d√©tails d\\'un √©v√©nement changent' },\n        { key: 'event_reminder', label: 'Rappels d\\'√©v√©nements', description: 'Rappels avant le d√©but des √©v√©nements inscrits' },\n        { key: 'event_signup_confirmed', label: 'Inscriptions confirm√©es', description: 'Quand votre inscription √† un √©v√©nement est confirm√©e' },\n        { key: 'event_checkin_available', label: 'Check-in disponible', description: 'Quand le check-in pour un √©v√©nement s\\'ouvre' }\n      ]\n    },\n    {\n      category: 'Tournois',\n      types: [\n        { key: 'tournament_created', label: 'Nouveaux tournois', description: 'Quand un nouveau tournoi est cr√©√©' },\n        { key: 'tournament_started', label: 'Tournois commenc√©s', description: 'Quand un tournoi auquel vous participez commence' },\n        { key: 'team_invited', label: 'Invitations d\\'√©quipe', description: 'Quand vous √™tes invit√© √† rejoindre une √©quipe' },\n        { key: 'match_scheduled', label: 'Matchs programm√©s', description: 'Quand un de vos matchs est programm√©' },\n        { key: 'match_result', label: 'R√©sultats de matchs', description: 'Quand les r√©sultats de vos matchs sont publi√©s' },\n        { key: 'tournament_won', label: 'Victoires de tournoi', description: 'Quand vous remportez un tournoi' }\n      ]\n    },\n    {\n      category: 'Organisation',\n      types: [\n        { key: 'org_member_joined', label: 'Nouveaux membres', description: 'Quand quelqu\\'un rejoint vos organisations (admins seulement)' },\n        { key: 'org_role_changed', label: 'Changements de r√¥le', description: 'Quand votre r√¥le dans une organisation change' },\n        { key: 'org_event_published', label: '√âv√©nements publi√©s', description: 'Quand votre organisation publie un nouvel √©v√©nement' }\n      ]\n    },\n    {\n      category: 'Mod√©ration',\n      types: [\n        { key: 'warning_received', label: 'Avertissements', description: 'Quand vous recevez un avertissement' },\n        { key: 'strike_received', label: 'Strikes', description: 'Quand vous recevez un strike' },\n        { key: 'reputation_changed', label: 'Changements de r√©putation', description: 'Quand votre r√©putation change' },\n        { key: 'account_suspended', label: 'Suspension de compte', description: 'Quand votre compte est suspendu' }\n      ]\n    },\n    {\n      category: 'Syst√®me',\n      types: [\n        { key: 'welcome', label: 'Bienvenue', description: 'Messages de bienvenue pour les nouveaux utilisateurs' },\n        { key: 'system_update', label: 'Mises √† jour syst√®me', description: 'Informations sur les mises √† jour de la plateforme' },\n        { key: 'maintenance', label: 'Maintenance', description: 'Notifications de maintenance programm√©e' }\n      ]\n    }\n  ];\n\n  useEffect(() => {\n    loadPreferences();\n  }, []);\n\n  const loadPreferences = async () => {\n    try {\n      setLoading(true);\n      const data = await notificationService.getNotificationPreferences();\n      setPreferences(data.preferences || {});\n    } catch (error) {\n      console.error('Failed to load preferences:', error);\n      toast.error('Erreur lors du chargement des pr√©f√©rences');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updatePreference = (notificationType, channel, enabled) => {\n    setPreferences(prev => ({\n      ...prev,\n      [notificationType]: {\n        ...prev[notificationType],\n        [channel]: enabled\n      }\n    }));\n  };\n\n  const savePreferences = async () => {\n    try {\n      setSaving(true);\n      await notificationService.updateNotificationPreferences(preferences);\n      toast.success('Pr√©f√©rences sauvegard√©es avec succ√®s');\n    } catch (error) {\n      console.error('Failed to save preferences:', error);\n      toast.error('Erreur lors de la sauvegarde des pr√©f√©rences');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const toggleAll = (channel, enabled) => {\n    const updatedPreferences = { ...preferences };\n    \n    notificationTypes.forEach(category => {\n      category.types.forEach(type => {\n        if (!updatedPreferences[type.key]) {\n          updatedPreferences[type.key] = {\n            in_app_enabled: true,\n            email_enabled: false,\n            discord_dm_enabled: false\n          };\n        }\n        updatedPreferences[type.key][channel] = enabled;\n      });\n    });\n    \n    setPreferences(updatedPreferences);\n  };\n\n  const getPreferenceValue = (notificationType, channel) => {\n    return preferences[notificationType]?.[channel] || false;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-dark-950 flex items-center justify-center\">\n        <div className=\"loading-spinner w-12 h-12\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-dark-950 py-8\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center space-x-4 mb-4\">\n            <button\n              onClick={() => navigate(-1)}\n              className=\"p-2 text-gray-400 hover:text-white rounded-lg hover:bg-dark-800 transition-colors duration-200\"\n            >\n              <ArrowLeftIcon className=\"w-5 h-5\" />\n            </button>\n            <h1 className=\"text-3xl font-bold text-white\">Pr√©f√©rences de notifications</h1>\n          </div>\n          <p className=\"text-gray-400\">\n            Configurez comment et quand vous souhaitez recevoir des notifications\n          </p>\n        </div>\n\n        {/* Actions */}\n        <div className=\"bg-dark-800 rounded-lg p-6 border border-dark-700 mb-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-white mb-2\">Actions rapides</h3>\n              <p className=\"text-gray-400 text-sm\">Activez ou d√©sactivez toutes les notifications par canal</p>\n            </div>\n            \n            <div className=\"flex flex-wrap gap-2\">\n              <button\n                onClick={() => toggleAll('in_app_enabled', true)}\n                className=\"inline-flex items-center px-3 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200\"\n              >\n                <CheckIcon className=\"w-4 h-4 mr-2\" />\n                Tout activer (App)\n              </button>\n              <button\n                onClick={() => toggleAll('in_app_enabled', false)}\n                className=\"inline-flex items-center px-3 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200\"\n              >\n                <XMarkIcon className=\"w-4 h-4 mr-2\" />\n                Tout d√©sactiver (App)\n              </button>\n              <button\n                onClick={() => toggleAll('email_enabled', true)}\n                className=\"inline-flex items-center px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200\"\n              >\n                <CheckIcon className=\"w-4 h-4 mr-2\" />\n                Tout activer (Email)\n              </button>\n              <button\n                onClick={() => toggleAll('email_enabled', false)}\n                className=\"inline-flex items-center px-3 py-2 text-sm bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200\"\n              >\n                <XMarkIcon className=\"w-4 h-4 mr-2\" />\n                Tout d√©sactiver (Email)\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Preferences Table */}\n        <div className=\"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden mb-6\">\n          <div className=\"px-6 py-4 border-b border-dark-700\">\n            <div className=\"grid grid-cols-12 gap-4 text-sm font-medium text-gray-400\">\n              <div className=\"col-span-6\">Type de notification</div>\n              <div className=\"col-span-2 text-center\">\n                <div className=\"flex items-center justify-center\">\n                  <BellIcon className=\"w-4 h-4 mr-1\" />\n                  App\n                </div>\n              </div>\n              <div className=\"col-span-2 text-center\">\n                <div className=\"flex items-center justify-center\">\n                  <EnvelopeIcon className=\"w-4 h-4 mr-1\" />\n                  Email\n                </div>\n              </div>\n              <div className=\"col-span-2 text-center\">\n                <div className=\"flex items-center justify-center\">\n                  üí¨ Discord\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"divide-y divide-dark-700\">\n            {notificationTypes.map((category, categoryIndex) => (\n              <div key={categoryIndex}>\n                {/* Category Header */}\n                <div className=\"px-6 py-3 bg-dark-750\">\n                  <h4 className=\"text-sm font-semibold text-primary-400 uppercase tracking-wide\">\n                    {category.category}\n                  </h4>\n                </div>\n\n                {/* Category Items */}\n                {category.types.map((type, typeIndex) => (\n                  <div key={type.key} className=\"px-6 py-4 hover:bg-dark-750 transition-colors duration-200\">\n                    <div className=\"grid grid-cols-12 gap-4 items-center\">\n                      <div className=\"col-span-6\">\n                        <div>\n                          <h5 className=\"text-white font-medium\">{type.label}</h5>\n                          <p className=\"text-gray-400 text-sm mt-1\">{type.description}</p>\n                        </div>\n                      </div>\n                      \n                      {/* In-app toggle */}\n                      <div className=\"col-span-2 text-center\">\n                        <label className=\"inline-flex items-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={getPreferenceValue(type.key, 'in_app_enabled')}\n                            onChange={(e) => updatePreference(type.key, 'in_app_enabled', e.target.checked)}\n                            className=\"form-checkbox h-5 w-5 text-primary-600 rounded focus:ring-primary-500 focus:ring-offset-0\"\n                          />\n                        </label>\n                      </div>\n                      \n                      {/* Email toggle */}\n                      <div className=\"col-span-2 text-center\">\n                        <label className=\"inline-flex items-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={getPreferenceValue(type.key, 'email_enabled')}\n                            onChange={(e) => updatePreference(type.key, 'email_enabled', e.target.checked)}\n                            className=\"form-checkbox h-5 w-5 text-blue-600 rounded focus:ring-blue-500 focus:ring-offset-0\"\n                          />\n                        </label>\n                      </div>\n                      \n                      {/* Discord DM toggle */}\n                      <div className=\"col-span-2 text-center\">\n                        <label className=\"inline-flex items-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={getPreferenceValue(type.key, 'discord_dm_enabled')}\n                            onChange={(e) => updatePreference(type.key, 'discord_dm_enabled', e.target.checked)}\n                            className=\"form-checkbox h-5 w-5 text-purple-600 rounded focus:ring-purple-500 focus:ring-offset-0\"\n                            disabled={true}\n                            title=\"Discord DM sera disponible prochainement\"\n                          />\n                        </label>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Save Button */}\n        <div className=\"flex items-center justify-between bg-dark-800 rounded-lg p-6 border border-dark-700\">\n          <div>\n            <p className=\"text-gray-400 text-sm\">\n              üí° Les notifications Discord DM seront disponibles prochainement avec l'int√©gration du bot Discord.\n            </p>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <Link\n              to=\"/notifications\"\n              className=\"px-4 py-2 text-gray-300 hover:text-white transition-colors duration-200\"\n            >\n              Annuler\n            </Link>\n            <button\n              onClick={savePreferences}\n              disabled={saving}\n              className=\"inline-flex items-center px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\"\n            >\n              {saving ? (\n                <>\n                  <div className=\"loading-spinner w-4 h-4 mr-2\"></div>\n                  Sauvegarde...\n                </>\n              ) : (\n                <>\n                  <CheckIcon className=\"w-4 h-4 mr-2\" />\n                  Sauvegarder\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NotificationPreferencesPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}