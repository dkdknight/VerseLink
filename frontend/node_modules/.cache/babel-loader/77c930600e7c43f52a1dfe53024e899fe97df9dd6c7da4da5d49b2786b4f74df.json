{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import{toast}from'react-hot-toast';import{TrophyIcon,CalendarDaysIcon,UsersIcon,TagIcon,PlusIcon,DocumentArrowUpIcon,CheckCircleIcon,ClockIcon,PlayIcon,StarIcon}from'@heroicons/react/24/outline';import{tournamentService}from'../services/tournamentService';import{useAuth}from'../App';import MatchReportModal from'../components/MatchReportModal';import TournamentBracket from'../components/TournamentBracket';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TournamentDetailPage=()=>{const{id}=useParams();const[tournament,setTournament]=useState(null);const[loading,setLoading]=useState(true);const[actionLoading,setActionLoading]=useState(false);const[activeTab,setActiveTab]=useState('bracket');const[reportModalOpen,setReportModalOpen]=useState(false);const[selectedMatch,setSelectedMatch]=useState(null);const{user,isAuthenticated}=useAuth();useEffect(()=>{if(id){loadTournament();}},[id]);const loadTournament=async()=>{try{setLoading(true);const tournamentData=await tournamentService.getTournament(id);setTournament(tournamentData);}catch(error){console.error('Failed to load tournament:',error);toast.error('Tournoi non trouvé');}finally{setLoading(false);}};const handleCreateTeam=async teamName=>{if(!isAuthenticated){toast.error('Vous devez être connecté pour créer une équipe');return;}try{setActionLoading(true);await tournamentService.createTeam(tournament.id,{name:teamName});toast.success('Équipe créée avec succès !');await loadTournament();}catch(error){var _error$response,_error$response$data;if((_error$response=error.response)!==null&&_error$response!==void 0&&(_error$response$data=_error$response.data)!==null&&_error$response$data!==void 0&&_error$response$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors de la création de l\\'équipe');}}finally{setActionLoading(false);}};const handleMatchClick=match=>{setSelectedMatch(match);if(match.state==='pending'&&canReportScore(match)){setReportModalOpen(true);}};const canReportScore=match=>{if(!isAuthenticated||!user)return false;// Check if user is captain of one of the teams\nreturn match.can_report||match.team_a_captain_id===user.id||match.team_b_captain_id===user.id;};const formatTournamentFormat=format=>{const formats={se:'Simple Élimination',de:'Double Élimination',rr:'Round Robin',swiss:'Système Suisse'};return formats[format]||format;};const formatTournamentState=state=>{const states={draft:'Brouillon',open_registration:'Inscriptions ouvertes',registration_closed:'Inscriptions fermées',ongoing:'En cours',finished:'Terminé',cancelled:'Annulé'};return states[state]||state;};const getStateColor=state=>{const colors={draft:'bg-gray-600',open_registration:'bg-green-600',registration_closed:'bg-yellow-600',ongoing:'bg-blue-600',finished:'bg-purple-600',cancelled:'bg-red-600'};return colors[state]||'bg-gray-600';};const TeamCard=_ref=>{let{team}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-white font-semibold text-lg flex items-center\",children:[team.seed&&/*#__PURE__*/_jsx(\"span\",{className:\"bg-primary-600 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center mr-2\",children:team.seed}),team.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-sm\",children:[\"Capitaine: \",team.captain_handle]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-300\",children:[team.member_count,\"/\",tournament.team_size,\" membres\"]}),tournament.format==='rr'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400\",children:[team.wins,\"V - \",team.losses,\"D (\",team.points,\" pts)\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[team.members.slice(0,3).map(member=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-300\",children:[member.avatar_url?/*#__PURE__*/_jsx(\"img\",{src:member.avatar_url,alt:member.handle,className:\"w-4 h-4 rounded-full mr-2\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-dark-600 rounded-full mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:member.handle}),member.is_captain&&/*#__PURE__*/_jsx(StarIcon,{className:\"w-3 h-3 text-yellow-400 ml-1\"})]},member.user_id)),team.members.length>3&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"+\",team.members.length-3,\" autres membres\"]})]})]});};const MatchCard=_ref2=>{let{match}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-lg p-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs bg-dark-600 text-gray-300 px-2 py-1 rounded\",children:[\"Round \",match.round]}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-xs px-2 py-1 rounded text-white \".concat(match.state==='verified'?'bg-green-600':match.state==='reported'?'bg-yellow-600':match.state==='live'?'bg-blue-600':'bg-gray-600'),children:match.state==='verified'?'Terminé':match.state==='reported'?'Reporté':match.state==='live'?'En cours':'À venir'})]}),match.scheduled_at&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400\",children:new Date(match.scheduled_at).toLocaleDateString('fr-FR',{day:'2-digit',month:'2-digit',hour:'2-digit',minute:'2-digit'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium \".concat(match.winner_team_id===match.team_a_id?'text-green-400':''),children:match.team_a_name||'TBD'}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium \".concat(match.winner_team_id===match.team_b_id?'text-green-400':''),children:match.team_b_name||'TBD'})]}),match.score_a!==null&&match.score_b!==null&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold \".concat(match.winner_team_id===match.team_a_id?'text-green-400':'text-gray-400'),children:match.score_a}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold \".concat(match.winner_team_id===match.team_b_id?'text-green-400':'text-gray-400'),children:match.score_b})]})]}),match.notes&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-xs text-gray-400 italic\",children:match.notes}),canReportScore(match)&&match.state==='pending'&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMatchClick(match),className:\"text-sm text-primary-400 hover:text-primary-300 font-medium\",children:\"Reporter le score \\u2192\"})})]});};const BracketView=()=>{return/*#__PURE__*/_jsx(TournamentBracket,{tournament:tournament,onMatchClick:handleMatchClick});};const CreateTeamForm=()=>{const[teamName,setTeamName]=useState('');const handleSubmit=e=>{e.preventDefault();if(teamName.trim()){handleCreateTeam(teamName.trim());setTeamName('');}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"glass-effect rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-4\",children:\"Cr\\xE9er une \\xE9quipe\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Nom de l'\\xE9quipe\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:teamName,onChange:e=>setTeamName(e.target.value),className:\"input-primary w-full\",placeholder:\"Entrez le nom de votre \\xE9quipe\",required:true,minLength:2,maxLength:100})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:actionLoading||!teamName.trim(),className:\"btn-primary w-full flex items-center justify-center\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"w-5 h-5 mr-2\"}),actionLoading?'Création...':'Créer l\\'équipe']})]})]});};if(loading||!tournament){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-dark-950 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-12 h-12\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-dark-950 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"glass-effect rounded-2xl p-8 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mr-3 text-white \".concat(getStateColor(tournament.state)),children:formatTournamentState(tournament.state)}),/*#__PURE__*/_jsxs(Link,{to:\"/organizations/\".concat(tournament.org_id),className:\"text-primary-400 hover:text-primary-300 font-medium\",children:[tournament.org_name,\" (\",tournament.org_tag,\")\"]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-white mb-4 text-shadow\",children:tournament.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4 mb-6 text-gray-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CalendarDaysIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(tournament.start_at_utc).toLocaleDateString('fr-FR',{weekday:'long',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(TrophyIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsx(\"span\",{children:formatTournamentFormat(tournament.format)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(UsersIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsxs(\"span\",{children:[tournament.team_count,\"/\",tournament.max_teams,\" \\xE9quipes\",/*#__PURE__*/_jsx(\"span\",{className:\"mx-2\",children:\"\\u2022\"}),tournament.team_size,\" joueurs/\\xE9quipe\"]})]}),tournament.prize_pool&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(StarIcon,{className:\"w-5 h-5 mr-2 text-accent-gold\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-accent-gold font-medium\",children:tournament.prize_pool})]})]})]}),tournament.banner_url&&/*#__PURE__*/_jsx(\"div\",{className:\"lg:ml-8 mt-6 lg:mt-0\",children:/*#__PURE__*/_jsx(\"img\",{src:tournament.banner_url,alt:tournament.name,className:\"w-full lg:w-64 h-40 object-cover rounded-xl\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex space-x-8\",children:['bracket','teams','matches'].map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(tab),className:\"py-2 px-1 border-b-2 font-medium text-sm \".concat(activeTab===tab?'border-primary-500 text-primary-400':'border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300'),children:tab==='bracket'?'Bracket':tab==='teams'?\"\\xC9quipes (\".concat(tournament.teams.length,\")\"):tab==='matches'?\"Matches (\".concat(tournament.matches.length,\")\"):tab},tab))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[activeTab==='bracket'&&/*#__PURE__*/_jsx(\"div\",{className:\"card p-6\",children:/*#__PURE__*/_jsx(BracketView,{})}),activeTab==='teams'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold text-white mb-6\",children:[\"\\xC9quipes (\",tournament.teams.length,\")\"]}),tournament.teams.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:tournament.teams.map(team=>/*#__PURE__*/_jsx(TeamCard,{team:team},team.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(UsersIcon,{className:\"w-16 h-16 text-gray-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Aucune \\xE9quipe inscrite\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-1\",children:[tournament.can_register&&isAuthenticated&&!tournament.my_team&&/*#__PURE__*/_jsx(CreateTeamForm,{}),tournament.my_team&&/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-4\",children:\"Mon \\xE9quipe\"}),/*#__PURE__*/_jsx(TeamCard,{team:tournament.my_team})]})]})]}),activeTab==='matches'&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold text-white mb-6\",children:[\"Matches (\",tournament.matches.length,\")\"]}),tournament.matches.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:tournament.matches.map(match=>/*#__PURE__*/_jsx(MatchCard,{match:match},match.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(PlayIcon,{className:\"w-16 h-16 text-gray-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Aucun match programm\\xE9\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-white mb-4\",children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-300 leading-relaxed whitespace-pre-wrap\",children:tournament.description})]})]}),/*#__PURE__*/_jsx(MatchReportModal,{isOpen:reportModalOpen,onClose:()=>{setReportModalOpen(false);setSelectedMatch(null);},match:selectedMatch,currentUser:user,onMatchUpdated:loadTournament})]});};export default TournamentDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","toast","TrophyIcon","CalendarDaysIcon","UsersIcon","TagIcon","PlusIcon","DocumentArrowUpIcon","CheckCircleIcon","ClockIcon","PlayIcon","StarIcon","tournamentService","useAuth","MatchReportModal","TournamentBracket","jsx","_jsx","jsxs","_jsxs","TournamentDetailPage","id","tournament","setTournament","loading","setLoading","actionLoading","setActionLoading","activeTab","setActiveTab","reportModalOpen","setReportModalOpen","selectedMatch","setSelectedMatch","user","isAuthenticated","loadTournament","tournamentData","getTournament","error","console","handleCreateTeam","teamName","createTeam","name","success","_error$response","_error$response$data","response","data","detail","handleMatchClick","match","state","canReportScore","can_report","team_a_captain_id","team_b_captain_id","formatTournamentFormat","format","formats","se","de","rr","swiss","formatTournamentState","states","draft","open_registration","registration_closed","ongoing","finished","cancelled","getStateColor","colors","TeamCard","_ref","team","className","children","seed","captain_handle","member_count","team_size","wins","losses","points","members","slice","map","member","avatar_url","src","alt","handle","is_captain","user_id","length","MatchCard","_ref2","round","concat","scheduled_at","Date","toLocaleDateString","day","month","hour","minute","winner_team_id","team_a_id","team_a_name","team_b_id","team_b_name","score_a","score_b","notes","onClick","BracketView","onMatchClick","CreateTeamForm","setTeamName","handleSubmit","e","preventDefault","trim","onSubmit","type","value","onChange","target","placeholder","required","minLength","maxLength","disabled","to","org_id","org_name","org_tag","start_at_utc","weekday","year","team_count","max_teams","prize_pool","banner_url","tab","teams","matches","can_register","my_team","description","isOpen","onClose","currentUser","onMatchUpdated"],"sources":["C:/Users/Knight-Server/Desktop/VerseLink-main/frontend/src/pages/TournamentDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { \n  TrophyIcon,\n  CalendarDaysIcon,\n  UsersIcon,\n  TagIcon,\n  PlusIcon,\n  DocumentArrowUpIcon,\n  CheckCircleIcon,\n  ClockIcon,\n  PlayIcon,\n  StarIcon\n} from '@heroicons/react/24/outline';\nimport { tournamentService } from '../services/tournamentService';\nimport { useAuth } from '../App';\nimport MatchReportModal from '../components/MatchReportModal';\nimport TournamentBracket from '../components/TournamentBracket';\n\nconst TournamentDetailPage = () => {\n  const { id } = useParams();\n  const [tournament, setTournament] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [actionLoading, setActionLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState('bracket');\n  const [reportModalOpen, setReportModalOpen] = useState(false);\n  const [selectedMatch, setSelectedMatch] = useState(null);\n  const { user, isAuthenticated } = useAuth();\n\n  useEffect(() => {\n    if (id) {\n      loadTournament();\n    }\n  }, [id]);\n\n  const loadTournament = async () => {\n    try {\n      setLoading(true);\n      const tournamentData = await tournamentService.getTournament(id);\n      setTournament(tournamentData);\n    } catch (error) {\n      console.error('Failed to load tournament:', error);\n      toast.error('Tournoi non trouvé');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreateTeam = async (teamName) => {\n    if (!isAuthenticated) {\n      toast.error('Vous devez être connecté pour créer une équipe');\n      return;\n    }\n\n    try {\n      setActionLoading(true);\n      await tournamentService.createTeam(tournament.id, { name: teamName });\n      toast.success('Équipe créée avec succès !');\n      await loadTournament();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors de la création de l\\'équipe');\n      }\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleMatchClick = (match) => {\n    setSelectedMatch(match);\n    if (match.state === 'pending' && canReportScore(match)) {\n      setReportModalOpen(true);\n    }\n  };\n\n  const canReportScore = (match) => {\n    if (!isAuthenticated || !user) return false;\n    \n    // Check if user is captain of one of the teams\n    return match.can_report || \n           (match.team_a_captain_id === user.id) ||\n           (match.team_b_captain_id === user.id);\n  };\n\n  const formatTournamentFormat = (format) => {\n    const formats = {\n      se: 'Simple Élimination',\n      de: 'Double Élimination',\n      rr: 'Round Robin',\n      swiss: 'Système Suisse'\n    };\n    return formats[format] || format;\n  };\n\n  const formatTournamentState = (state) => {\n    const states = {\n      draft: 'Brouillon',\n      open_registration: 'Inscriptions ouvertes',\n      registration_closed: 'Inscriptions fermées',\n      ongoing: 'En cours',\n      finished: 'Terminé',\n      cancelled: 'Annulé'\n    };\n    return states[state] || state;\n  };\n\n  const getStateColor = (state) => {\n    const colors = {\n      draft: 'bg-gray-600',\n      open_registration: 'bg-green-600',\n      registration_closed: 'bg-yellow-600',\n      ongoing: 'bg-blue-600',\n      finished: 'bg-purple-600',\n      cancelled: 'bg-red-600'\n    };\n    return colors[state] || 'bg-gray-600';\n  };\n\n  const TeamCard = ({ team }) => (\n    <div className=\"glass-effect rounded-lg p-4\">\n      <div className=\"flex items-center justify-between mb-3\">\n        <div>\n          <h4 className=\"text-white font-semibold text-lg flex items-center\">\n            {team.seed && (\n              <span className=\"bg-primary-600 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center mr-2\">\n                {team.seed}\n              </span>\n            )}\n            {team.name}\n          </h4>\n          <p className=\"text-gray-400 text-sm\">\n            Capitaine: {team.captain_handle}\n          </p>\n        </div>\n        \n        <div className=\"text-right\">\n          <div className=\"text-sm text-gray-300\">\n            {team.member_count}/{tournament.team_size} membres\n          </div>\n          {tournament.format === 'rr' && (\n            <div className=\"text-xs text-gray-400\">\n              {team.wins}V - {team.losses}D ({team.points} pts)\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* Team Members */}\n      <div className=\"space-y-1\">\n        {team.members.slice(0, 3).map((member) => (\n          <div key={member.user_id} className=\"flex items-center text-sm text-gray-300\">\n            {member.avatar_url ? (\n              <img\n                src={member.avatar_url}\n                alt={member.handle}\n                className=\"w-4 h-4 rounded-full mr-2\"\n              />\n            ) : (\n              <div className=\"w-4 h-4 bg-dark-600 rounded-full mr-2\"></div>\n            )}\n            <span>{member.handle}</span>\n            {member.is_captain && (\n              <StarIcon className=\"w-3 h-3 text-yellow-400 ml-1\" />\n            )}\n          </div>\n        ))}\n        {team.members.length > 3 && (\n          <div className=\"text-xs text-gray-500\">\n            +{team.members.length - 3} autres membres\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  const MatchCard = ({ match }) => (\n    <div className=\"glass-effect rounded-lg p-4 mb-4\">\n      <div className=\"flex items-center justify-between mb-3\">\n        <div>\n          <span className=\"text-xs bg-dark-600 text-gray-300 px-2 py-1 rounded\">\n            Round {match.round}\n          </span>\n          <span className={`ml-2 text-xs px-2 py-1 rounded text-white ${\n            match.state === 'verified' ? 'bg-green-600' :\n            match.state === 'reported' ? 'bg-yellow-600' :\n            match.state === 'live' ? 'bg-blue-600' :\n            'bg-gray-600'\n          }`}>\n            {match.state === 'verified' ? 'Terminé' :\n             match.state === 'reported' ? 'Reporté' :\n             match.state === 'live' ? 'En cours' :\n             'À venir'}\n          </span>\n        </div>\n        \n        {match.scheduled_at && (\n          <div className=\"text-xs text-gray-400\">\n            {new Date(match.scheduled_at).toLocaleDateString('fr-FR', {\n              day: '2-digit',\n              month: '2-digit',\n              hour: '2-digit',\n              minute: '2-digit'\n            })}\n          </div>\n        )}\n      </div>\n      \n      <div className=\"flex items-center justify-between\">\n        <div className=\"text-white\">\n          <div className={`font-medium ${match.winner_team_id === match.team_a_id ? 'text-green-400' : ''}`}>\n            {match.team_a_name || 'TBD'}\n          </div>\n          <div className={`font-medium ${match.winner_team_id === match.team_b_id ? 'text-green-400' : ''}`}>\n            {match.team_b_name || 'TBD'}\n          </div>\n        </div>\n        \n        {match.score_a !== null && match.score_b !== null && (\n          <div className=\"text-right\">\n            <div className={`font-bold ${match.winner_team_id === match.team_a_id ? 'text-green-400' : 'text-gray-400'}`}>\n              {match.score_a}\n            </div>\n            <div className={`font-bold ${match.winner_team_id === match.team_b_id ? 'text-green-400' : 'text-gray-400'}`}>\n              {match.score_b}\n            </div>\n          </div>\n        )}\n      </div>\n      \n      {match.notes && (\n        <div className=\"mt-2 text-xs text-gray-400 italic\">\n          {match.notes}\n        </div>\n      )}\n      \n      {/* Actions */}\n      {canReportScore(match) && match.state === 'pending' && (\n        <div className=\"mt-3 text-center\">\n          <button\n            onClick={() => handleMatchClick(match)}\n            className=\"text-sm text-primary-400 hover:text-primary-300 font-medium\"\n          >\n            Reporter le score →\n          </button>\n        </div>\n      )}\n    </div>\n  );\n\n  const BracketView = () => {\n    return (\n      <TournamentBracket \n        tournament={tournament} \n        onMatchClick={handleMatchClick}\n      />\n    );\n  };\n\n  const CreateTeamForm = () => {\n    const [teamName, setTeamName] = useState('');\n\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      if (teamName.trim()) {\n        handleCreateTeam(teamName.trim());\n        setTeamName('');\n      }\n    };\n\n    return (\n      <form onSubmit={handleSubmit} className=\"glass-effect rounded-lg p-6\">\n        <h3 className=\"text-xl font-bold text-white mb-4\">Créer une équipe</h3>\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n              Nom de l'équipe\n            </label>\n            <input\n              type=\"text\"\n              value={teamName}\n              onChange={(e) => setTeamName(e.target.value)}\n              className=\"input-primary w-full\"\n              placeholder=\"Entrez le nom de votre équipe\"\n              required\n              minLength={2}\n              maxLength={100}\n            />\n          </div>\n          <button\n            type=\"submit\"\n            disabled={actionLoading || !teamName.trim()}\n            className=\"btn-primary w-full flex items-center justify-center\"\n          >\n            <PlusIcon className=\"w-5 h-5 mr-2\" />\n            {actionLoading ? 'Création...' : 'Créer l\\'équipe'}\n          </button>\n        </div>\n      </form>\n    );\n  };\n\n  if (loading || !tournament) {\n    return (\n      <div className=\"min-h-screen bg-dark-950 flex items-center justify-center\">\n        <div className=\"loading-spinner w-12 h-12\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-dark-950 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"glass-effect rounded-2xl p-8 mb-8\">\n          <div className=\"flex flex-col lg:flex-row\">\n            {/* Tournament Info */}\n            <div className=\"flex-1\">\n              <div className=\"flex items-center mb-4\">\n                <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mr-3 text-white ${getStateColor(tournament.state)}`}>\n                  {formatTournamentState(tournament.state)}\n                </span>\n                <Link \n                  to={`/organizations/${tournament.org_id}`}\n                  className=\"text-primary-400 hover:text-primary-300 font-medium\"\n                >\n                  {tournament.org_name} ({tournament.org_tag})\n                </Link>\n              </div>\n              \n              <h1 className=\"text-4xl font-bold text-white mb-4 text-shadow\">\n                {tournament.name}\n              </h1>\n              \n              <div className=\"grid md:grid-cols-2 gap-4 mb-6 text-gray-300\">\n                <div className=\"flex items-center\">\n                  <CalendarDaysIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                  <span>\n                    {new Date(tournament.start_at_utc).toLocaleDateString('fr-FR', {\n                      weekday: 'long',\n                      year: 'numeric',\n                      month: 'long',\n                      day: 'numeric',\n                      hour: '2-digit',\n                      minute: '2-digit'\n                    })}\n                  </span>\n                </div>\n                \n                <div className=\"flex items-center\">\n                  <TrophyIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                  <span>{formatTournamentFormat(tournament.format)}</span>\n                </div>\n                \n                <div className=\"flex items-center\">\n                  <UsersIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                  <span>\n                    {tournament.team_count}/{tournament.max_teams} équipes\n                    <span className=\"mx-2\">•</span>\n                    {tournament.team_size} joueurs/équipe\n                  </span>\n                </div>\n                \n                {tournament.prize_pool && (\n                  <div className=\"flex items-center\">\n                    <StarIcon className=\"w-5 h-5 mr-2 text-accent-gold\" />\n                    <span className=\"text-accent-gold font-medium\">{tournament.prize_pool}</span>\n                  </div>\n                )}\n              </div>\n            </div>\n            \n            {/* Banner */}\n            {tournament.banner_url && (\n              <div className=\"lg:ml-8 mt-6 lg:mt-0\">\n                <img\n                  src={tournament.banner_url}\n                  alt={tournament.name}\n                  className=\"w-full lg:w-64 h-40 object-cover rounded-xl\"\n                />\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"mb-6\">\n          <nav className=\"flex space-x-8\">\n            {['bracket', 'teams', 'matches'].map((tab) => (\n              <button\n                key={tab}\n                onClick={() => setActiveTab(tab)}\n                className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                  activeTab === tab\n                    ? 'border-primary-500 text-primary-400'\n                    : 'border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300'\n                }`}\n              >\n                {tab === 'bracket' ? 'Bracket' :\n                 tab === 'teams' ? `Équipes (${tournament.teams.length})` :\n                 tab === 'matches' ? `Matches (${tournament.matches.length})` :\n                 tab}\n              </button>\n            ))}\n          </nav>\n        </div>\n\n        {/* Tab Content */}\n        <div className=\"space-y-6\">\n          {activeTab === 'bracket' && (\n            <div className=\"card p-6\">\n              <BracketView />\n            </div>\n          )}\n\n          {activeTab === 'teams' && (\n            <div className=\"grid lg:grid-cols-3 gap-6\">\n              <div className=\"lg:col-span-2\">\n                <div className=\"card p-6\">\n                  <h3 className=\"text-2xl font-bold text-white mb-6\">\n                    Équipes ({tournament.teams.length})\n                  </h3>\n                  \n                  {tournament.teams.length > 0 ? (\n                    <div className=\"grid gap-4\">\n                      {tournament.teams.map((team) => (\n                        <TeamCard key={team.id} team={team} />\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-8\">\n                      <UsersIcon className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\n                      <p className=\"text-gray-400\">Aucune équipe inscrite</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Registration */}\n              <div className=\"lg:col-span-1\">\n                {tournament.can_register && isAuthenticated && !tournament.my_team && (\n                  <CreateTeamForm />\n                )}\n                \n                {tournament.my_team && (\n                  <div className=\"glass-effect rounded-lg p-6\">\n                    <h3 className=\"text-xl font-bold text-white mb-4\">Mon équipe</h3>\n                    <TeamCard team={tournament.my_team} />\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {activeTab === 'matches' && (\n            <div className=\"card p-6\">\n              <h3 className=\"text-2xl font-bold text-white mb-6\">\n                Matches ({tournament.matches.length})\n              </h3>\n              \n              {tournament.matches.length > 0 ? (\n                <div className=\"space-y-4\">\n                  {tournament.matches.map((match) => (\n                    <MatchCard key={match.id} match={match} />\n                  ))}\n                </div>\n              ) : (\n                <div className=\"text-center py-8\">\n                  <PlayIcon className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\n                  <p className=\"text-gray-400\">Aucun match programmé</p>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Description */}\n        <div className=\"card p-6 mt-6\">\n          <h3 className=\"text-2xl font-bold text-white mb-4\">Description</h3>\n          <div className=\"text-gray-300 leading-relaxed whitespace-pre-wrap\">\n            {tournament.description}\n          </div>\n        </div>\n      </div>\n\n      {/* Match Report Modal */}\n      <MatchReportModal\n        isOpen={reportModalOpen}\n        onClose={() => {\n          setReportModalOpen(false);\n          setSelectedMatch(null);\n        }}\n        match={selectedMatch}\n        currentUser={user}\n        onMatchUpdated={loadTournament}\n      />\n    </div>\n  );\n};\n\nexport default TournamentDetailPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}