{"ast":null,"code":"import _objectSpread from\"C:/Users/Knight-Server/Desktop/VerseLink-orgup/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{XMarkIcon,DocumentArrowUpIcon,TrophyIcon,ClockIcon}from'@heroicons/react/24/outline';import{toast}from'react-hot-toast';import{tournamentService}from'../services/tournamentService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MatchReportModal=_ref=>{let{isOpen,onClose,match,currentUser,onMatchUpdated}=_ref;const[scoreA,setScoreA]=useState('');const[scoreB,setScoreB]=useState('');const[notes,setNotes]=useState('');const[submitting,setSubmitting]=useState(false);const[uploading,setUploading]=useState(false);const[selectedFiles,setSelectedFiles]=useState([]);const handleSubmit=async e=>{e.preventDefault();const scoreANum=parseInt(scoreA);const scoreBNum=parseInt(scoreB);if(isNaN(scoreANum)||isNaN(scoreBNum)||scoreANum<0||scoreBNum<0){toast.error('Les scores doivent être des nombres positifs');return;}if(scoreANum===scoreBNum){toast.error('Les scores ne peuvent pas être égaux - il doit y avoir un gagnant');return;}try{setSubmitting(true);await tournamentService.reportMatchScore(match.id,{score_a:scoreANum,score_b:scoreBNum,notes:notes.trim()||null});toast.success('Score reporté avec succès !');// Upload attachments if any\nif(selectedFiles.length>0){await uploadAttachments();}onMatchUpdated();onClose();// Reset form\nresetForm();}catch(error){var _error$response,_error$response$data;console.error('Failed to report score:',error);if((_error$response=error.response)!==null&&_error$response!==void 0&&(_error$response$data=_error$response.data)!==null&&_error$response$data!==void 0&&_error$response$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors du report du score');}}finally{setSubmitting(false);}};const uploadAttachments=async()=>{setUploading(true);let successCount=0;for(const file of selectedFiles){try{await tournamentService.uploadMatchAttachment(match.id,file.file,file.description);successCount++;}catch(error){console.error('Failed to upload attachment:',error);toast.error(\"Erreur lors de l'upload de \".concat(file.file.name));}}if(successCount>0){toast.success(\"\".concat(successCount,\" fichier(s) upload\\xE9(s) avec succ\\xE8s\"));}setUploading(false);};const handleFileSelect=e=>{const files=Array.from(e.target.files);const newFiles=files.map(file=>({file,description:'',preview:file.type.startsWith('image/')?URL.createObjectURL(file):null}));setSelectedFiles(prev=>[...prev,...newFiles]);};const removeFile=index=>{setSelectedFiles(prev=>{const file=prev[index];if(file.preview){URL.revokeObjectURL(file.preview);}return prev.filter((_,i)=>i!==index);});};const updateFileDescription=(index,description)=>{setSelectedFiles(prev=>prev.map((file,i)=>i===index?_objectSpread(_objectSpread({},file),{},{description}):file));};const resetForm=()=>{setScoreA('');setScoreB('');setNotes('');setSelectedFiles([]);};const canReport=()=>{if(!currentUser||!match)return false;// Check if user is captain of one of the teams\nreturn match.can_report||match.team_a_id&&match.team_a_captain_id===currentUser.id||match.team_b_id&&match.team_b_captain_id===currentUser.id;};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-dark-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b border-dark-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(TrophyIcon,{className:\"w-6 h-6 text-primary-400\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-white\",children:\"Reporter le score\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-white transition-colors duration-200\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-700 rounded-lg p-4 border border-dark-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs bg-primary-600 text-white px-2 py-1 rounded\",children:[\"Round \",match.round]}),/*#__PURE__*/_jsx(ClockIcon,{className:\"w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-400\",children:match.scheduled_at&&new Date(match.scheduled_at).toLocaleDateString('fr-FR')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium\",children:match.team_a_name||'TBD'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"\\xC9quipe A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium\",children:match.team_b_name||'TBD'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"\\xC9quipe B\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:[\"Score \",match.team_a_name||'Équipe A',\" *\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:scoreA,onChange:e=>setScoreA(e.target.value),className:\"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white text-center text-lg font-bold focus:ring-2 focus:ring-primary-500 focus:border-transparent\",placeholder:\"0\",required:true,min:\"0\",max:\"999\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:[\"Score \",match.team_b_name||'Équipe B',\" *\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:scoreB,onChange:e=>setScoreB(e.target.value),className:\"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white text-center text-lg font-bold focus:ring-2 focus:ring-primary-500 focus:border-transparent\",placeholder:\"0\",required:true,min:\"0\",max:\"999\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Notes (optionnel)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:notes,onChange:e=>setNotes(e.target.value),placeholder:\"Commentaires sur le match, strat\\xE9gies utilis\\xE9es, moments marquants...\",rows:3,className:\"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none\",maxLength:500}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:[notes.length,\"/500 caract\\xE8res\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Pi\\xE8ces jointes (screenshots, vid\\xE9os)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{id:\"file-upload\",type:\"file\",multiple:true,accept:\"image/*,video/*,.txt,.json,.csv\",onChange:handleFileSelect,className:\"hidden\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file-upload\",className:\"inline-flex items-center px-4 py-2 border border-dashed border-dark-600 rounded-lg text-gray-300 hover:text-white hover:border-primary-500 cursor-pointer transition-colors duration-200\",children:[/*#__PURE__*/_jsx(DocumentArrowUpIcon,{className:\"w-5 h-5 mr-2\"}),\"Ajouter des fichiers\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:\"Images, vid\\xE9os, logs (max 50MB par fichier)\"})]}),selectedFiles.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:selectedFiles.map((fileData,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark-700 rounded-lg p-3 border border-dark-600\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[fileData.preview&&/*#__PURE__*/_jsx(\"img\",{src:fileData.preview,alt:\"Preview\",className:\"w-10 h-10 object-cover rounded\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white text-sm font-medium\",children:fileData.file.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-xs\",children:[(fileData.file.size/1024/1024).toFixed(2),\" MB\"]})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Description (optionnel)\",value:fileData.description,onChange:e=>updateFileDescription(index,e.target.value),className:\"w-full px-2 py-1 bg-dark-800 border border-dark-600 rounded text-white text-sm focus:ring-1 focus:ring-primary-500 focus:border-transparent\",maxLength:200})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeFile(index),className:\"ml-2 p-1 text-gray-400 hover:text-red-400 transition-colors duration-200\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"w-4 h-4\"})})]})},index))})]})]}),!canReport()&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-yellow-300 text-sm\",children:\"\\u26A0\\uFE0F Seuls les capitaines d'\\xE9quipe peuvent reporter les scores.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 pt-4 border-t border-dark-600\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 text-gray-300 hover:text-white transition-colors duration-200\",disabled:submitting||uploading,children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:submitting||uploading||!canReport()||!scoreA||!scoreB,className:\"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center\",children:submitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-4 h-4 mr-2\"}),\"Envoi...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TrophyIcon,{className:\"w-4 h-4 mr-2\"}),\"Reporter le score\"]})})]})]})]})});};export default MatchReportModal;","map":{"version":3,"names":["React","useState","XMarkIcon","DocumentArrowUpIcon","TrophyIcon","ClockIcon","toast","tournamentService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MatchReportModal","_ref","isOpen","onClose","match","currentUser","onMatchUpdated","scoreA","setScoreA","scoreB","setScoreB","notes","setNotes","submitting","setSubmitting","uploading","setUploading","selectedFiles","setSelectedFiles","handleSubmit","e","preventDefault","scoreANum","parseInt","scoreBNum","isNaN","error","reportMatchScore","id","score_a","score_b","trim","success","length","uploadAttachments","resetForm","_error$response","_error$response$data","console","response","data","detail","successCount","file","uploadMatchAttachment","description","concat","name","handleFileSelect","files","Array","from","target","newFiles","map","preview","type","startsWith","URL","createObjectURL","prev","removeFile","index","revokeObjectURL","filter","_","i","updateFileDescription","_objectSpread","canReport","can_report","team_a_id","team_a_captain_id","team_b_id","team_b_captain_id","className","children","onClick","onSubmit","round","scheduled_at","Date","toLocaleDateString","team_a_name","team_b_name","value","onChange","placeholder","required","min","max","rows","maxLength","multiple","accept","htmlFor","fileData","src","alt","size","toFixed","disabled"],"sources":["C:/Users/Knight-Server/Desktop/VerseLink-orgup/frontend/src/components/MatchReportModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { \n  XMarkIcon,\n  DocumentArrowUpIcon,\n  TrophyIcon,\n  ClockIcon\n} from '@heroicons/react/24/outline';\nimport { toast } from 'react-hot-toast';\nimport { tournamentService } from '../services/tournamentService';\n\nconst MatchReportModal = ({ isOpen, onClose, match, currentUser, onMatchUpdated }) => {\n  const [scoreA, setScoreA] = useState('');\n  const [scoreB, setScoreB] = useState('');\n  const [notes, setNotes] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [selectedFiles, setSelectedFiles] = useState([]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    const scoreANum = parseInt(scoreA);\n    const scoreBNum = parseInt(scoreB);\n    \n    if (isNaN(scoreANum) || isNaN(scoreBNum) || scoreANum < 0 || scoreBNum < 0) {\n      toast.error('Les scores doivent être des nombres positifs');\n      return;\n    }\n    \n    if (scoreANum === scoreBNum) {\n      toast.error('Les scores ne peuvent pas être égaux - il doit y avoir un gagnant');\n      return;\n    }\n\n    try {\n      setSubmitting(true);\n      await tournamentService.reportMatchScore(match.id, {\n        score_a: scoreANum,\n        score_b: scoreBNum,\n        notes: notes.trim() || null\n      });\n      \n      toast.success('Score reporté avec succès !');\n      \n      // Upload attachments if any\n      if (selectedFiles.length > 0) {\n        await uploadAttachments();\n      }\n      \n      onMatchUpdated();\n      onClose();\n      \n      // Reset form\n      resetForm();\n    } catch (error) {\n      console.error('Failed to report score:', error);\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors du report du score');\n      }\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const uploadAttachments = async () => {\n    setUploading(true);\n    let successCount = 0;\n    \n    for (const file of selectedFiles) {\n      try {\n        await tournamentService.uploadMatchAttachment(match.id, file.file, file.description);\n        successCount++;\n      } catch (error) {\n        console.error('Failed to upload attachment:', error);\n        toast.error(`Erreur lors de l'upload de ${file.file.name}`);\n      }\n    }\n    \n    if (successCount > 0) {\n      toast.success(`${successCount} fichier(s) uploadé(s) avec succès`);\n    }\n    \n    setUploading(false);\n  };\n\n  const handleFileSelect = (e) => {\n    const files = Array.from(e.target.files);\n    const newFiles = files.map(file => ({\n      file,\n      description: '',\n      preview: file.type.startsWith('image/') ? URL.createObjectURL(file) : null\n    }));\n    \n    setSelectedFiles(prev => [...prev, ...newFiles]);\n  };\n\n  const removeFile = (index) => {\n    setSelectedFiles(prev => {\n      const file = prev[index];\n      if (file.preview) {\n        URL.revokeObjectURL(file.preview);\n      }\n      return prev.filter((_, i) => i !== index);\n    });\n  };\n\n  const updateFileDescription = (index, description) => {\n    setSelectedFiles(prev => \n      prev.map((file, i) => \n        i === index ? { ...file, description } : file\n      )\n    );\n  };\n\n  const resetForm = () => {\n    setScoreA('');\n    setScoreB('');\n    setNotes('');\n    setSelectedFiles([]);\n  };\n\n  const canReport = () => {\n    if (!currentUser || !match) return false;\n    \n    // Check if user is captain of one of the teams\n    return match.can_report || \n           (match.team_a_id && match.team_a_captain_id === currentUser.id) ||\n           (match.team_b_id && match.team_b_captain_id === currentUser.id);\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-dark-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-dark-600\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-dark-600\">\n          <div className=\"flex items-center space-x-3\">\n            <TrophyIcon className=\"w-6 h-6 text-primary-400\" />\n            <h2 className=\"text-xl font-semibold text-white\">Reporter le score</h2>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-white transition-colors duration-200\"\n          >\n            <XMarkIcon className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {/* Match Info */}\n          <div className=\"bg-dark-700 rounded-lg p-4 border border-dark-600\">\n            <div className=\"flex items-center space-x-2 mb-3\">\n              <span className=\"text-xs bg-primary-600 text-white px-2 py-1 rounded\">\n                Round {match.round}\n              </span>\n              <ClockIcon className=\"w-4 h-4 text-gray-400\" />\n              <span className=\"text-sm text-gray-400\">\n                {match.scheduled_at && new Date(match.scheduled_at).toLocaleDateString('fr-FR')}\n              </span>\n            </div>\n            \n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"text-center\">\n                <h4 className=\"text-white font-medium\">{match.team_a_name || 'TBD'}</h4>\n                <p className=\"text-sm text-gray-400\">Équipe A</p>\n              </div>\n              <div className=\"text-center\">\n                <h4 className=\"text-white font-medium\">{match.team_b_name || 'TBD'}</h4>\n                <p className=\"text-sm text-gray-400\">Équipe B</p>\n              </div>\n            </div>\n          </div>\n\n          {/* Score Input */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                Score {match.team_a_name || 'Équipe A'} *\n              </label>\n              <input\n                type=\"number\"\n                value={scoreA}\n                onChange={(e) => setScoreA(e.target.value)}\n                className=\"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white text-center text-lg font-bold focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                placeholder=\"0\"\n                required\n                min=\"0\"\n                max=\"999\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                Score {match.team_b_name || 'Équipe B'} *\n              </label>\n              <input\n                type=\"number\"\n                value={scoreB}\n                onChange={(e) => setScoreB(e.target.value)}\n                className=\"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white text-center text-lg font-bold focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                placeholder=\"0\"\n                required\n                min=\"0\"\n                max=\"999\"\n              />\n            </div>\n          </div>\n\n          {/* Notes */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n              Notes (optionnel)\n            </label>\n            <textarea\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder=\"Commentaires sur le match, stratégies utilisées, moments marquants...\"\n              rows={3}\n              className=\"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none\"\n              maxLength={500}\n            />\n            <p className=\"text-xs text-gray-400 mt-1\">\n              {notes.length}/500 caractères\n            </p>\n          </div>\n\n          {/* File Upload */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n              Pièces jointes (screenshots, vidéos)\n            </label>\n            \n            <div className=\"space-y-4\">\n              {/* File Input */}\n              <div>\n                <input\n                  id=\"file-upload\"\n                  type=\"file\"\n                  multiple\n                  accept=\"image/*,video/*,.txt,.json,.csv\"\n                  onChange={handleFileSelect}\n                  className=\"hidden\"\n                />\n                <label\n                  htmlFor=\"file-upload\"\n                  className=\"inline-flex items-center px-4 py-2 border border-dashed border-dark-600 rounded-lg text-gray-300 hover:text-white hover:border-primary-500 cursor-pointer transition-colors duration-200\"\n                >\n                  <DocumentArrowUpIcon className=\"w-5 h-5 mr-2\" />\n                  Ajouter des fichiers\n                </label>\n                <p className=\"text-xs text-gray-400 mt-1\">\n                  Images, vidéos, logs (max 50MB par fichier)\n                </p>\n              </div>\n\n              {/* Selected Files */}\n              {selectedFiles.length > 0 && (\n                <div className=\"space-y-2\">\n                  {selectedFiles.map((fileData, index) => (\n                    <div key={index} className=\"bg-dark-700 rounded-lg p-3 border border-dark-600\">\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center space-x-2 mb-2\">\n                            {fileData.preview && (\n                              <img\n                                src={fileData.preview}\n                                alt=\"Preview\"\n                                className=\"w-10 h-10 object-cover rounded\"\n                              />\n                            )}\n                            <div>\n                              <p className=\"text-white text-sm font-medium\">\n                                {fileData.file.name}\n                              </p>\n                              <p className=\"text-gray-400 text-xs\">\n                                {(fileData.file.size / 1024 / 1024).toFixed(2)} MB\n                              </p>\n                            </div>\n                          </div>\n                          \n                          <input\n                            type=\"text\"\n                            placeholder=\"Description (optionnel)\"\n                            value={fileData.description}\n                            onChange={(e) => updateFileDescription(index, e.target.value)}\n                            className=\"w-full px-2 py-1 bg-dark-800 border border-dark-600 rounded text-white text-sm focus:ring-1 focus:ring-primary-500 focus:border-transparent\"\n                            maxLength={200}\n                          />\n                        </div>\n                        \n                        <button\n                          type=\"button\"\n                          onClick={() => removeFile(index)}\n                          className=\"ml-2 p-1 text-gray-400 hover:text-red-400 transition-colors duration-200\"\n                        >\n                          <XMarkIcon className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Warning */}\n          {!canReport() && (\n            <div className=\"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4\">\n              <p className=\"text-yellow-300 text-sm\">\n                ⚠️ Seuls les capitaines d'équipe peuvent reporter les scores.\n              </p>\n            </div>\n          )}\n\n          {/* Buttons */}\n          <div className=\"flex items-center justify-end space-x-3 pt-4 border-t border-dark-600\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"px-4 py-2 text-gray-300 hover:text-white transition-colors duration-200\"\n              disabled={submitting || uploading}\n            >\n              Annuler\n            </button>\n            <button\n              type=\"submit\"\n              disabled={submitting || uploading || !canReport() || !scoreA || !scoreB}\n              className=\"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center\"\n            >\n              {submitting ? (\n                <>\n                  <div className=\"loading-spinner w-4 h-4 mr-2\"></div>\n                  Envoi...\n                </>\n              ) : (\n                <>\n                  <TrophyIcon className=\"w-4 h-4 mr-2\" />\n                  Reporter le score\n                </>\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default MatchReportModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}