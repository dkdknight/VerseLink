{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import{toast}from'react-hot-toast';import{CalendarDaysIcon,MapPinIcon,UsersIcon,ClockIcon,TagIcon,DocumentArrowDownIcon,UserPlusIcon,UserMinusIcon,NoSymbolIcon,ArrowUturnLeftIcon,CheckCircleIcon,RocketLaunchIcon,XCircleIcon}from'@heroicons/react/24/outline';import{eventService}from'../services/eventService';import{useAuth}from'../App';import Chat from'../components/Chat';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EventDetailPage=()=>{var _user$roles,_user$roles2;const{id}=useParams();const[event,setEvent]=useState(null);const[loading,setLoading]=useState(true);const[actionLoading,setActionLoading]=useState(false);const{user,isAuthenticated}=useAuth();const canManage=isAuthenticated&&user&&event&&(user.id===event.created_by||((_user$roles=user.roles)===null||_user$roles===void 0?void 0:_user$roles.includes('site_admin'))||((_user$roles2=user.roles)===null||_user$roles2===void 0?void 0:_user$roles2.includes('org_admin')));useEffect(()=>{if(id){loadEvent();}},[id,user]);const loadEvent=async()=>{try{setLoading(true);const eventData=await eventService.getEvent(id);if(user){var _eventData$signups;eventData.my_signup=((_eventData$signups=eventData.signups)===null||_eventData$signups===void 0?void 0:_eventData$signups.find(s=>s.user_id===user.id))||null;}setEvent(eventData);}catch(error){console.error('Failed to load event:',error);toast.error('Événement non trouvé');}finally{setLoading(false);}};const handleSignup=async function(){let roleId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!isAuthenticated){toast.error('Vous devez être connecté pour vous inscrire');return;}try{setActionLoading(true);await eventService.signupForEvent(event.id,{role_id:roleId,notes:'',ship_model:''});toast.success('Inscription réussie !');await loadEvent();}catch(error){var _error$response,_error$response$data;if((_error$response=error.response)!==null&&_error$response!==void 0&&(_error$response$data=_error$response.data)!==null&&_error$response$data!==void 0&&_error$response$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors de l\\'inscription');}}finally{setActionLoading(false);}};const handleWithdraw=async()=>{if(!window.confirm('Êtes-vous sûr de vouloir vous désinscrire ?')){return;}try{setActionLoading(true);await eventService.withdrawFromEvent(event.id);toast.success('Désinscription réussie');await loadEvent();}catch(error){var _error$response2,_error$response2$data;if((_error$response2=error.response)!==null&&_error$response2!==void 0&&(_error$response2$data=_error$response2.data)!==null&&_error$response2$data!==void 0&&_error$response2$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors de la désinscription');}}finally{setActionLoading(false);}};const handleCheckin=async()=>{try{setActionLoading(true);await eventService.checkinForEvent(event.id);toast.success('Check-in réussi !');await loadEvent();}catch(error){var _error$response3,_error$response3$data;if((_error$response3=error.response)!==null&&_error$response3!==void 0&&(_error$response3$data=_error$response3.data)!==null&&_error$response3$data!==void 0&&_error$response3$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors du check-in');}}finally{setActionLoading(false);}};const canChat=()=>{return!!(event&&(event.my_signup||canManage));};const handleRemoveParticipant=async userId=>{if(!window.confirm('Supprimer ce participant ?')){return;}try{setActionLoading(true);await eventService.removeParticipant(event.id,userId);toast.success('Participant supprimé');await loadEvent();}catch(error){var _error$response4,_error$response4$data;if((_error$response4=error.response)!==null&&_error$response4!==void 0&&(_error$response4$data=_error$response4.data)!==null&&_error$response4$data!==void 0&&_error$response4$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors de la suppression');}}finally{setActionLoading(false);}};const handleBanParticipant=async userId=>{if(!window.confirm('Bannir ce participant ?')){return;}try{setActionLoading(true);await eventService.banParticipant(event.id,userId);toast.success('Participant banni');await loadEvent();}catch(error){var _error$response5,_error$response5$data;if((_error$response5=error.response)!==null&&_error$response5!==void 0&&(_error$response5$data=_error$response5.data)!==null&&_error$response5$data!==void 0&&_error$response5$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors du bannissement');}}finally{setActionLoading(false);}};const handleUnbanParticipant=async userId=>{try{setActionLoading(true);await eventService.unbanParticipant(event.id,userId);toast.success('Participant débanni');await loadEvent();}catch(error){var _error$response6,_error$response6$data;if((_error$response6=error.response)!==null&&_error$response6!==void 0&&(_error$response6$data=_error$response6.data)!==null&&_error$response6$data!==void 0&&_error$response6$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors du débannissement');}}finally{setActionLoading(false);}};const handleCancelEvent=async()=>{if(!window.confirm(\"Annuler l'événement ?\")){return;}try{setActionLoading(true);await eventService.cancelEvent(event.id);toast.success(\"Événement annulé\");await loadEvent();}catch(error){var _error$response7,_error$response7$data;if((_error$response7=error.response)!==null&&_error$response7!==void 0&&(_error$response7$data=_error$response7.data)!==null&&_error$response7$data!==void 0&&_error$response7$data.detail){toast.error(error.response.data.detail);}else{toast.error(\"Erreur lors de l'annulation\");}}finally{setActionLoading(false);}};const handleDownloadICS=async()=>{try{await eventService.downloadEventICS(event.id);toast.success('Calendrier téléchargé');}catch(error){toast.error('Erreur lors du téléchargement');}};const getTypeColor=type=>{const colors={raid:'bg-red-100 text-red-800',course:'bg-blue-100 text-blue-800',pvp:'bg-purple-100 text-purple-800',fps:'bg-orange-100 text-orange-800',salvaging:'bg-yellow-100 text-yellow-800',logistique:'bg-green-100 text-green-800',exploration:'bg-indigo-100 text-indigo-800',mining:'bg-amber-100 text-amber-800',trading:'bg-emerald-100 text-emerald-800',roleplay:'bg-pink-100 text-pink-800',autre:'bg-gray-100 text-gray-800'};return colors[type]||colors.autre;};const formatEventType=type=>{const types={raid:'Raid',course:'Course',pvp:'PvP',fps:'FPS',salvaging:'Salvage',logistique:'Logistique',exploration:'Exploration',mining:'Mining',trading:'Commerce',roleplay:'Roleplay',autre:'Autre'};return types[type]||type;};const SignupCard=_ref=>{let{signup}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-lg p-4 flex items-center\",children:[signup.user_avatar_url?/*#__PURE__*/_jsx(\"img\",{src:signup.user_avatar_url,alt:signup.user_handle,className:\"w-10 h-10 rounded-full mr-3\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-dark-600 rounded-full flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-sm\",children:signup.user_handle.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-semibold mr-2\",children:signup.user_handle}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium \".concat(signup.status==='confirmed'?'bg-green-100 text-green-800':signup.status==='checked_in'?'bg-blue-100 text-blue-800':signup.status==='waitlist'?'bg-yellow-100 text-yellow-800':signup.status==='banned'?'bg-red-100 text-red-800':'bg-gray-100 text-gray-800'),children:signup.status==='confirmed'?'Confirmé':signup.status==='checked_in'?'Présent':signup.status==='waitlist'?\"Attente #\".concat(signup.position_in_waitlist):signup.status==='banned'?'Banni':signup.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-400 text-sm\",children:[signup.role_name&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:signup.role_name}),signup.ship_model&&/*#__PURE__*/_jsx(\"span\",{className:\"mx-2\",children:\"\\u2022\"})]}),signup.ship_model&&/*#__PURE__*/_jsx(\"span\",{children:signup.ship_model})]}),signup.notes&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-sm mt-1 italic\",children:[\"\\\"\",signup.notes,\"\\\"\"]})]}),canManage&&signup.user_id!==(user===null||user===void 0?void 0:user.id)&&(signup.status==='banned'?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUnbanParticipant(signup.user_id),disabled:actionLoading,className:\"text-green-400 hover:text-green-300 mr-2\",children:/*#__PURE__*/_jsx(ArrowUturnLeftIcon,{className:\"w-5 h-5\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveParticipant(signup.user_id),disabled:actionLoading,className:\"text-red-400 hover:text-red-300 mr-2\",children:/*#__PURE__*/_jsx(UserMinusIcon,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBanParticipant(signup.user_id),disabled:actionLoading,className:\"text-red-400 hover:text-red-300 mr-2\",children:/*#__PURE__*/_jsx(NoSymbolIcon,{className:\"w-5 h-5\"})})]})),/*#__PURE__*/_jsx(\"div\",{className:\"text-right text-xs text-gray-500\",children:new Date(signup.created_at).toLocaleDateString('fr-FR')})]});};if(loading||!event){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-dark-950 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-12 h-12\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-dark-950 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-2xl p-8 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mr-3 \".concat(getTypeColor(event.type)),children:formatEventType(event.type)}),/*#__PURE__*/_jsxs(Link,{to:\"/organizations/\".concat(event.org_id),className:\"text-primary-400 hover:text-primary-300 font-medium\",children:[event.org_name,\" (\",event.org_tag,\")\"]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-white mb-4 text-shadow\",children:event.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4 mb-6 text-gray-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CalendarDaysIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(event.start_at_utc).toLocaleDateString('fr-FR',{weekday:'long',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsxs(\"span\",{children:[event.duration_minutes,\" minutes\"]})]}),event.location&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(MapPinIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsx(\"span\",{children:event.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(UsersIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsxs(\"span\",{children:[event.confirmed_count,\"/\",event.max_participants||'∞',\" confirm\\xE9s\",event.signup_count>event.confirmed_count&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-yellow-400 ml-2\",children:[\"(+\",event.signup_count-event.confirmed_count,\" en attente)\"]})]})]})]})]}),event.banner_url&&/*#__PURE__*/_jsx(\"div\",{className:\"lg:ml-8 mt-6 lg:mt-0\",children:/*#__PURE__*/_jsx(\"img\",{src:event.banner_url,alt:event.title,className:\"w-full lg:w-64 h-40 object-cover rounded-xl\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-3 mt-6 pt-6 border-t border-dark-600\",children:[event.my_signup&&!['withdrawn','kicked','banned'].includes(event.my_signup.status)?/*#__PURE__*/_jsxs(_Fragment,{children:[event.can_checkin&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleCheckin,disabled:actionLoading,className:\"btn-primary flex items-center bg-green-600 hover:bg-green-700\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-5 h-5 mr-2\"}),actionLoading?'Check-in...':'Check-in']}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleWithdraw,disabled:actionLoading,className:\"btn-ghost flex items-center text-red-400 hover:text-red-300 border-red-400 hover:border-red-300\",children:[/*#__PURE__*/_jsx(UserMinusIcon,{className:\"w-5 h-5 mr-2\"}),actionLoading?'Désinscription...':'Se désinscrire']})]}):event.my_signup&&event.my_signup.status==='banned'?/*#__PURE__*/_jsx(\"p\",{className:\"text-red-400\",children:\"Vous \\xEAtes banni de cet \\xE9v\\xE9nement\"}):event.can_signup&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSignup(),disabled:actionLoading||event.is_full,className:\"btn-primary flex items-center\",children:[/*#__PURE__*/_jsx(UserPlusIcon,{className:\"w-5 h-5 mr-2\"}),actionLoading?'Inscription...':'S\\'inscrire']}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDownloadICS,className:\"btn-secondary flex items-center\",children:[/*#__PURE__*/_jsx(DocumentArrowDownIcon,{className:\"w-5 h-5 mr-2\"}),\"T\\xE9l\\xE9charger .ics\"]}),canManage&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/events/\".concat(event.id,\"/edit\"),className:\"btn-secondary flex items-center\",children:\"Modifier l'\\xE9v\\xE9nement\"}),event.state!=='cancelled'&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleCancelEvent,disabled:actionLoading,className:\"btn-ghost flex items-center text-red-400 hover:text-red-300 border-red-400 hover:border-red-300\",children:[/*#__PURE__*/_jsx(XCircleIcon,{className:\"w-5 h-5 mr-2\"}),actionLoading?'Annulation...':'Annuler']})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-white mb-4\",children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-300 leading-relaxed whitespace-pre-wrap\",children:event.description})]}),event.fleet_ships&&event.fleet_ships.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-white mb-4\",children:\"Manifeste de la Flotte\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:event.fleet_ships.map(ship=>/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-white font-semibold flex items-center\",children:[/*#__PURE__*/_jsx(RocketLaunchIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),ship.ship_model]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-sm\",children:[\"\\xC9quipage requis: \",ship.required_crew,\" personne\",ship.required_crew>1?'s':'']})]})}),ship.notes&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mt-2 italic\",children:ship.notes})]},ship.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-1\",children:[event.roles&&event.roles.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-4\",children:\"R\\xF4les Disponibles\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:event.roles.map(role=>/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium\",children:role.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm px-2 py-1 rounded \".concat(role.is_full?'bg-red-600 text-white':'bg-green-600 text-white'),children:[role.current_signups,\"/\",role.capacity]})]}),role.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-2\",children:role.description}),role.waitlist_count>0&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-yellow-400 text-sm\",children:[role.waitlist_count,\" en attente\"]}),event.can_signup&&!event.my_signup&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSignup(role.id),disabled:actionLoading,className:\"btn-primary w-full mt-2 text-sm py-1\",children:\"S'inscrire pour ce r\\xF4le\"})]},role.id))})]}),event.my_signup&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-4\",children:\"Mon Inscription\"}),/*#__PURE__*/_jsx(SignupCard,{signup:event.my_signup})]})]})]}),event.signups&&event.signups.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 mt-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold text-white mb-6\",children:[\"Participants (\",event.signups.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:event.signups.map(signup=>/*#__PURE__*/_jsx(SignupCard,{signup:signup},signup.id))})]}),canChat()&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-white mb-4\",children:\"Chat de l'\\xE9v\\xE9nement\"}),/*#__PURE__*/_jsx(Chat,{contextType:\"events\",contextId:event.id})]})]})});};export default EventDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","toast","CalendarDaysIcon","MapPinIcon","UsersIcon","ClockIcon","TagIcon","DocumentArrowDownIcon","UserPlusIcon","UserMinusIcon","NoSymbolIcon","ArrowUturnLeftIcon","CheckCircleIcon","RocketLaunchIcon","XCircleIcon","eventService","useAuth","Chat","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EventDetailPage","_user$roles","_user$roles2","id","event","setEvent","loading","setLoading","actionLoading","setActionLoading","user","isAuthenticated","canManage","created_by","roles","includes","loadEvent","eventData","getEvent","_eventData$signups","my_signup","signups","find","s","user_id","error","console","handleSignup","roleId","arguments","length","undefined","signupForEvent","role_id","notes","ship_model","success","_error$response","_error$response$data","response","data","detail","handleWithdraw","window","confirm","withdrawFromEvent","_error$response2","_error$response2$data","handleCheckin","checkinForEvent","_error$response3","_error$response3$data","canChat","handleRemoveParticipant","userId","removeParticipant","_error$response4","_error$response4$data","handleBanParticipant","banParticipant","_error$response5","_error$response5$data","handleUnbanParticipant","unbanParticipant","_error$response6","_error$response6$data","handleCancelEvent","cancelEvent","_error$response7","_error$response7$data","handleDownloadICS","downloadEventICS","getTypeColor","type","colors","raid","course","pvp","fps","salvaging","logistique","exploration","mining","trading","roleplay","autre","formatEventType","types","SignupCard","_ref","signup","className","children","user_avatar_url","src","alt","user_handle","charAt","toUpperCase","concat","status","position_in_waitlist","role_name","onClick","disabled","Date","created_at","toLocaleDateString","to","org_id","org_name","org_tag","title","start_at_utc","weekday","year","month","day","hour","minute","duration_minutes","location","confirmed_count","max_participants","signup_count","banner_url","can_checkin","can_signup","is_full","state","description","fleet_ships","map","ship","required_crew","role","name","current_signups","capacity","waitlist_count","contextType","contextId"],"sources":["C:/Users/Knight-Server/Desktop/VerseLink-orgup/frontend/src/pages/EventDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { \n  CalendarDaysIcon,\n  MapPinIcon,\n  UsersIcon,\n  ClockIcon,\n  TagIcon,\n  DocumentArrowDownIcon,\n  UserPlusIcon,\n  UserMinusIcon,\n  NoSymbolIcon,\n  ArrowUturnLeftIcon,\n  CheckCircleIcon,\n  RocketLaunchIcon,\n  XCircleIcon\n} from '@heroicons/react/24/outline';\nimport { eventService } from '../services/eventService';\nimport { useAuth } from '../App';\nimport Chat from '../components/Chat';\n\nconst EventDetailPage = () => {\n  const { id } = useParams();\n  const [event, setEvent] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [actionLoading, setActionLoading] = useState(false);\n  const { user, isAuthenticated } = useAuth();\n\n  const canManage =\n    isAuthenticated &&\n    user &&\n    event &&\n    (user.id === event.created_by ||\n      user.roles?.includes('site_admin') ||\n      user.roles?.includes('org_admin'));\n\n  useEffect(() => {\n    if (id) {\n      loadEvent();\n    }\n  }, [id, user]);\n\n  const loadEvent = async () => {\n    try {\n      setLoading(true);\n      const eventData = await eventService.getEvent(id);\n      if (user) {\n        eventData.my_signup = eventData.signups?.find(\n          (s) => s.user_id === user.id\n        ) || null;\n      }\n      setEvent(eventData);\n    } catch (error) {\n      console.error('Failed to load event:', error);\n      toast.error('Événement non trouvé');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSignup = async (roleId = null) => {\n    if (!isAuthenticated) {\n      toast.error('Vous devez être connecté pour vous inscrire');\n      return;\n    }\n\n    try {\n      setActionLoading(true);\n      await eventService.signupForEvent(event.id, {\n        role_id: roleId,\n        notes: '',\n        ship_model: ''\n      });\n      toast.success('Inscription réussie !');\n      await loadEvent();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors de l\\'inscription');\n      }\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleWithdraw = async () => {\n    if (!window.confirm('Êtes-vous sûr de vouloir vous désinscrire ?')) {\n      return;\n    }\n\n    try {\n      setActionLoading(true);\n      await eventService.withdrawFromEvent(event.id);\n      toast.success('Désinscription réussie');\n      await loadEvent();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors de la désinscription');\n      }\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleCheckin = async () => {\n    try {\n      setActionLoading(true);\n      await eventService.checkinForEvent(event.id);\n      toast.success('Check-in réussi !');\n      await loadEvent();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors du check-in');\n      }\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const canChat = () => {\n    return !!(event && (event.my_signup || canManage));\n  };\n\n  const handleRemoveParticipant = async (userId) => {\n    if (!window.confirm('Supprimer ce participant ?')) {\n      return;\n    }\n    try {\n      setActionLoading(true);\n      await eventService.removeParticipant(event.id, userId);\n      toast.success('Participant supprimé');\n      await loadEvent();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors de la suppression');\n      }\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleBanParticipant = async (userId) => {\n    if (!window.confirm('Bannir ce participant ?')) {\n      return;\n    }\n    try {\n      setActionLoading(true);\n      await eventService.banParticipant(event.id, userId);\n      toast.success('Participant banni');\n      await loadEvent();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors du bannissement');\n      }\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleUnbanParticipant = async (userId) => {\n    try {\n      setActionLoading(true);\n      await eventService.unbanParticipant(event.id, userId);\n      toast.success('Participant débanni');\n      await loadEvent();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors du débannissement');\n      }\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleCancelEvent = async () => {\n    if (!window.confirm(\"Annuler l'événement ?\")) {\n      return;\n    }\n    try {\n      setActionLoading(true);\n      await eventService.cancelEvent(event.id);\n      toast.success(\"Événement annulé\");\n      await loadEvent();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error(\"Erreur lors de l'annulation\");\n      }\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleDownloadICS = async () => {\n    try {\n      await eventService.downloadEventICS(event.id);\n      toast.success('Calendrier téléchargé');\n    } catch (error) {\n      toast.error('Erreur lors du téléchargement');\n    }\n  };\n\n  const getTypeColor = (type) => {\n    const colors = {\n      raid: 'bg-red-100 text-red-800',\n      course: 'bg-blue-100 text-blue-800',\n      pvp: 'bg-purple-100 text-purple-800',\n      fps: 'bg-orange-100 text-orange-800',\n      salvaging: 'bg-yellow-100 text-yellow-800',\n      logistique: 'bg-green-100 text-green-800',\n      exploration: 'bg-indigo-100 text-indigo-800',\n      mining: 'bg-amber-100 text-amber-800',\n      trading: 'bg-emerald-100 text-emerald-800',\n      roleplay: 'bg-pink-100 text-pink-800',\n      autre: 'bg-gray-100 text-gray-800'\n    };\n    return colors[type] || colors.autre;\n  };\n\n  const formatEventType = (type) => {\n    const types = {\n      raid: 'Raid',\n      course: 'Course',\n      pvp: 'PvP',\n      fps: 'FPS',\n      salvaging: 'Salvage',\n      logistique: 'Logistique',\n      exploration: 'Exploration',\n      mining: 'Mining',\n      trading: 'Commerce',\n      roleplay: 'Roleplay',\n      autre: 'Autre'\n    };\n    return types[type] || type;\n  };\n\n  const SignupCard = ({ signup }) => (\n    <div className=\"glass-effect rounded-lg p-4 flex items-center\">\n      {signup.user_avatar_url ? (\n        <img\n          src={signup.user_avatar_url}\n          alt={signup.user_handle}\n          className=\"w-10 h-10 rounded-full mr-3\"\n        />\n      ) : (\n        <div className=\"w-10 h-10 bg-dark-600 rounded-full flex items-center justify-center mr-3\">\n          <span className=\"text-white font-bold text-sm\">\n            {signup.user_handle.charAt(0).toUpperCase()}\n          </span>\n        </div>\n      )}\n      \n      <div className=\"flex-1\">\n        <div className=\"flex items-center\">\n          <h4 className=\"text-white font-semibold mr-2\">{signup.user_handle}</h4>\n          <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${\n            signup.status === 'confirmed'\n              ? 'bg-green-100 text-green-800'\n              : signup.status === 'checked_in'\n              ? 'bg-blue-100 text-blue-800'\n              : signup.status === 'waitlist'\n              ? 'bg-yellow-100 text-yellow-800'\n              : signup.status === 'banned'\n              ? 'bg-red-100 text-red-800'\n              : 'bg-gray-100 text-gray-800'\n          }`}>\n            {signup.status === 'confirmed' ? 'Confirmé' :\n             signup.status === 'checked_in' ? 'Présent' :\n             signup.status === 'waitlist' ? `Attente #${signup.position_in_waitlist}` :\n             signup.status === 'banned' ? 'Banni' :\n             signup.status}\n          </span>\n        </div>\n        \n        <div className=\"flex items-center text-gray-400 text-sm\">\n          {signup.role_name && (\n            <>\n              <span>{signup.role_name}</span>\n              {signup.ship_model && <span className=\"mx-2\">•</span>}\n            </>\n          )}\n          {signup.ship_model && <span>{signup.ship_model}</span>}\n        </div>\n        \n        {signup.notes && (\n          <p className=\"text-gray-400 text-sm mt-1 italic\">\"{signup.notes}\"</p>\n        )}\n      </div>\n      {canManage && signup.user_id !== user?.id && (\n        signup.status === 'banned' ? (\n          <button\n            onClick={() => handleUnbanParticipant(signup.user_id)}\n            disabled={actionLoading}\n            className=\"text-green-400 hover:text-green-300 mr-2\"\n          >\n            <ArrowUturnLeftIcon className=\"w-5 h-5\" />\n          </button>\n        ) : (\n          <>\n            <button\n              onClick={() => handleRemoveParticipant(signup.user_id)}\n              disabled={actionLoading}\n              className=\"text-red-400 hover:text-red-300 mr-2\"\n            >\n              <UserMinusIcon className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={() => handleBanParticipant(signup.user_id)}\n              disabled={actionLoading}\n              className=\"text-red-400 hover:text-red-300 mr-2\"\n            >\n              <NoSymbolIcon className=\"w-5 h-5\" />\n            </button>\n          </>\n        )\n      )}\n      <div className=\"text-right text-xs text-gray-500\">\n        {new Date(signup.created_at).toLocaleDateString('fr-FR')}\n      </div>\n    </div>\n  );\n\n  if (loading || !event) {\n    return (\n      <div className=\"min-h-screen bg-dark-950 flex items-center justify-center\">\n        <div className=\"loading-spinner w-12 h-12\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-dark-950 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"glass-effect rounded-2xl p-8 mb-8\">\n          <div className=\"flex flex-col lg:flex-row\">\n            {/* Event Info */}\n            <div className=\"flex-1\">\n              <div className=\"flex items-center mb-4\">\n                <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mr-3 ${getTypeColor(event.type)}`}>\n                  {formatEventType(event.type)}\n                </span>\n                <Link \n                  to={`/organizations/${event.org_id}`}\n                  className=\"text-primary-400 hover:text-primary-300 font-medium\"\n                >\n                  {event.org_name} ({event.org_tag})\n                </Link>\n              </div>\n              \n              <h1 className=\"text-4xl font-bold text-white mb-4 text-shadow\">\n                {event.title}\n              </h1>\n              \n              <div className=\"grid md:grid-cols-2 gap-4 mb-6 text-gray-300\">\n                <div className=\"flex items-center\">\n                  <CalendarDaysIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                  <span>\n                    {new Date(event.start_at_utc).toLocaleDateString('fr-FR', {\n                      weekday: 'long',\n                      year: 'numeric',\n                      month: 'long',\n                      day: 'numeric',\n                      hour: '2-digit',\n                      minute: '2-digit'\n                    })}\n                  </span>\n                </div>\n                \n                <div className=\"flex items-center\">\n                  <ClockIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                  <span>{event.duration_minutes} minutes</span>\n                </div>\n                \n                {event.location && (\n                  <div className=\"flex items-center\">\n                    <MapPinIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                    <span>{event.location}</span>\n                  </div>\n                )}\n                \n                <div className=\"flex items-center\">\n                  <UsersIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                  <span>\n                    {event.confirmed_count}/{event.max_participants || '∞'} confirmés\n                    {event.signup_count > event.confirmed_count && (\n                      <span className=\"text-yellow-400 ml-2\">\n                        (+{event.signup_count - event.confirmed_count} en attente)\n                      </span>\n                    )}\n                  </span>\n                </div>\n              </div>\n            </div>\n            \n            {/* Banner */}\n            {event.banner_url && (\n              <div className=\"lg:ml-8 mt-6 lg:mt-0\">\n                <img\n                  src={event.banner_url}\n                  alt={event.title}\n                  className=\"w-full lg:w-64 h-40 object-cover rounded-xl\"\n                />\n              </div>\n            )}\n          </div>\n          \n          {/* Actions */}\n          <div className=\"flex flex-wrap gap-3 mt-6 pt-6 border-t border-dark-600\">\n            {event.my_signup && !['withdrawn', 'kicked', 'banned'].includes(event.my_signup.status) ? (\n              <>\n                {event.can_checkin && (\n                  <button\n                    onClick={handleCheckin}\n                    disabled={actionLoading}\n                    className=\"btn-primary flex items-center bg-green-600 hover:bg-green-700\"\n                  >\n                    <CheckCircleIcon className=\"w-5 h-5 mr-2\" />\n                    {actionLoading ? 'Check-in...' : 'Check-in'}\n                  </button>\n                )}\n                \n                <button\n                  onClick={handleWithdraw}\n                  disabled={actionLoading}\n                  className=\"btn-ghost flex items-center text-red-400 hover:text-red-300 border-red-400 hover:border-red-300\"\n                >\n                  <UserMinusIcon className=\"w-5 h-5 mr-2\" />\n                  {actionLoading ? 'Désinscription...' : 'Se désinscrire'}\n                </button>\n              </>\n            ) : event.my_signup && event.my_signup.status === 'banned' ? (\n              <p className=\"text-red-400\">Vous êtes banni de cet événement</p>\n            ) : (\n              event.can_signup && (\n                <button\n                  onClick={() => handleSignup()}\n                  disabled={actionLoading || event.is_full}\n                  className=\"btn-primary flex items-center\"\n                >\n                  <UserPlusIcon className=\"w-5 h-5 mr-2\" />\n                  {actionLoading ? 'Inscription...' : 'S\\'inscrire'}\n                </button>\n              )\n            )}\n            \n            <button\n              onClick={handleDownloadICS}\n              className=\"btn-secondary flex items-center\"\n            >\n              <DocumentArrowDownIcon className=\"w-5 h-5 mr-2\" />\n              Télécharger .ics\n            </button>\n            \n            {canManage && (\n              <>\n                <Link\n                  to={`/events/${event.id}/edit`}\n                  className=\"btn-secondary flex items-center\"\n                >\n                  Modifier l'événement\n                </Link>\n                {event.state !== 'cancelled' && (\n                  <button\n                    onClick={handleCancelEvent}\n                    disabled={actionLoading}\n                    className=\"btn-ghost flex items-center text-red-400 hover:text-red-300 border-red-400 hover:border-red-300\"\n                  >\n                    <XCircleIcon className=\"w-5 h-5 mr-2\" />\n                    {actionLoading ? 'Annulation...' : 'Annuler'}\n                  </button>\n                )}\n              </>\n            )}\n          </div>\n        </div>\n\n        <div className=\"grid lg:grid-cols-3 gap-8\">\n          {/* Description */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"card p-6 mb-6\">\n              <h3 className=\"text-2xl font-bold text-white mb-4\">Description</h3>\n              <div className=\"text-gray-300 leading-relaxed whitespace-pre-wrap\">\n                {event.description}\n              </div>\n            </div>\n            \n            {/* Fleet */}\n            {event.fleet_ships && event.fleet_ships.length > 0 && (\n              <div className=\"card p-6 mb-6\">\n                <h3 className=\"text-2xl font-bold text-white mb-4\">\n                  Manifeste de la Flotte\n                </h3>\n                \n                <div className=\"grid gap-4\">\n                  {event.fleet_ships.map((ship) => (\n                    <div key={ship.id} className=\"glass-effect rounded-lg p-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <h4 className=\"text-white font-semibold flex items-center\">\n                            <RocketLaunchIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                            {ship.ship_model}\n                          </h4>\n                          <p className=\"text-gray-400 text-sm\">\n                            Équipage requis: {ship.required_crew} personne{ship.required_crew > 1 ? 's' : ''}\n                          </p>\n                        </div>\n                      </div>\n                      {ship.notes && (\n                        <p className=\"text-gray-400 text-sm mt-2 italic\">\n                          {ship.notes}\n                        </p>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"lg:col-span-1\">\n            {/* Roles */}\n            {event.roles && event.roles.length > 0 && (\n              <div className=\"card p-6 mb-6\">\n                <h3 className=\"text-xl font-bold text-white mb-4\">\n                  Rôles Disponibles\n                </h3>\n                \n                <div className=\"space-y-3\">\n                  {event.roles.map((role) => (\n                    <div key={role.id} className=\"glass-effect rounded-lg p-3\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <h4 className=\"text-white font-medium\">{role.name}</h4>\n                        <span className={`text-sm px-2 py-1 rounded ${\n                          role.is_full ? 'bg-red-600 text-white' : 'bg-green-600 text-white'\n                        }`}>\n                          {role.current_signups}/{role.capacity}\n                        </span>\n                      </div>\n                      \n                      {role.description && (\n                        <p className=\"text-gray-400 text-sm mb-2\">{role.description}</p>\n                      )}\n                      \n                      {role.waitlist_count > 0 && (\n                        <p className=\"text-yellow-400 text-sm\">\n                          {role.waitlist_count} en attente\n                        </p>\n                      )}\n                      \n                      {event.can_signup && !event.my_signup && (\n                        <button\n                          onClick={() => handleSignup(role.id)}\n                          disabled={actionLoading}\n                          className=\"btn-primary w-full mt-2 text-sm py-1\"\n                        >\n                          S'inscrire pour ce rôle\n                        </button>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n            \n            {/* My Signup Status */}\n            {event.my_signup && (\n              <div className=\"card p-6 mb-6\">\n                <h3 className=\"text-xl font-bold text-white mb-4\">Mon Inscription</h3>\n                <SignupCard signup={event.my_signup} />\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Participants */}\n        {event.signups && event.signups.length > 0 && (\n          <div className=\"card p-6 mt-6\">\n            <h3 className=\"text-2xl font-bold text-white mb-6\">\n              Participants ({event.signups.length})\n            </h3>\n            \n            <div className=\"grid gap-4\">\n              {event.signups.map((signup) => (\n                <SignupCard key={signup.id} signup={signup} />\n              ))}\n            </div>\n          </div>\n        )}\n\n        {canChat() && (\n          <div className=\"card p-6 mt-6\">\n            <h3 className=\"text-2xl font-bold text-white mb-4\">Chat de l'événement</h3>\n            <Chat contextType=\"events\" contextId={event.id} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default EventDetailPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}