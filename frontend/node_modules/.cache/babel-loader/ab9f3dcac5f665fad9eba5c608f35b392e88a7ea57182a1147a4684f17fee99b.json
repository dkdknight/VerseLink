{"ast":null,"code":"import{api}from'./authService';export const chatService={getMessages:async(type,id)=>{const response=await api.get(\"/chat/\".concat(type,\"/\").concat(id,\"/messages\"));return response.data;},postMessage:async(type,id,content)=>{const response=await api.post(\"/chat/\".concat(type,\"/\").concat(id,\"/messages\"),{content});return response.data;},connectWebSocket:(type,id,token,onMessage)=>{const base=process.env.REACT_APP_BACKEND_WS_URL||'ws://localhost:8001';const ws=new WebSocket(\"\".concat(base,\"/api/v1/chat/ws/\").concat(type==='events'?'event':'match',\"/\").concat(id,\"?token=\").concat(token));ws.onmessage=e=>{try{onMessage(JSON.parse(e.data));}catch(_unused){}};return ws;}};","map":{"version":3,"names":["api","chatService","getMessages","type","id","response","get","concat","data","postMessage","content","post","connectWebSocket","token","onMessage","base","process","env","REACT_APP_BACKEND_WS_URL","ws","WebSocket","onmessage","e","JSON","parse","_unused"],"sources":["C:/Users/Knight-Server/Desktop/VerseLink-conflict_090925_1049/frontend/src/services/chatService.js"],"sourcesContent":["import { api } from './authService';\r\n\r\nexport const chatService = {\r\n  getMessages: async (type, id) => {\r\n    const response = await api.get(`/chat/${type}/${id}/messages`);\r\n    return response.data;\r\n  },\r\n  postMessage: async (type, id, content) => {\r\n    const response = await api.post(`/chat/${type}/${id}/messages`, { content });\r\n    return response.data;\r\n  },\r\n  connectWebSocket: (type, id, token, onMessage) => {\r\n    const base = (process.env.REACT_APP_BACKEND_WS_URL || 'ws://localhost:8001');\r\n    const ws = new WebSocket(`${base}/api/v1/chat/ws/${type === 'events' ? 'event' : 'match'}/${id}?token=${token}`);\r\n    ws.onmessage = (e) => {\r\n      try {\r\n        onMessage(JSON.parse(e.data));\r\n      } catch {}\r\n    };\r\n    return ws;\r\n  }\r\n};"],"mappings":"AAAA,OAASA,GAAG,KAAQ,eAAe,CAEnC,MAAO,MAAM,CAAAC,WAAW,CAAG,CACzBC,WAAW,CAAE,KAAAA,CAAOC,IAAI,CAAEC,EAAE,GAAK,CAC/B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACM,GAAG,UAAAC,MAAA,CAAUJ,IAAI,MAAAI,MAAA,CAAIH,EAAE,aAAW,CAAC,CAC9D,MAAO,CAAAC,QAAQ,CAACG,IAAI,CACtB,CAAC,CACDC,WAAW,CAAE,KAAAA,CAAON,IAAI,CAAEC,EAAE,CAAEM,OAAO,GAAK,CACxC,KAAM,CAAAL,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACW,IAAI,UAAAJ,MAAA,CAAUJ,IAAI,MAAAI,MAAA,CAAIH,EAAE,cAAa,CAAEM,OAAQ,CAAC,CAAC,CAC5E,MAAO,CAAAL,QAAQ,CAACG,IAAI,CACtB,CAAC,CACDI,gBAAgB,CAAEA,CAACT,IAAI,CAAEC,EAAE,CAAES,KAAK,CAAEC,SAAS,GAAK,CAChD,KAAM,CAAAC,IAAI,CAAIC,OAAO,CAACC,GAAG,CAACC,wBAAwB,EAAI,qBAAsB,CAC5E,KAAM,CAAAC,EAAE,CAAG,GAAI,CAAAC,SAAS,IAAAb,MAAA,CAAIQ,IAAI,qBAAAR,MAAA,CAAmBJ,IAAI,GAAK,QAAQ,CAAG,OAAO,CAAG,OAAO,MAAAI,MAAA,CAAIH,EAAE,YAAAG,MAAA,CAAUM,KAAK,CAAE,CAAC,CAChHM,EAAE,CAACE,SAAS,CAAIC,CAAC,EAAK,CACpB,GAAI,CACFR,SAAS,CAACS,IAAI,CAACC,KAAK,CAACF,CAAC,CAACd,IAAI,CAAC,CAAC,CAC/B,CAAE,MAAAiB,OAAA,CAAM,CAAC,CACX,CAAC,CACD,MAAO,CAAAN,EAAE,CACX,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}