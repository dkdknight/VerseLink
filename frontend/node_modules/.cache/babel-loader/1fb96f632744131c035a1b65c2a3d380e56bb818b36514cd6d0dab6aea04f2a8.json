{"ast":null,"code":"import React from'react';import{XMarkIcon,CheckCircleIcon,ExclamationTriangleIcon}from'@heroicons/react/24/outline';import{toast}from'react-hot-toast';import{tournamentService}from'../services/tournamentService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MatchConfirmModal=_ref=>{let{isOpen,onClose,match,onConfirmed,onContest}=_ref;const[submitting,setSubmitting]=React.useState(false);const handleConfirm=async()=>{try{setSubmitting(true);await tournamentService.confirmMatchScore(match.id);toast.success('Score validé');onConfirmed();onClose();}catch(error){var _error$response,_error$response$data;if((_error$response=error.response)!==null&&_error$response!==void 0&&(_error$response$data=_error$response.data)!==null&&_error$response$data!==void 0&&_error$response$data.detail){toast.error(error.response.data.detail);}else{toast.error(\"Erreur lors de la validation du score\");}}finally{setSubmitting(false);}};const handleContest=()=>{if(onContest){onContest();}};if(!isOpen||!match)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark-800 rounded-lg max-w-lg w-full border border-dark-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b border-dark-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-6 h-6 text-green-400\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-white\",children:\"Confirmer le score\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-white transition-colors duration-200\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium\",children:match.team_a_name||'TBD'}),match.score_a!==null&&/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-white mt-1\",children:match.score_a})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium\",children:match.team_b_name||'TBD'}),match.score_b!==null&&/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-white mt-1\",children:match.score_b})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 text-center\",children:\"Confirmez-vous ce r\\xE9sultat ?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-3 flex items-start\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"w-5 h-5 text-yellow-400 mr-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-yellow-300 text-xs\",children:\"En cas de contestation, vous devrez fournir une raison d\\xE9taill\\xE9e.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 p-6 border-t border-dark-600\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"btn-secondary\",disabled:submitting,children:\"Fermer\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleContest,className:\"btn-danger\",disabled:submitting,children:\"Contester\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleConfirm,className:\"btn-success flex items-center\",disabled:submitting,children:submitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-4 h-4 mr-2\"}),\"Validation...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-4 h-4 mr-2\"}),\"Valider\"]})})]})]})});};export default MatchConfirmModal;","map":{"version":3,"names":["React","XMarkIcon","CheckCircleIcon","ExclamationTriangleIcon","toast","tournamentService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MatchConfirmModal","_ref","isOpen","onClose","match","onConfirmed","onContest","submitting","setSubmitting","useState","handleConfirm","confirmMatchScore","id","success","error","_error$response","_error$response$data","response","data","detail","handleContest","className","children","onClick","team_a_name","score_a","team_b_name","score_b","disabled"],"sources":["C:/Users/Knight-Server/Desktop/VerseLink-conflict_090925_1049/frontend/src/components/MatchConfirmModal.js"],"sourcesContent":["import React from 'react';\nimport {\n  XMarkIcon,\n  CheckCircleIcon,\n  ExclamationTriangleIcon\n} from '@heroicons/react/24/outline';\nimport { toast } from 'react-hot-toast';\nimport { tournamentService } from '../services/tournamentService';\n\nconst MatchConfirmModal = ({ isOpen, onClose, match, onConfirmed, onContest }) => {\n  const [submitting, setSubmitting] = React.useState(false);\n\n  const handleConfirm = async () => {\n    try {\n      setSubmitting(true);\n      await tournamentService.confirmMatchScore(match.id);\n      toast.success('Score validé');\n      onConfirmed();\n      onClose();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error(\"Erreur lors de la validation du score\");\n      }\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleContest = () => {\n    if (onContest) {\n      onContest();\n    }\n  };\n\n  if (!isOpen || !match) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-dark-800 rounded-lg max-w-lg w-full border border-dark-600\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-dark-600\">\n          <div className=\"flex items-center space-x-3\">\n            <CheckCircleIcon className=\"w-6 h-6 text-green-400\" />\n            <h2 className=\"text-xl font-semibold text-white\">Confirmer le score</h2>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-white transition-colors duration-200\"\n          >\n            <XMarkIcon className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        {/* Match Info */}\n        <div className=\"p-6 space-y-4\">\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"text-center\">\n              <h4 className=\"text-white font-medium\">{match.team_a_name || 'TBD'}</h4>\n              {match.score_a !== null && (\n                <p className=\"text-2xl font-bold text-white mt-1\">{match.score_a}</p>\n              )}\n            </div>\n            <div className=\"text-center\">\n              <h4 className=\"text-white font-medium\">{match.team_b_name || 'TBD'}</h4>\n              {match.score_b !== null && (\n                <p className=\"text-2xl font-bold text-white mt-1\">{match.score_b}</p>\n              )}\n            </div>\n          </div>\n          <p className=\"text-sm text-gray-400 text-center\">\n            Confirmez-vous ce résultat ?\n          </p>\n          <div className=\"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-3 flex items-start\">\n            <ExclamationTriangleIcon className=\"w-5 h-5 text-yellow-400 mr-2\" />\n            <p className=\"text-yellow-300 text-xs\">\n              En cas de contestation, vous devrez fournir une raison détaillée.\n            </p>\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex items-center justify-end space-x-3 p-6 border-t border-dark-600\">\n          <button\n            onClick={onClose}\n            className=\"btn-secondary\"\n            disabled={submitting}\n          >\n            Fermer\n          </button>\n          <button\n            onClick={handleContest}\n            className=\"btn-danger\"\n            disabled={submitting}\n          >\n            Contester\n          </button>\n          <button\n            onClick={handleConfirm}\n            className=\"btn-success flex items-center\"\n            disabled={submitting}\n          >\n            {submitting ? (\n              <>\n                <div className=\"loading-spinner w-4 h-4 mr-2\"></div>\n                Validation...\n              </>\n            ) : (\n              <>\n                <CheckCircleIcon className=\"w-4 h-4 mr-2\" />\n                Valider\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MatchConfirmModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}