{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import{toast}from'react-hot-toast';import{CalendarDaysIcon,MapPinIcon,UsersIcon,ClockIcon,TagIcon,DocumentArrowDownIcon,UserPlusIcon,UserMinusIcon,CheckCircleIcon,RocketLaunchIcon,XCircleIcon}from'@heroicons/react/24/outline';import{eventService}from'../services/eventService';import{useAuth}from'../App';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EventDetailPage=()=>{var _user$roles,_user$roles2;const{id}=useParams();const[event,setEvent]=useState(null);const[loading,setLoading]=useState(true);const[actionLoading,setActionLoading]=useState(false);const{user,isAuthenticated}=useAuth();const canManage=isAuthenticated&&user&&event&&(user.id===event.created_by||((_user$roles=user.roles)===null||_user$roles===void 0?void 0:_user$roles.includes('site_admin'))||((_user$roles2=user.roles)===null||_user$roles2===void 0?void 0:_user$roles2.includes('org_admin')));useEffect(()=>{if(id){loadEvent();}},[id]);const loadEvent=async()=>{try{setLoading(true);const eventData=await eventService.getEvent(id);setEvent(eventData);}catch(error){console.error('Failed to load event:',error);toast.error('Événement non trouvé');}finally{setLoading(false);}};const handleSignup=async function(){let roleId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!isAuthenticated){toast.error('Vous devez être connecté pour vous inscrire');return;}try{setActionLoading(true);await eventService.signupForEvent(event.id,{role_id:roleId,notes:'',ship_model:''});toast.success('Inscription réussie !');await loadEvent();}catch(error){var _error$response,_error$response$data;if((_error$response=error.response)!==null&&_error$response!==void 0&&(_error$response$data=_error$response.data)!==null&&_error$response$data!==void 0&&_error$response$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors de l\\'inscription');}}finally{setActionLoading(false);}};const handleWithdraw=async()=>{if(!window.confirm('Êtes-vous sûr de vouloir vous désinscrire ?')){return;}try{setActionLoading(true);await eventService.withdrawFromEvent(event.id);toast.success('Désinscription réussie');await loadEvent();}catch(error){var _error$response2,_error$response2$data;if((_error$response2=error.response)!==null&&_error$response2!==void 0&&(_error$response2$data=_error$response2.data)!==null&&_error$response2$data!==void 0&&_error$response2$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors de la désinscription');}}finally{setActionLoading(false);}};const handleCheckin=async()=>{try{setActionLoading(true);await eventService.checkinForEvent(event.id);toast.success('Check-in réussi !');await loadEvent();}catch(error){var _error$response3,_error$response3$data;if((_error$response3=error.response)!==null&&_error$response3!==void 0&&(_error$response3$data=_error$response3.data)!==null&&_error$response3$data!==void 0&&_error$response3$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors du check-in');}}finally{setActionLoading(false);}};const handleRemoveParticipant=async userId=>{if(!window.confirm('Supprimer ce participant ?')){return;}try{setActionLoading(true);await eventService.removeParticipant(event.id,userId);toast.success('Participant supprimé');await loadEvent();}catch(error){var _error$response4,_error$response4$data;if((_error$response4=error.response)!==null&&_error$response4!==void 0&&(_error$response4$data=_error$response4.data)!==null&&_error$response4$data!==void 0&&_error$response4$data.detail){toast.error(error.response.data.detail);}else{toast.error('Erreur lors de la suppression');}}finally{setActionLoading(false);}};const handleCancelEvent=async()=>{if(!window.confirm(\"Annuler l'événement ?\")){return;}try{setActionLoading(true);await eventService.cancelEvent(event.id);toast.success(\"Événement annulé\");await loadEvent();}catch(error){var _error$response5,_error$response5$data;if((_error$response5=error.response)!==null&&_error$response5!==void 0&&(_error$response5$data=_error$response5.data)!==null&&_error$response5$data!==void 0&&_error$response5$data.detail){toast.error(error.response.data.detail);}else{toast.error(\"Erreur lors de l'annulation\");}}finally{setActionLoading(false);}};const handleDownloadICS=async()=>{try{await eventService.downloadEventICS(event.id);toast.success('Calendrier téléchargé');}catch(error){toast.error('Erreur lors du téléchargement');}};const getTypeColor=type=>{const colors={raid:'bg-red-100 text-red-800',course:'bg-blue-100 text-blue-800',pvp:'bg-purple-100 text-purple-800',fps:'bg-orange-100 text-orange-800',salvaging:'bg-yellow-100 text-yellow-800',logistique:'bg-green-100 text-green-800',exploration:'bg-indigo-100 text-indigo-800',mining:'bg-amber-100 text-amber-800',trading:'bg-emerald-100 text-emerald-800',roleplay:'bg-pink-100 text-pink-800',autre:'bg-gray-100 text-gray-800'};return colors[type]||colors.autre;};const formatEventType=type=>{const types={raid:'Raid',course:'Course',pvp:'PvP',fps:'FPS',salvaging:'Salvage',logistique:'Logistique',exploration:'Exploration',mining:'Mining',trading:'Commerce',roleplay:'Roleplay',autre:'Autre'};return types[type]||type;};const SignupCard=_ref=>{let{signup}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-lg p-4 flex items-center\",children:[signup.user_avatar_url?/*#__PURE__*/_jsx(\"img\",{src:signup.user_avatar_url,alt:signup.user_handle,className:\"w-10 h-10 rounded-full mr-3\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-dark-600 rounded-full flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-sm\",children:signup.user_handle.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-semibold mr-2\",children:signup.user_handle}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium \".concat(signup.status==='confirmed'?'bg-green-100 text-green-800':signup.status==='checked_in'?'bg-blue-100 text-blue-800':signup.status==='waitlist'?'bg-yellow-100 text-yellow-800':'bg-gray-100 text-gray-800'),children:signup.status==='confirmed'?'Confirmé':signup.status==='checked_in'?'Présent':signup.status==='waitlist'?\"Attente #\".concat(signup.position_in_waitlist):signup.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-400 text-sm\",children:[signup.role_name&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:signup.role_name}),signup.ship_model&&/*#__PURE__*/_jsx(\"span\",{className:\"mx-2\",children:\"\\u2022\"})]}),signup.ship_model&&/*#__PURE__*/_jsx(\"span\",{children:signup.ship_model})]}),signup.notes&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-sm mt-1 italic\",children:[\"\\\"\",signup.notes,\"\\\"\"]})]}),canManage&&signup.user_id!==(user===null||user===void 0?void 0:user.id)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveParticipant(signup.user_id),disabled:actionLoading,className:\"text-red-400 hover:text-red-300 mr-2\",children:/*#__PURE__*/_jsx(UserMinusIcon,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right text-xs text-gray-500\",children:new Date(signup.created_at).toLocaleDateString('fr-FR')})]});};if(loading||!event){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-dark-950 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-12 h-12\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-dark-950 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-2xl p-8 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mr-3 \".concat(getTypeColor(event.type)),children:formatEventType(event.type)}),/*#__PURE__*/_jsxs(Link,{to:\"/organizations/\".concat(event.org_id),className:\"text-primary-400 hover:text-primary-300 font-medium\",children:[event.org_name,\" (\",event.org_tag,\")\"]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-white mb-4 text-shadow\",children:event.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4 mb-6 text-gray-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CalendarDaysIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(event.start_at_utc).toLocaleDateString('fr-FR',{weekday:'long',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsxs(\"span\",{children:[event.duration_minutes,\" minutes\"]})]}),event.location&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(MapPinIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsx(\"span\",{children:event.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(UsersIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),/*#__PURE__*/_jsxs(\"span\",{children:[event.confirmed_count,\"/\",event.max_participants||'∞',\" confirm\\xE9s\",event.signup_count>event.confirmed_count&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-yellow-400 ml-2\",children:[\"(+\",event.signup_count-event.confirmed_count,\" en attente)\"]})]})]})]})]}),event.banner_url&&/*#__PURE__*/_jsx(\"div\",{className:\"lg:ml-8 mt-6 lg:mt-0\",children:/*#__PURE__*/_jsx(\"img\",{src:event.banner_url,alt:event.title,className:\"w-full lg:w-64 h-40 object-cover rounded-xl\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-3 mt-6 pt-6 border-t border-dark-600\",children:[event.can_signup&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSignup(),disabled:actionLoading||event.is_full,className:\"btn-primary flex items-center\",children:[/*#__PURE__*/_jsx(UserPlusIcon,{className:\"w-5 h-5 mr-2\"}),actionLoading?'Inscription...':'S\\'inscrire']}),event.my_signup&&event.my_signup.status!=='withdrawn'&&/*#__PURE__*/_jsxs(_Fragment,{children:[event.can_checkin&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleCheckin,disabled:actionLoading,className:\"btn-primary flex items-center bg-green-600 hover:bg-green-700\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-5 h-5 mr-2\"}),actionLoading?'Check-in...':'Check-in']}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleWithdraw,disabled:actionLoading,className:\"btn-ghost flex items-center text-red-400 hover:text-red-300 border-red-400 hover:border-red-300\",children:[/*#__PURE__*/_jsx(UserMinusIcon,{className:\"w-5 h-5 mr-2\"}),actionLoading?'Désinscription...':'Se désinscrire']})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDownloadICS,className:\"btn-secondary flex items-center\",children:[/*#__PURE__*/_jsx(DocumentArrowDownIcon,{className:\"w-5 h-5 mr-2\"}),\"T\\xE9l\\xE9charger .ics\"]}),canManage&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/events/\".concat(event.id,\"/edit\"),className:\"btn-secondary flex items-center\",children:\"Modifier l'\\xE9v\\xE9nement\"}),event.state!=='cancelled'&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleCancelEvent,disabled:actionLoading,className:\"btn-ghost flex items-center text-red-400 hover:text-red-300 border-red-400 hover:border-red-300\",children:[/*#__PURE__*/_jsx(XCircleIcon,{className:\"w-5 h-5 mr-2\"}),actionLoading?'Annulation...':'Annuler']})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-white mb-4\",children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-300 leading-relaxed whitespace-pre-wrap\",children:event.description})]}),event.fleet_ships&&event.fleet_ships.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-white mb-4\",children:\"Manifeste de la Flotte\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:event.fleet_ships.map(ship=>/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-white font-semibold flex items-center\",children:[/*#__PURE__*/_jsx(RocketLaunchIcon,{className:\"w-5 h-5 mr-2 text-primary-400\"}),ship.ship_model]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-sm\",children:[\"\\xC9quipage requis: \",ship.required_crew,\" personne\",ship.required_crew>1?'s':'']})]})}),ship.notes&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mt-2 italic\",children:ship.notes})]},ship.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-1\",children:[event.roles&&event.roles.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-4\",children:\"R\\xF4les Disponibles\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:event.roles.map(role=>/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium\",children:role.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm px-2 py-1 rounded \".concat(role.is_full?'bg-red-600 text-white':'bg-green-600 text-white'),children:[role.current_signups,\"/\",role.capacity]})]}),role.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-2\",children:role.description}),role.waitlist_count>0&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-yellow-400 text-sm\",children:[role.waitlist_count,\" en attente\"]}),event.can_signup&&!event.my_signup&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSignup(role.id),disabled:actionLoading,className:\"btn-primary w-full mt-2 text-sm py-1\",children:\"S'inscrire pour ce r\\xF4le\"})]},role.id))})]}),event.my_signup&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-4\",children:\"Mon Inscription\"}),/*#__PURE__*/_jsx(SignupCard,{signup:event.my_signup})]})]})]}),event.signups&&event.signups.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 mt-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold text-white mb-6\",children:[\"Participants (\",event.signups.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:event.signups.map(signup=>/*#__PURE__*/_jsx(SignupCard,{signup:signup},signup.id))})]})]})});};export default EventDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","toast","CalendarDaysIcon","MapPinIcon","UsersIcon","ClockIcon","TagIcon","DocumentArrowDownIcon","UserPlusIcon","UserMinusIcon","CheckCircleIcon","RocketLaunchIcon","XCircleIcon","eventService","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EventDetailPage","_user$roles","_user$roles2","id","event","setEvent","loading","setLoading","actionLoading","setActionLoading","user","isAuthenticated","canManage","created_by","roles","includes","loadEvent","eventData","getEvent","error","console","handleSignup","roleId","arguments","length","undefined","signupForEvent","role_id","notes","ship_model","success","_error$response","_error$response$data","response","data","detail","handleWithdraw","window","confirm","withdrawFromEvent","_error$response2","_error$response2$data","handleCheckin","checkinForEvent","_error$response3","_error$response3$data","handleRemoveParticipant","userId","removeParticipant","_error$response4","_error$response4$data","handleCancelEvent","cancelEvent","_error$response5","_error$response5$data","handleDownloadICS","downloadEventICS","getTypeColor","type","colors","raid","course","pvp","fps","salvaging","logistique","exploration","mining","trading","roleplay","autre","formatEventType","types","SignupCard","_ref","signup","className","children","user_avatar_url","src","alt","user_handle","charAt","toUpperCase","concat","status","position_in_waitlist","role_name","user_id","onClick","disabled","Date","created_at","toLocaleDateString","to","org_id","org_name","org_tag","title","start_at_utc","weekday","year","month","day","hour","minute","duration_minutes","location","confirmed_count","max_participants","signup_count","banner_url","can_signup","is_full","my_signup","can_checkin","state","description","fleet_ships","map","ship","required_crew","role","name","current_signups","capacity","waitlist_count","signups"],"sources":["C:/Users/Knight-Server/Desktop/VerseLink-main/frontend/src/pages/EventDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { \n  CalendarDaysIcon,\n  MapPinIcon,\n  UsersIcon,\n  ClockIcon,\n  TagIcon,\n  DocumentArrowDownIcon,\n  UserPlusIcon,\n  UserMinusIcon,\n  CheckCircleIcon,\n  RocketLaunchIcon,\n  XCircleIcon\n} from '@heroicons/react/24/outline';\nimport { eventService } from '../services/eventService';\nimport { useAuth } from '../App';\n\nconst EventDetailPage = () => {\n  const { id } = useParams();\n  const [event, setEvent] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [actionLoading, setActionLoading] = useState(false);\n  const { user, isAuthenticated } = useAuth();\n\n  const canManage =\n    isAuthenticated &&\n    user &&\n    event &&\n    (user.id === event.created_by ||\n      user.roles?.includes('site_admin') ||\n      user.roles?.includes('org_admin'));\n\n  useEffect(() => {\n    if (id) {\n      loadEvent();\n    }\n  }, [id]);\n\n  const loadEvent = async () => {\n    try {\n      setLoading(true);\n      const eventData = await eventService.getEvent(id);\n      setEvent(eventData);\n    } catch (error) {\n      console.error('Failed to load event:', error);\n      toast.error('Événement non trouvé');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSignup = async (roleId = null) => {\n    if (!isAuthenticated) {\n      toast.error('Vous devez être connecté pour vous inscrire');\n      return;\n    }\n\n    try {\n      setActionLoading(true);\n      await eventService.signupForEvent(event.id, {\n        role_id: roleId,\n        notes: '',\n        ship_model: ''\n      });\n      toast.success('Inscription réussie !');\n      await loadEvent();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors de l\\'inscription');\n      }\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleWithdraw = async () => {\n    if (!window.confirm('Êtes-vous sûr de vouloir vous désinscrire ?')) {\n      return;\n    }\n\n    try {\n      setActionLoading(true);\n      await eventService.withdrawFromEvent(event.id);\n      toast.success('Désinscription réussie');\n      await loadEvent();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors de la désinscription');\n      }\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleCheckin = async () => {\n    try {\n      setActionLoading(true);\n      await eventService.checkinForEvent(event.id);\n      toast.success('Check-in réussi !');\n      await loadEvent();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors du check-in');\n      }\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleRemoveParticipant = async (userId) => {\n    if (!window.confirm('Supprimer ce participant ?')) {\n      return;\n    }\n    try {\n      setActionLoading(true);\n      await eventService.removeParticipant(event.id, userId);\n      toast.success('Participant supprimé');\n      await loadEvent();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error('Erreur lors de la suppression');\n      }\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleCancelEvent = async () => {\n    if (!window.confirm(\"Annuler l'événement ?\")) {\n      return;\n    }\n    try {\n      setActionLoading(true);\n      await eventService.cancelEvent(event.id);\n      toast.success(\"Événement annulé\");\n      await loadEvent();\n    } catch (error) {\n      if (error.response?.data?.detail) {\n        toast.error(error.response.data.detail);\n      } else {\n        toast.error(\"Erreur lors de l'annulation\");\n      }\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleDownloadICS = async () => {\n    try {\n      await eventService.downloadEventICS(event.id);\n      toast.success('Calendrier téléchargé');\n    } catch (error) {\n      toast.error('Erreur lors du téléchargement');\n    }\n  };\n\n  const getTypeColor = (type) => {\n    const colors = {\n      raid: 'bg-red-100 text-red-800',\n      course: 'bg-blue-100 text-blue-800',\n      pvp: 'bg-purple-100 text-purple-800',\n      fps: 'bg-orange-100 text-orange-800',\n      salvaging: 'bg-yellow-100 text-yellow-800',\n      logistique: 'bg-green-100 text-green-800',\n      exploration: 'bg-indigo-100 text-indigo-800',\n      mining: 'bg-amber-100 text-amber-800',\n      trading: 'bg-emerald-100 text-emerald-800',\n      roleplay: 'bg-pink-100 text-pink-800',\n      autre: 'bg-gray-100 text-gray-800'\n    };\n    return colors[type] || colors.autre;\n  };\n\n  const formatEventType = (type) => {\n    const types = {\n      raid: 'Raid',\n      course: 'Course',\n      pvp: 'PvP',\n      fps: 'FPS',\n      salvaging: 'Salvage',\n      logistique: 'Logistique',\n      exploration: 'Exploration',\n      mining: 'Mining',\n      trading: 'Commerce',\n      roleplay: 'Roleplay',\n      autre: 'Autre'\n    };\n    return types[type] || type;\n  };\n\n  const SignupCard = ({ signup }) => (\n    <div className=\"glass-effect rounded-lg p-4 flex items-center\">\n      {signup.user_avatar_url ? (\n        <img\n          src={signup.user_avatar_url}\n          alt={signup.user_handle}\n          className=\"w-10 h-10 rounded-full mr-3\"\n        />\n      ) : (\n        <div className=\"w-10 h-10 bg-dark-600 rounded-full flex items-center justify-center mr-3\">\n          <span className=\"text-white font-bold text-sm\">\n            {signup.user_handle.charAt(0).toUpperCase()}\n          </span>\n        </div>\n      )}\n      \n      <div className=\"flex-1\">\n        <div className=\"flex items-center\">\n          <h4 className=\"text-white font-semibold mr-2\">{signup.user_handle}</h4>\n          <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${\n            signup.status === 'confirmed' \n              ? 'bg-green-100 text-green-800' \n              : signup.status === 'checked_in'\n              ? 'bg-blue-100 text-blue-800'\n              : signup.status === 'waitlist'\n              ? 'bg-yellow-100 text-yellow-800'\n              : 'bg-gray-100 text-gray-800'\n          }`}>\n            {signup.status === 'confirmed' ? 'Confirmé' :\n             signup.status === 'checked_in' ? 'Présent' :\n             signup.status === 'waitlist' ? `Attente #${signup.position_in_waitlist}` :\n             signup.status}\n          </span>\n        </div>\n        \n        <div className=\"flex items-center text-gray-400 text-sm\">\n          {signup.role_name && (\n            <>\n              <span>{signup.role_name}</span>\n              {signup.ship_model && <span className=\"mx-2\">•</span>}\n            </>\n          )}\n          {signup.ship_model && <span>{signup.ship_model}</span>}\n        </div>\n        \n        {signup.notes && (\n          <p className=\"text-gray-400 text-sm mt-1 italic\">\"{signup.notes}\"</p>\n        )}\n      </div>\n      {canManage && signup.user_id !== user?.id && (\n        <button\n          onClick={() => handleRemoveParticipant(signup.user_id)}\n          disabled={actionLoading}\n          className=\"text-red-400 hover:text-red-300 mr-2\"\n        >\n          <UserMinusIcon className=\"w-5 h-5\" />\n        </button>\n      )}\n      <div className=\"text-right text-xs text-gray-500\">\n        {new Date(signup.created_at).toLocaleDateString('fr-FR')}\n      </div>\n    </div>\n  );\n\n  if (loading || !event) {\n    return (\n      <div className=\"min-h-screen bg-dark-950 flex items-center justify-center\">\n        <div className=\"loading-spinner w-12 h-12\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-dark-950 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"glass-effect rounded-2xl p-8 mb-8\">\n          <div className=\"flex flex-col lg:flex-row\">\n            {/* Event Info */}\n            <div className=\"flex-1\">\n              <div className=\"flex items-center mb-4\">\n                <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mr-3 ${getTypeColor(event.type)}`}>\n                  {formatEventType(event.type)}\n                </span>\n                <Link \n                  to={`/organizations/${event.org_id}`}\n                  className=\"text-primary-400 hover:text-primary-300 font-medium\"\n                >\n                  {event.org_name} ({event.org_tag})\n                </Link>\n              </div>\n              \n              <h1 className=\"text-4xl font-bold text-white mb-4 text-shadow\">\n                {event.title}\n              </h1>\n              \n              <div className=\"grid md:grid-cols-2 gap-4 mb-6 text-gray-300\">\n                <div className=\"flex items-center\">\n                  <CalendarDaysIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                  <span>\n                    {new Date(event.start_at_utc).toLocaleDateString('fr-FR', {\n                      weekday: 'long',\n                      year: 'numeric',\n                      month: 'long',\n                      day: 'numeric',\n                      hour: '2-digit',\n                      minute: '2-digit'\n                    })}\n                  </span>\n                </div>\n                \n                <div className=\"flex items-center\">\n                  <ClockIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                  <span>{event.duration_minutes} minutes</span>\n                </div>\n                \n                {event.location && (\n                  <div className=\"flex items-center\">\n                    <MapPinIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                    <span>{event.location}</span>\n                  </div>\n                )}\n                \n                <div className=\"flex items-center\">\n                  <UsersIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                  <span>\n                    {event.confirmed_count}/{event.max_participants || '∞'} confirmés\n                    {event.signup_count > event.confirmed_count && (\n                      <span className=\"text-yellow-400 ml-2\">\n                        (+{event.signup_count - event.confirmed_count} en attente)\n                      </span>\n                    )}\n                  </span>\n                </div>\n              </div>\n            </div>\n            \n            {/* Banner */}\n            {event.banner_url && (\n              <div className=\"lg:ml-8 mt-6 lg:mt-0\">\n                <img\n                  src={event.banner_url}\n                  alt={event.title}\n                  className=\"w-full lg:w-64 h-40 object-cover rounded-xl\"\n                />\n              </div>\n            )}\n          </div>\n          \n          {/* Actions */}\n          <div className=\"flex flex-wrap gap-3 mt-6 pt-6 border-t border-dark-600\">\n            {event.can_signup && (\n              <button\n                onClick={() => handleSignup()}\n                disabled={actionLoading || event.is_full}\n                className=\"btn-primary flex items-center\"\n              >\n                <UserPlusIcon className=\"w-5 h-5 mr-2\" />\n                {actionLoading ? 'Inscription...' : 'S\\'inscrire'}\n              </button>\n            )}\n            \n            {event.my_signup && event.my_signup.status !== 'withdrawn' && (\n              <>\n                {event.can_checkin && (\n                  <button\n                    onClick={handleCheckin}\n                    disabled={actionLoading}\n                    className=\"btn-primary flex items-center bg-green-600 hover:bg-green-700\"\n                  >\n                    <CheckCircleIcon className=\"w-5 h-5 mr-2\" />\n                    {actionLoading ? 'Check-in...' : 'Check-in'}\n                  </button>\n                )}\n                \n                <button\n                  onClick={handleWithdraw}\n                  disabled={actionLoading}\n                  className=\"btn-ghost flex items-center text-red-400 hover:text-red-300 border-red-400 hover:border-red-300\"\n                >\n                  <UserMinusIcon className=\"w-5 h-5 mr-2\" />\n                  {actionLoading ? 'Désinscription...' : 'Se désinscrire'}\n                </button>\n              </>\n            )}\n            \n            <button\n              onClick={handleDownloadICS}\n              className=\"btn-secondary flex items-center\"\n            >\n              <DocumentArrowDownIcon className=\"w-5 h-5 mr-2\" />\n              Télécharger .ics\n            </button>\n            \n            {canManage && (\n              <>\n                <Link\n                  to={`/events/${event.id}/edit`}\n                  className=\"btn-secondary flex items-center\"\n                >\n                  Modifier l'événement\n                </Link>\n                {event.state !== 'cancelled' && (\n                  <button\n                    onClick={handleCancelEvent}\n                    disabled={actionLoading}\n                    className=\"btn-ghost flex items-center text-red-400 hover:text-red-300 border-red-400 hover:border-red-300\"\n                  >\n                    <XCircleIcon className=\"w-5 h-5 mr-2\" />\n                    {actionLoading ? 'Annulation...' : 'Annuler'}\n                  </button>\n                )}\n              </>\n            )}\n          </div>\n        </div>\n\n        <div className=\"grid lg:grid-cols-3 gap-8\">\n          {/* Description */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"card p-6 mb-6\">\n              <h3 className=\"text-2xl font-bold text-white mb-4\">Description</h3>\n              <div className=\"text-gray-300 leading-relaxed whitespace-pre-wrap\">\n                {event.description}\n              </div>\n            </div>\n            \n            {/* Fleet */}\n            {event.fleet_ships && event.fleet_ships.length > 0 && (\n              <div className=\"card p-6 mb-6\">\n                <h3 className=\"text-2xl font-bold text-white mb-4\">\n                  Manifeste de la Flotte\n                </h3>\n                \n                <div className=\"grid gap-4\">\n                  {event.fleet_ships.map((ship) => (\n                    <div key={ship.id} className=\"glass-effect rounded-lg p-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <h4 className=\"text-white font-semibold flex items-center\">\n                            <RocketLaunchIcon className=\"w-5 h-5 mr-2 text-primary-400\" />\n                            {ship.ship_model}\n                          </h4>\n                          <p className=\"text-gray-400 text-sm\">\n                            Équipage requis: {ship.required_crew} personne{ship.required_crew > 1 ? 's' : ''}\n                          </p>\n                        </div>\n                      </div>\n                      {ship.notes && (\n                        <p className=\"text-gray-400 text-sm mt-2 italic\">\n                          {ship.notes}\n                        </p>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"lg:col-span-1\">\n            {/* Roles */}\n            {event.roles && event.roles.length > 0 && (\n              <div className=\"card p-6 mb-6\">\n                <h3 className=\"text-xl font-bold text-white mb-4\">\n                  Rôles Disponibles\n                </h3>\n                \n                <div className=\"space-y-3\">\n                  {event.roles.map((role) => (\n                    <div key={role.id} className=\"glass-effect rounded-lg p-3\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <h4 className=\"text-white font-medium\">{role.name}</h4>\n                        <span className={`text-sm px-2 py-1 rounded ${\n                          role.is_full ? 'bg-red-600 text-white' : 'bg-green-600 text-white'\n                        }`}>\n                          {role.current_signups}/{role.capacity}\n                        </span>\n                      </div>\n                      \n                      {role.description && (\n                        <p className=\"text-gray-400 text-sm mb-2\">{role.description}</p>\n                      )}\n                      \n                      {role.waitlist_count > 0 && (\n                        <p className=\"text-yellow-400 text-sm\">\n                          {role.waitlist_count} en attente\n                        </p>\n                      )}\n                      \n                      {event.can_signup && !event.my_signup && (\n                        <button\n                          onClick={() => handleSignup(role.id)}\n                          disabled={actionLoading}\n                          className=\"btn-primary w-full mt-2 text-sm py-1\"\n                        >\n                          S'inscrire pour ce rôle\n                        </button>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n            \n            {/* My Signup Status */}\n            {event.my_signup && (\n              <div className=\"card p-6 mb-6\">\n                <h3 className=\"text-xl font-bold text-white mb-4\">Mon Inscription</h3>\n                <SignupCard signup={event.my_signup} />\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Participants */}\n        {event.signups && event.signups.length > 0 && (\n          <div className=\"card p-6 mt-6\">\n            <h3 className=\"text-2xl font-bold text-white mb-6\">\n              Participants ({event.signups.length})\n            </h3>\n            \n            <div className=\"grid gap-4\">\n              {event.signups.map((signup) => (\n                <SignupCard key={signup.id} signup={signup} />\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default EventDetailPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}